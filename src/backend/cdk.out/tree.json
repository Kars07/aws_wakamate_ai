{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.230.0"},"children":{"dev":{"id":"dev","path":"dev","constructInfo":{"fqn":"aws-cdk-lib.Stage","version":"2.230.0"},"children":{"backend":{"id":"backend","path":"dev/backend","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.230.0"},"children":{"auth":{"id":"auth","path":"dev/backend/auth","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"userPool":{"id":"userPool","path":"dev/backend/auth/userPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPool","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/auth/userPool/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPool","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPool","aws:cdk:cloudformation:props":{"accountRecoverySetting":{"recoveryMechanisms":[{"name":"verified_email","priority":1}]},"adminCreateUserConfig":{"allowAdminCreateUserOnly":true},"aliasAttributes":["email"],"autoVerifiedAttributes":["email"],"emailVerificationMessage":"The verification code to your new account is {####}","emailVerificationSubject":"Verify your new account","policies":{"passwordPolicy":{"minimumLength":8,"requireLowercase":true,"requireUppercase":true,"requireNumbers":true,"requireSymbols":true}},"schema":[{"name":"email","mutable":true,"required":true}],"smsVerificationMessage":"The verification code to your new account is {####}","userPoolTier":"ESSENTIALS","verificationMessageTemplate":{"defaultEmailOption":"CONFIRM_WITH_CODE","emailMessage":"The verification code to your new account is {####}","emailSubject":"Verify your new account","smsMessage":"The verification code to your new account is {####}"}}}},"userPoolDomain":{"id":"userPoolDomain","path":"dev/backend/auth/userPool/userPoolDomain","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolDomain","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/auth/userPool/userPoolDomain/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolDomain","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolDomain","aws:cdk:cloudformation:props":{"domain":"wakamate-024230653186","userPoolId":{"Ref":"authuserPoolE16D54A3"}}}}}}}},"adminUserPoolGroup":{"id":"adminUserPoolGroup","path":"dev/backend/auth/adminUserPoolGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolGroup","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/auth/adminUserPoolGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolGroup","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolGroup","aws:cdk:cloudformation:props":{"groupName":"Admin","userPoolId":{"Ref":"authuserPoolE16D54A3"}}}}}},"usersUserPoolGroup":{"id":"usersUserPoolGroup","path":"dev/backend/auth/usersUserPoolGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolGroup","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/auth/usersUserPoolGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolGroup","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolGroup","aws:cdk:cloudformation:props":{"groupName":"Users","userPoolId":{"Ref":"authuserPoolE16D54A3"}}}}}},"userPoolClient":{"id":"userPoolClient","path":"dev/backend/auth/userPoolClient","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolClient","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/auth/userPoolClient/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolClient","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolClient","aws:cdk:cloudformation:props":{"accessTokenValidity":480,"allowedOAuthFlows":["implicit","code"],"allowedOAuthFlowsUserPoolClient":true,"allowedOAuthScopes":["profile","phone","email","openid","aws.cognito.signin.user.admin"],"callbackUrLs":["http://localhost:3000"],"explicitAuthFlows":["ALLOW_USER_PASSWORD_AUTH","ALLOW_ADMIN_USER_PASSWORD_AUTH","ALLOW_USER_SRP_AUTH","ALLOW_REFRESH_TOKEN_AUTH"],"generateSecret":false,"idTokenValidity":480,"logoutUrLs":["http://localhost:3000"],"readAttributes":["email"],"refreshTokenValidity":480,"supportedIdentityProviders":["COGNITO"],"tokenValidityUnits":{"idToken":"minutes","accessToken":"minutes","refreshToken":"minutes"},"userPoolId":{"Ref":"authuserPoolE16D54A3"}}}}}},"identityPool":{"id":"identityPool","path":"dev/backend/auth/identityPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnIdentityPool","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::IdentityPool","aws:cdk:cloudformation:props":{"allowUnauthenticatedIdentities":true,"cognitoIdentityProviders":[{"clientId":{"Ref":"authuserPoolClientC35B193B"},"providerName":{"Fn::GetAtt":["authuserPoolE16D54A3","ProviderName"]}}]}}},"authenticatedRole":{"id":"authenticatedRole","path":"dev/backend/auth/authenticatedRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportauthenticatedRole":{"id":"ImportauthenticatedRole","path":"dev/backend/auth/authenticatedRole/ImportauthenticatedRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/auth/authenticatedRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRoleWithWebIdentity","Condition":{"StringEquals":{"cognito-identity.amazonaws.com:aud":{"Ref":"authidentityPoolDFB34BBD"}},"ForAnyValue:StringLike":{"cognito-identity.amazonaws.com:amr":"authenticated"}},"Effect":"Allow","Principal":{"Federated":"cognito-identity.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev/backend/auth/authenticatedRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/auth/authenticatedRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["storagestructuredDataBucket4F778E05","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["storagestructuredDataBucket4F778E05","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"authauthenticatedRoleDefaultPolicy90BA556F","roles":[{"Ref":"authauthenticatedRole0C8BFD60"}]}}}}}}},"unauthenticatedRole":{"id":"unauthenticatedRole","path":"dev/backend/auth/unauthenticatedRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportunauthenticatedRole":{"id":"ImportunauthenticatedRole","path":"dev/backend/auth/unauthenticatedRole/ImportunauthenticatedRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/auth/unauthenticatedRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRoleWithWebIdentity","Condition":{"StringEquals":{"cognito-identity.amazonaws.com:aud":{"Ref":"authidentityPoolDFB34BBD"}},"ForAnyValue:StringLike":{"cognito-identity.amazonaws.com:amr":"unauthenticated"}},"Effect":"Allow","Principal":{"Federated":"cognito-identity.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev/backend/auth/unauthenticatedRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/auth/unauthenticatedRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["cloudfront:*GetDistribution*","s3:GetObject"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"authunauthenticatedRoleDefaultPolicyA8987359","roles":[{"Ref":"authunauthenticatedRoleB4352B95"}]}}}}}}},"identityPoolRoleAttachment":{"id":"identityPoolRoleAttachment","path":"dev/backend/auth/identityPoolRoleAttachment","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnIdentityPoolRoleAttachment","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::IdentityPoolRoleAttachment","aws:cdk:cloudformation:props":{"identityPoolId":{"Ref":"authidentityPoolDFB34BBD"},"roles":{"authenticated":{"Fn::GetAtt":["authauthenticatedRole0C8BFD60","Arn"]},"unauthenticated":{"Fn::GetAtt":["authunauthenticatedRoleB4352B95","Arn"]}}}}},"regionalWebAcl":{"id":"regionalWebAcl","path":"dev/backend/auth/regionalWebAcl","constructInfo":{"fqn":"aws-cdk-lib.aws_wafv2.CfnWebACL","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::WAFv2::WebACL","aws:cdk:cloudformation:props":{"defaultAction":{"allow":{}},"rules":[{"name":"ipRateLimitingRule","priority":0,"statement":{"rateBasedStatement":{"limit":3000,"aggregateKeyType":"IP"}},"action":{"block":{}},"visibilityConfig":{"sampledRequestsEnabled":true,"cloudWatchMetricsEnabled":true,"metricName":"ipRateLimitingRule"}},{"name":"regional-AWSManagedRulesCommonRuleSet","priority":1,"overrideAction":{"count":{}},"statement":{"managedRuleGroupStatement":{"vendorName":"AWS","name":"AWSManagedRulesCommonRuleSet"}},"visibilityConfig":{"metricName":"regional-AWSManagedRulesCommonRuleSet","sampledRequestsEnabled":true,"cloudWatchMetricsEnabled":true}},{"name":"regional-AWSManagedRulesBotControlRuleSet","priority":2,"overrideAction":{"count":{}},"statement":{"managedRuleGroupStatement":{"vendorName":"AWS","name":"AWSManagedRulesBotControlRuleSet"}},"visibilityConfig":{"metricName":"regional-AWSManagedRulesBotControlRuleSet","sampledRequestsEnabled":true,"cloudWatchMetricsEnabled":true}},{"name":"regional-AWSManagedRulesKnownBadInputsRuleSet","priority":3,"overrideAction":{"none":{}},"statement":{"managedRuleGroupStatement":{"vendorName":"AWS","name":"AWSManagedRulesKnownBadInputsRuleSet"}},"visibilityConfig":{"metricName":"regional-AWSManagedRulesKnownBadInputsRuleSet","sampledRequestsEnabled":true,"cloudWatchMetricsEnabled":true}},{"name":"regional-AWSManagedRulesUnixRuleSet","priority":4,"overrideAction":{"none":{}},"statement":{"managedRuleGroupStatement":{"vendorName":"AWS","name":"AWSManagedRulesUnixRuleSet","ruleActionOverrides":[{"name":"UNIXShellCommandsVariables_BODY","actionToUse":{"count":{}}}]}},"visibilityConfig":{"metricName":"regional-AWSManagedRulesUnixRuleSet","sampledRequestsEnabled":true,"cloudWatchMetricsEnabled":true}},{"name":"regional-AWSManagedRulesSQLiRuleSet","priority":5,"overrideAction":{"none":{}},"statement":{"managedRuleGroupStatement":{"vendorName":"AWS","name":"AWSManagedRulesSQLiRuleSet","ruleActionOverrides":[{"name":"SQLi_BODY","actionToUse":{"count":{}}}]}},"visibilityConfig":{"metricName":"regional-AWSManagedRulesSQLiRuleSet","sampledRequestsEnabled":true,"cloudWatchMetricsEnabled":true}}],"scope":"REGIONAL","visibilityConfig":{"metricName":"regionalWebAcl","sampledRequestsEnabled":true,"cloudWatchMetricsEnabled":true}}}},"userPoolWebAclAssociation":{"id":"userPoolWebAclAssociation","path":"dev/backend/auth/userPoolWebAclAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_wafv2.CfnWebACLAssociation","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::WAFv2::WebACLAssociation","aws:cdk:cloudformation:props":{"resourceArn":{"Fn::GetAtt":["authuserPoolE16D54A3","Arn"]},"webAclArn":{"Fn::GetAtt":["authregionalWebAcl26CB3F94","Arn"]}}}}}},"storage":{"id":"storage","path":"dev/backend/storage","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"loggingBucket":{"id":"loggingBucket","path":"dev/backend/storage/loggingBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/storage/loggingBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"loggingConfiguration":{"logFilePrefix":"loggingBucket/"},"ownershipControls":{"rules":[{"objectOwnership":"BucketOwnerPreferred"}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"}]}}},"Policy":{"id":"Policy","path":"dev/backend/storage/loggingBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/storage/loggingBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"storageloggingBucket197C4DEC"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["storageloggingBucket197C4DEC","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["storageloggingBucket197C4DEC","Arn"]},"/*"]]}]},{"Action":"s3:PutObject","Condition":{"ArnLike":{"aws:SourceArn":{"Fn::GetAtt":["storageloggingBucket197C4DEC","Arn"]}},"StringEquals":{"aws:SourceAccount":"024230653186"}},"Effect":"Allow","Principal":{"Service":"logging.s3.amazonaws.com"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["storageloggingBucket197C4DEC","Arn"]},"/loggingBucket/*"]]}},{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["storageloggingBucket197C4DEC","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["storageloggingBucket197C4DEC","Arn"]},"/*"]]}]},{"Action":"s3:PutObject","Condition":{"ArnLike":{"aws:SourceArn":{"Fn::GetAtt":["storagestructuredDataBucket4F778E05","Arn"]}},"StringEquals":{"aws:SourceAccount":"024230653186"}},"Effect":"Allow","Principal":{"Service":"logging.s3.amazonaws.com"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["storageloggingBucket197C4DEC","Arn"]},"/structuredDataBucket/*"]]}}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"dev/backend/storage/loggingBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.230.0","metadata":[]},"children":{"Default":{"id":"Default","path":"dev/backend/storage/loggingBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}}}},"structuredDataBucket":{"id":"structuredDataBucket","path":"dev/backend/storage/structuredDataBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/storage/structuredDataBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"corsConfiguration":{"corsRules":[{"maxAge":3000,"allowedHeaders":["*"],"allowedMethods":["GET","POST","PUT","HEAD","DELETE"],"allowedOrigins":["http://localhost:3000"],"exposedHeaders":["x-amz-server-side-encryption","x-amz-request-id","x-amz-id-2","ETag","x-amz-meta-foo"]}]},"loggingConfiguration":{"destinationBucketName":{"Ref":"storageloggingBucket197C4DEC"},"logFilePrefix":"structuredDataBucket/"},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"}]}}},"Policy":{"id":"Policy","path":"dev/backend/storage/structuredDataBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/storage/structuredDataBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"storagestructuredDataBucket4F778E05"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["storagestructuredDataBucket4F778E05","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["storagestructuredDataBucket4F778E05","Arn"]},"/*"]]}]},{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["storagestructuredDataBucket4F778E05","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["storagestructuredDataBucket4F778E05","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"dev/backend/storage/structuredDataBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.230.0","metadata":[]},"children":{"Default":{"id":"Default","path":"dev/backend/storage/structuredDataBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}},"Notifications":{"id":"Notifications","path":"dev/backend/storage/structuredDataBucket/Notifications","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Resource":{"id":"Resource","path":"dev/backend/storage/structuredDataBucket/Notifications/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"dev/backend/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.230.0"},"children":{"Staging":{"id":"Staging","path":"dev/backend/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"Role":{"id":"Role","path":"dev/backend/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}},"Handler":{"id":"Handler","path":"dev/backend/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}},"BucketNotificationsHandler050a0587b7544547bf325f094a3db834":{"id":"BucketNotificationsHandler050a0587b7544547bf325f094a3db834","path":"dev/backend/BucketNotificationsHandler050a0587b7544547bf325f094a3db834","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Role":{"id":"Role","path":"dev/backend/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"dev/backend/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev/backend/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"s3:PutBucketNotification","Effect":"Allow","Resource":{"Fn::GetAtt":["storagestructuredDataBucket4F778E05","Arn"]}}],"Version":"2012-10-17"},"policyName":"BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36","roles":[{"Ref":"BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC"}]}}}}}}},"Resource":{"id":"Resource","path":"dev/backend/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}},"wakamateMultiAgent":{"id":"wakamateMultiAgent","path":"dev/backend/wakamateMultiAgent","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"loggingBucket":{"id":"loggingBucket","path":"dev/backend/wakamateMultiAgent/loggingBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/loggingBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"loggingConfiguration":{"logFilePrefix":"loggingBucket/"},"ownershipControls":{"rules":[{"objectOwnership":"BucketOwnerPreferred"}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"}]}}},"Policy":{"id":"Policy","path":"dev/backend/wakamateMultiAgent/loggingBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/loggingBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"wakamateMultiAgentloggingBucket1DE5092E"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["wakamateMultiAgentloggingBucket1DE5092E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["wakamateMultiAgentloggingBucket1DE5092E","Arn"]},"/*"]]}]},{"Action":"s3:PutObject","Condition":{"ArnLike":{"aws:SourceArn":{"Fn::GetAtt":["wakamateMultiAgentloggingBucket1DE5092E","Arn"]}},"StringEquals":{"aws:SourceAccount":"024230653186"}},"Effect":"Allow","Principal":{"Service":"logging.s3.amazonaws.com"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["wakamateMultiAgentloggingBucket1DE5092E","Arn"]},"/loggingBucket/*"]]}},{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["wakamateMultiAgentloggingBucket1DE5092E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["wakamateMultiAgentloggingBucket1DE5092E","Arn"]},"/*"]]}]},{"Action":"s3:PutObject","Condition":{"ArnLike":{"aws:SourceArn":{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBucket1B5D9BDB","Arn"]}},"StringEquals":{"aws:SourceAccount":"024230653186"}},"Effect":"Allow","Principal":{"Service":"logging.s3.amazonaws.com"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["wakamateMultiAgentloggingBucket1DE5092E","Arn"]},"/deliveryKnowledgeBucket/*"]]}},{"Action":"s3:PutObject","Condition":{"ArnLike":{"aws:SourceArn":{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBucketE1F09CD0","Arn"]}},"StringEquals":{"aws:SourceAccount":"024230653186"}},"Effect":"Allow","Principal":{"Service":"logging.s3.amazonaws.com"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["wakamateMultiAgentloggingBucket1DE5092E","Arn"]},"/captionKnowledgeBucket/*"]]}},{"Action":"s3:PutObject","Condition":{"ArnLike":{"aws:SourceArn":{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventoryKnowledgeBucketC1AE0875","Arn"]}},"StringEquals":{"aws:SourceAccount":"024230653186"}},"Effect":"Allow","Principal":{"Service":"logging.s3.amazonaws.com"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["wakamateMultiAgentloggingBucket1DE5092E","Arn"]},"/inventoryKnowledgeBucket/*"]]}}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"dev/backend/wakamateMultiAgent/loggingBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.230.0","metadata":[]},"children":{"Default":{"id":"Default","path":"dev/backend/wakamateMultiAgent/loggingBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}}}},"apiExecutorFunctionPowertoolsLayer":{"id":"apiExecutorFunctionPowertoolsLayer","path":"dev/backend/wakamateMultiAgent/apiExecutorFunctionPowertoolsLayer","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"apiExecutorFunction":{"id":"apiExecutorFunction","path":"dev/backend/wakamateMultiAgent/apiExecutorFunction","constructInfo":{"fqn":"@aws-cdk/aws-lambda-python-alpha.PythonFunction","version":"2.187.0-alpha.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"dev/backend/wakamateMultiAgent/apiExecutorFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"dev/backend/wakamateMultiAgent/apiExecutorFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/apiExecutorFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev/backend/wakamateMultiAgent/apiExecutorFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/apiExecutorFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"secretsmanager:GetSecretValue","Effect":"Allow","Resource":"*"},{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["storagestructuredDataBucket4F778E05","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["storagestructuredDataBucket4F778E05","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"wakamateMultiAgentapiExecutorFunctionServiceRoleDefaultPolicy33450280","roles":[{"Ref":"wakamateMultiAgentapiExecutorFunctionServiceRole26048F26"}]}}}}}}},"Code":{"id":"Code","path":"dev/backend/wakamateMultiAgent/apiExecutorFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/wakamateMultiAgent/apiExecutorFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/wakamateMultiAgent/apiExecutorFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/apiExecutorFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"architectures":["x86_64"],"code":{"s3Bucket":"cdk-hnb659fds-assets-024230653186-us-east-1","s3Key":"2827be89db2222891b4c5ae91d5cc9a0e47d8fee921c3a2b001b6f04b590334a.zip"},"environment":{"variables":{"WAKAMATE_API_BASE_URL":"http://localhost:1050","WAKAMATE_AUTH_TOKEN":""}},"handler":"index.handler","layers":["arn:aws:lambda:us-east-1:017000801446:layer:AWSLambdaPowertoolsPythonV2:48"],"memorySize":1024,"role":{"Fn::GetAtt":["wakamateMultiAgentapiExecutorFunctionServiceRole26048F26","Arn"]},"runtime":"python3.12","timeout":300}}},"LogRetention":{"id":"LogRetention","path":"dev/backend/wakamateMultiAgent/apiExecutorFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.230.0"},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/apiExecutorFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}},"LogGroup":{"id":"LogGroup","path":"dev/backend/wakamateMultiAgent/apiExecutorFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"LambdaInvocationPolicy-c8fe461b7449418e":{"id":"LambdaInvocationPolicy-c8fe461b7449418e","path":"dev/backend/wakamateMultiAgent/apiExecutorFunction/LambdaInvocationPolicy-c8fe461b7449418e","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["wakamateMultiAgentapiExecutorFunction3B9341C6","Arn"]},"principal":"bedrock.amazonaws.com","sourceAccount":"024230653186"}}},"LambdaInvocationPolicy-c802eadb3adea9fb":{"id":"LambdaInvocationPolicy-c802eadb3adea9fb","path":"dev/backend/wakamateMultiAgent/apiExecutorFunction/LambdaInvocationPolicy-c802eadb3adea9fb","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["wakamateMultiAgentapiExecutorFunction3B9341C6","Arn"]},"principal":"bedrock.amazonaws.com","sourceAccount":"024230653186"}}},"LambdaInvocationPolicy-c80cc89a2788f972":{"id":"LambdaInvocationPolicy-c80cc89a2788f972","path":"dev/backend/wakamateMultiAgent/apiExecutorFunction/LambdaInvocationPolicy-c80cc89a2788f972","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["wakamateMultiAgentapiExecutorFunction3B9341C6","Arn"]},"principal":"bedrock.amazonaws.com","sourceAccount":"024230653186"}}}}},"deliveryRouteSubAgent":{"id":"deliveryRouteSubAgent","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"deliveryKnowledgeBase":{"id":"deliveryKnowledgeBase","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeBase","constructInfo":{"fqn":"@cdklabs/generative-ai-cdk-constructs.bedrock.VectorKnowledgeBase","version":"0.1.312","metadata":[]},"children":{"Role":{"id":"Role","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeBase/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeBase/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeBase/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Condition":{"StringEquals":{"aws:SourceAccount":"024230653186"},"ArnLike":{"aws:SourceArn":"arn:aws:bedrock:us-east-1:024230653186:knowledge-base/*"}},"Effect":"Allow","Principal":{"Service":"bedrock.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Ref":"wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBaseKBVectorsAOSSApiAccessAllF04272E0"}],"roleName":"AmazonBedrockExecutionRoleForKnowledgeBasedevbackdgeBaseA5F913A3"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeBase/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeBase/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["bedrock:GetFoundationModel","bedrock:InvokeModel*"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]}},{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBucket1B5D9BDB","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBucket1B5D9BDB","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBaseRoleDefaultPolicyEBB2279E","roles":[{"Ref":"wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBaseRole89641E53"}]}}}}}}},"KBVectors":{"id":"KBVectors","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeBase/KBVectors","constructInfo":{"fqn":"@cdklabs/generative-ai-cdk-constructs.opensearchserverless.VectorCollection","version":"0.1.312","metadata":[]},"children":{"EncryptionPolicy":{"id":"EncryptionPolicy","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeBase/KBVectors/EncryptionPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_opensearchserverless.CfnSecurityPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::OpenSearchServerless::SecurityPolicy","aws:cdk:cloudformation:props":{"name":"encryptionpolicydevbtors586a1d8b","policy":"{\"Rules\":[{\"ResourceType\":\"collection\",\"Resource\":[\"collection/vectorstoredevbacectors586a1d8b\"]}],\"AWSOwnedKey\":true}","type":"encryption"}}},"NetworkPolicy":{"id":"NetworkPolicy","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeBase/KBVectors/NetworkPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_opensearchserverless.CfnSecurityPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::OpenSearchServerless::SecurityPolicy","aws:cdk:cloudformation:props":{"name":"networkpolicydevbactors586a1d8b","policy":"[{\"Rules\":[{\"ResourceType\":\"collection\",\"Resource\":[\"collection/vectorstoredevbacectors586a1d8b\"]},{\"ResourceType\":\"dashboard\",\"Resource\":[\"collection/vectorstoredevbacectors586a1d8b\"]}],\"AllowFromPublic\":true}]","type":"network"}}},"VectorCollection":{"id":"VectorCollection","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeBase/KBVectors/VectorCollection","constructInfo":{"fqn":"aws-cdk-lib.aws_opensearchserverless.CfnCollection","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::OpenSearchServerless::Collection","aws:cdk:cloudformation:props":{"name":"vectorstoredevbacectors586a1d8b","standbyReplicas":"ENABLED","tags":[{"key":"Name","value":"vectorstoredevbacectors586a1d8b"},{"key":"Type","value":"VectorCollection"}],"type":"VECTORSEARCH"}}},"AOSSApiAccessAll":{"id":"AOSSApiAccessAll","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeBase/KBVectors/AOSSApiAccessAll","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.ManagedPolicy","version":"2.230.0","metadata":[]},"children":{"ImportedAOSSApiAccessAll":{"id":"ImportedAOSSApiAccessAll","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeBase/KBVectors/AOSSApiAccessAll/ImportedAOSSApiAccessAll","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeBase/KBVectors/AOSSApiAccessAll/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnManagedPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::ManagedPolicy","aws:cdk:cloudformation:props":{"description":"","path":"/","policyDocument":{"Statement":[{"Action":"aoss:APIAccessAll","Effect":"Allow","Resource":{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBaseKBVectorsVectorCollectionC9C8EF90","Arn"]}}],"Version":"2012-10-17"}}}}}},"IsDataAccessPolicyNotEmpty":{"id":"IsDataAccessPolicyNotEmpty","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeBase/KBVectors/IsDataAccessPolicyNotEmpty","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.230.0"}},"DataAccessPolicy":{"id":"DataAccessPolicy","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeBase/KBVectors/DataAccessPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_opensearchserverless.CfnAccessPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::OpenSearchServerless::AccessPolicy","aws:cdk:cloudformation:props":{"name":"dataaccesspolicydevbtors586a1d8b","policy":{"Fn::Join":["",["[{\"Rules\":[{\"Resource\":[\"collection/vectorstoredevbacectors586a1d8b\"],\"Permission\":[\"aoss:DescribeCollectionItems\",\"aoss:CreateCollectionItems\",\"aoss:UpdateCollectionItems\"],\"ResourceType\":\"collection\"},{\"Resource\":[\"index/vectorstoredevbacectors586a1d8b/*\"],\"Permission\":[\"aoss:UpdateIndex\",\"aoss:DescribeIndex\",\"aoss:ReadDocument\",\"aoss:WriteDocument\",\"aoss:CreateIndex\"],\"ResourceType\":\"index\"}],\"Principal\":[\"",{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBaseRole89641E53","Arn"]},"\"],\"Description\":\"\"}]"]]},"type":"data"}}}}},"KBIndex":{"id":"KBIndex","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeBase/KBIndex","constructInfo":{"fqn":"@cdklabs/generative-ai-cdk-constructs.opensearch_vectorindex.VectorIndex","version":"0.1.312","metadata":[]},"children":{"ManageIndexPolicy":{"id":"ManageIndexPolicy","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeBase/KBIndex/ManageIndexPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_opensearchserverless.CfnAccessPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::OpenSearchServerless::AccessPolicy","aws:cdk:cloudformation:props":{"name":"manageindexpolicydevdexa2b6035a","policy":{"Fn::Join":["",["[{\"Rules\":[{\"Resource\":[\"index/vectorstoredevbacectors586a1d8b/*\"],\"Permission\":[\"aoss:DescribeIndex\",\"aoss:CreateIndex\",\"aoss:DeleteIndex\",\"aoss:UpdateIndex\"],\"ResourceType\":\"index\"},{\"Resource\":[\"collection/vectorstoredevbacectors586a1d8b\"],\"Permission\":[\"aoss:DescribeCollectionItems\"],\"ResourceType\":\"collection\"}],\"Principal\":[\"",{"Fn::GetAtt":["OpenSearchIndexCRProviderCRRole466FC04E","Arn"]},"\"],\"Description\":\"\"}]"]]},"type":"data"}}},"VectorIndex":{"id":"VectorIndex","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeBase/KBIndex/VectorIndex","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.230.0","metadata":[]},"children":{"Default":{"id":"Default","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeBase/KBIndex/VectorIndex/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}}}},"MyCfnKnowledgeBase":{"id":"MyCfnKnowledgeBase","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeBase/MyCfnKnowledgeBase","constructInfo":{"fqn":"aws-cdk-lib.aws_bedrock.CfnKnowledgeBase","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Bedrock::KnowledgeBase","aws:cdk:cloudformation:props":{"knowledgeBaseConfiguration":{"type":"VECTOR","vectorKnowledgeBaseConfiguration":{"embeddingModelArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]},"embeddingModelConfiguration":{"bedrockEmbeddingModelConfiguration":{"dimensions":1024,"embeddingDataType":"FLOAT32"}}}},"name":"KBdevbackendwowledgeBaseA5F913A3","roleArn":{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBaseRole89641E53","Arn"]},"storageConfiguration":{"type":"OPENSEARCH_SERVERLESS","opensearchServerlessConfiguration":{"collectionArn":{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBaseKBVectorsVectorCollectionC9C8EF90","Arn"]},"fieldMapping":{"vectorField":"bedrock-knowledge-base-default-vector","textField":"AMAZON_BEDROCK_TEXT_CHUNK","metadataField":"AMAZON_BEDROCK_METADATA"},"vectorIndexName":"bedrock-knowledge-base-default-index"}}}}},"KBCRPolicy":{"id":"KBCRPolicy","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeBase/KBCRPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeBase/KBCRPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"bedrock:CreateKnowledgeBase","Effect":"Allow","Resource":"*"},{"Action":["bedrock:DeleteKnowledgeBase","bedrock:TagResource","bedrock:UpdateKnowledgeBase"],"Effect":"Allow","Resource":"arn:aws:bedrock:us-east-1:024230653186:knowledge-base/*"},{"Action":"iam:PassRole","Effect":"Allow","Resource":{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBaseRole89641E53","Arn"]}}],"Version":"2012-10-17"},"policyName":"wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBaseKBCRPolicyF9DEFDAA","roles":[{"Ref":"wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBaseRole89641E53"}]}}}}}}},"deliveryKnowledgeBucket":{"id":"deliveryKnowledgeBucket","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"loggingConfiguration":{"destinationBucketName":{"Ref":"wakamateMultiAgentloggingBucket1DE5092E"},"logFilePrefix":"deliveryKnowledgeBucket/"},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"},{"key":"aws-cdk:cr-owned:79fc994d","value":"true"}]}}},"Policy":{"id":"Policy","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBucket1B5D9BDB"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBucket1B5D9BDB","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBucket1B5D9BDB","Arn"]},"/*"]]}]},{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBucket1B5D9BDB","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBucket1B5D9BDB","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.230.0","metadata":[]},"children":{"Default":{"id":"Default","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}}}},"deliveryKnowledgeSource":{"id":"deliveryKnowledgeSource","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeSource","constructInfo":{"fqn":"@cdklabs/generative-ai-cdk-constructs.bedrock.S3DataSource","version":"0.1.312","metadata":[]},"children":{"DataSource":{"id":"DataSource","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeSource/DataSource","constructInfo":{"fqn":"aws-cdk-lib.aws_bedrock.CfnDataSource","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Bedrock::DataSource","aws:cdk:cloudformation:props":{"dataSourceConfiguration":{"type":"S3","s3Configuration":{"bucketArn":{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBucket1B5D9BDB","Arn"]}}},"knowledgeBaseId":{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBaseMyCfnKnowledgeBase80493969","KnowledgeBaseId"]},"name":"delivery-optimization-data"}}}}},"deliveryIngestionRule":{"id":"deliveryIngestionRule","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryIngestionRule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryIngestionRule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"eventPattern":{"source":["aws.s3"],"detail":{"bucket":{"name":[{"Ref":"wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBucket1B5D9BDB"}]}}},"state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["AWSb4cf1abd4e4f4bc699441af7ccd9ec371511E620","Arn"]},"input":{"Fn::Join":["",["{\"service\":\"bedrock-agent\",\"action\":\"startIngestionJob\",\"parameters\":{\"knowledgeBaseId\":\"",{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBaseMyCfnKnowledgeBase80493969","KnowledgeBaseId"]},"\",\"dataSourceId\":\"",{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeSourceDataSourceAB6DAA89","DataSourceId"]},"\"}}"]]}}]}}},"deliveryIngestionRuleTarget0Handler":{"id":"deliveryIngestionRuleTarget0Handler","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryIngestionRule/deliveryIngestionRuleTarget0Handler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.230.0","metadata":[]}},"AllowEventRuledevbackendwakamateMultiAgentdeliveryRouteSubAgentdeliveryIngestionRuledeliveryIngestionRuleTarget0HandlerC92F9860":{"id":"AllowEventRuledevbackendwakamateMultiAgentdeliveryRouteSubAgentdeliveryIngestionRuledeliveryIngestionRuleTarget0HandlerC92F9860","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryIngestionRule/AllowEventRuledevbackendwakamateMultiAgentdeliveryRouteSubAgentdeliveryIngestionRuledeliveryIngestionRuleTarget0HandlerC92F9860","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AWSb4cf1abd4e4f4bc699441af7ccd9ec371511E620","Arn"]},"principal":"events.amazonaws.com","sourceArn":{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliveryIngestionRule625EFA8B","Arn"]}}}}}},"deliveryKnowledgeDeployment":{"id":"deliveryKnowledgeDeployment","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeDeployment","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_deployment.BucketDeployment","version":"2.230.0"},"children":{"AwsCliLayer":{"id":"AwsCliLayer","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeDeployment/AwsCliLayer","constructInfo":{"fqn":"aws-cdk-lib.lambda_layer_awscli.AwsCliLayer","version":"2.230.0","metadata":[]},"children":{"Code":{"id":"Code","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeDeployment/AwsCliLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeDeployment/AwsCliLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeDeployment/AwsCliLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeDeployment/AwsCliLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"content":{"s3Bucket":"cdk-hnb659fds-assets-024230653186-us-east-1","s3Key":"c49d356cac773d491c5f7ac148995a1181498a8e289429f8612a7f7e3814f535.zip"},"description":"/opt/awscli/aws"}}}}},"CustomResourceHandler":{"id":"CustomResourceHandler","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeDeployment/CustomResourceHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.230.0","metadata":[]}},"Asset1":{"id":"Asset1","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeDeployment/Asset1","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeDeployment/Asset1/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeDeployment/Asset1/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"CustomResource":{"id":"CustomResource","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeDeployment/CustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.230.0","metadata":[]},"children":{"Default":{"id":"Default","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryKnowledgeDeployment/CustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}}}},"deliveryInitialIngestion":{"id":"deliveryInitialIngestion","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryInitialIngestion","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryInitialIngestion/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"eventPattern":{"source":["aws.cloudformation"],"detail-type":["CloudFormation Resource Status Change"],"detail":{"resourceType":["AWS::S3::BucketDeployment"],"resourceStatus":["CREATE_COMPLETE","UPDATE_COMPLETE"],"logicalResourceId":["deliveryKnowledgeDeployment"]}},"state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["AWSb4cf1abd4e4f4bc699441af7ccd9ec371511E620","Arn"]},"input":{"Fn::Join":["",["{\"service\":\"bedrock-agent\",\"action\":\"startIngestionJob\",\"parameters\":{\"knowledgeBaseId\":\"",{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBaseMyCfnKnowledgeBase80493969","KnowledgeBaseId"]},"\",\"dataSourceId\":\"",{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeSourceDataSourceAB6DAA89","DataSourceId"]},"\"}}"]]}}]}}},"deliveryInitialIngestionTarget0Handler":{"id":"deliveryInitialIngestionTarget0Handler","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryInitialIngestion/deliveryInitialIngestionTarget0Handler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.230.0","metadata":[]}},"AllowEventRuledevbackendwakamateMultiAgentdeliveryRouteSubAgentdeliveryInitialIngestiondeliveryInitialIngestionTarget0Handler6EBCDC81":{"id":"AllowEventRuledevbackendwakamateMultiAgentdeliveryRouteSubAgentdeliveryInitialIngestiondeliveryInitialIngestionTarget0Handler6EBCDC81","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryInitialIngestion/AllowEventRuledevbackendwakamateMultiAgentdeliveryRouteSubAgentdeliveryInitialIngestiondeliveryInitialIngestionTarget0Handler6EBCDC81","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AWSb4cf1abd4e4f4bc699441af7ccd9ec371511E620","Arn"]},"principal":"events.amazonaws.com","sourceArn":{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliveryInitialIngestion175F4E5A","Arn"]}}}}}},"deliverySyncChecker":{"id":"deliverySyncChecker","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliverySyncChecker","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"SyncCheckerFunction":{"id":"SyncCheckerFunction","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliverySyncChecker/SyncCheckerFunction","constructInfo":{"fqn":"@aws-cdk/aws-lambda-python-alpha.PythonFunction","version":"2.187.0-alpha.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliverySyncChecker/SyncCheckerFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliverySyncChecker/SyncCheckerFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliverySyncChecker/SyncCheckerFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliverySyncChecker/SyncCheckerFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliverySyncChecker/SyncCheckerFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["bedrock:GetDataSource","bedrock:GetKnowledgeBase","bedrock:ListDataSources","bedrock:ListIngestionJobs","bedrock:ListKnowledgeBases","bedrock:StartIngestionJob"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"wakamateMultiAgentdeliveryRouteSubAgentdeliverySyncCheckerSyncCheckerFunctionServiceRoleDefaultPolicy1989488A","roles":[{"Ref":"wakamateMultiAgentdeliveryRouteSubAgentdeliverySyncCheckerSyncCheckerFunctionServiceRole7E3CBE7B"}]}}}}}}},"Code":{"id":"Code","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliverySyncChecker/SyncCheckerFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliverySyncChecker/SyncCheckerFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliverySyncChecker/SyncCheckerFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliverySyncChecker/SyncCheckerFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-024230653186-us-east-1","s3Key":"1992f7bf242f6bbf49892e3e52f3c5490997804ee56763fcc2722178634b668a.zip"},"environment":{"variables":{"POWERTOOLS_SERVICE_NAME":"delivery-kb-sync-checker"}},"handler":"index.lambda_handler","role":{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliverySyncCheckerSyncCheckerFunctionServiceRole7E3CBE7B","Arn"]},"runtime":"python3.12","timeout":60}}}}},"SyncSchedule":{"id":"SyncSchedule","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliverySyncChecker/SyncSchedule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliverySyncChecker/SyncSchedule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"scheduleExpression":"rate(1 day)","state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliverySyncCheckerSyncCheckerFunction57A2C202","Arn"]},"input":{"Fn::Join":["",["{\"knowledgeBaseIds\":[\"",{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBaseMyCfnKnowledgeBase80493969","KnowledgeBaseId"]},"\"]}"]]}}]}}},"AllowEventRuledevbackendwakamateMultiAgentdeliveryRouteSubAgentdeliverySyncCheckerSyncCheckerFunction7210C769":{"id":"AllowEventRuledevbackendwakamateMultiAgentdeliveryRouteSubAgentdeliverySyncCheckerSyncCheckerFunction7210C769","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliverySyncChecker/SyncSchedule/AllowEventRuledevbackendwakamateMultiAgentdeliveryRouteSubAgentdeliverySyncCheckerSyncCheckerFunction7210C769","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliverySyncCheckerSyncCheckerFunction57A2C202","Arn"]},"principal":"events.amazonaws.com","sourceArn":{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliverySyncCheckerSyncSchedule2A31C231","Arn"]}}}}}}}},"deliveryAgent":{"id":"deliveryAgent","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryAgent","constructInfo":{"fqn":"@cdklabs/generative-ai-cdk-constructs.bedrock.Agent","version":"0.1.312","metadata":[]},"children":{"Role":{"id":"Role","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryAgent/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryAgent/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryAgent/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Condition":{"StringEquals":{"aws:SourceAccount":"024230653186"},"ArnLike":{"aws:SourceArn":"arn:aws:bedrock:us-east-1:024230653186:agent/*"}},"Effect":"Allow","Principal":{"Service":"bedrock.amazonaws.com"}}],"Version":"2012-10-17"},"roleName":"AmazonBedrockExecutionRoleForAgents_devbackendiveryAgent20FC6FBE"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryAgent/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryAgent/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["bedrock:Retrieve","bedrock:RetrieveAndGenerate"],"Effect":"Allow","Resource":{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBaseMyCfnKnowledgeBase80493969","KnowledgeBaseArn"]}},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["wakamateMultiAgentapiExecutorFunction3B9341C6","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["wakamateMultiAgentapiExecutorFunction3B9341C6","Arn"]},":*"]]}]},{"Action":["bedrock:GetFoundationModel","bedrock:InvokeModel*"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":bedrock:*::foundation-model/amazon.nova-lite-v1:0"]]}},{"Action":["bedrock:GetInferenceProfile","bedrock:InvokeModel*"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":bedrock:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":inference-profile/us.amazon.nova-lite-v1:0"]]}},{"Action":["bedrock:GetFoundationModel","bedrock:GetInferenceProfile","bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream","bedrock:Retrieve"],"Effect":"Allow","Resource":["arn:aws:bedrock:*::foundation-model/amazon.nova-lite-v1:0",{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBaseMyCfnKnowledgeBase80493969","KnowledgeBaseArn"]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":bedrock:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":inference-profile/us.amazon.nova-lite-v1:0"]]}]}],"Version":"2012-10-17"},"policyName":"wakamateMultiAgentdeliveryRouteSubAgentdeliveryAgentRoleDefaultPolicy68D87987","roles":[{"Ref":"wakamateMultiAgentdeliveryRouteSubAgentdeliveryAgentRole147E072D"}]}}}}}}},"AgentResource":{"id":"AgentResource","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryAgent/AgentResource","constructInfo":{"fqn":"aws-cdk-lib.aws_bedrock.CfnAgent","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Bedrock::Agent","aws:cdk:cloudformation:props":{"actionGroups":[{"actionGroupName":"UserInputAction","actionGroupState":"ENABLED","parentActionGroupSignature":"AMAZON.UserInput","skipResourceInUseCheckOnDelete":false},{"actionGroupName":"CodeInterpreterAction","actionGroupState":"DISABLED","parentActionGroupSignature":"AMAZON.CodeInterpreter","skipResourceInUseCheckOnDelete":false},{"actionGroupExecutor":{"lambda":{"Fn::GetAtt":["wakamateMultiAgentapiExecutorFunction3B9341C6","Arn"]}},"actionGroupName":"deliveryRouteActionGroup","actionGroupState":"ENABLED","apiSchema":{"payload":"{\n  \"openapi\": \"3.0.1\",\n  \"info\": {\n    \"title\": \"Delivery Route Optimization API\",\n    \"description\": \"API for optimizing delivery routes in Lagos, Nigeria with traffic intelligence\",\n    \"version\": \"1.0.0\"\n  },\n  \"paths\": {\n    \"/geocodeAddress\": {\n      \"post\": {\n        \"description\": \"Geocode a Lagos address to get latitude and longitude coordinates\",\n        \"operationId\": \"geocodeAddress\",\n        \"requestBody\": {\n          \"description\": \"Address to geocode\",\n          \"required\": true,\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"address\": {\n                    \"type\": \"string\",\n                    \"description\": \"The address in Lagos to geocode\"\n                  }\n                },\n                \"required\": [\"address\"]\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Successful geocoding response\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"address\": { \"type\": \"string\" },\n                    \"latitude\": { \"type\": \"number\" },\n                    \"longitude\": { \"type\": \"number\" },\n                    \"full_address\": { \"type\": \"string\" },\n                    \"success\": { \"type\": \"boolean\" }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/optimizeRoute\": {\n      \"post\": {\n        \"description\": \"Optimize delivery route for multiple addresses using TSP algorithm\",\n        \"operationId\": \"optimizeDeliveryRoute\",\n        \"requestBody\": {\n          \"description\": \"List of addresses to optimize\",\n          \"required\": true,\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"addresses\": {\n                    \"type\": \"string\",\n                    \"description\": \"Comma-separated list or JSON array of addresses in Lagos\"\n                  }\n                },\n                \"required\": [\"addresses\"]\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Optimized route response\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"optimized_route\": {\n                      \"type\": \"array\",\n                      \"items\": { \"type\": \"string\" }\n                    },\n                    \"total_distance_km\": { \"type\": \"number\" },\n                    \"estimated_time_hours\": { \"type\": \"number\" },\n                    \"num_stops\": { \"type\": \"integer\" },\n                    \"success\": { \"type\": \"boolean\" }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/getTrafficInfo\": {\n      \"post\": {\n        \"description\": \"Get current traffic information and recommendations for Lagos\",\n        \"operationId\": \"getTrafficInformation\",\n        \"requestBody\": {\n          \"description\": \"Traffic info request (no parameters needed)\",\n          \"required\": false,\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"type\": \"object\",\n                \"properties\": {}\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Traffic information response\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"traffic_level\": { \"type\": \"string\" },\n                    \"time_multiplier\": { \"type\": \"number\" },\n                    \"advice\": { \"type\": \"string\" },\n                    \"current_time\": { \"type\": \"string\" },\n                    \"timestamp\": { \"type\": \"string\" }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n"},"description":"Handles delivery route optimization, geocoding, and traffic analysis for Lagos.","skipResourceInUseCheckOnDelete":false}],"agentName":"bedrock-agent-devbackend-wakamatemubagent-deliveryagent-20fc6fbe","agentResourceRoleArn":{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliveryAgentRole147E072D","Arn"]},"autoPrepare":true,"foundationModel":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":bedrock:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":inference-profile/us.amazon.nova-lite-v1:0"]]},"idleSessionTtlInSeconds":1800,"instruction":"You are the Delivery Route Optimization Agent for Wakamate, specializing in Lagos, Nigeria logistics.\n\nYour responsibilities:\n1. Geocode Lagos addresses to precise coordinates\n2. Optimize multi-stop delivery routes using TSP algorithms\n3. Provide real-time traffic intelligence and timing recommendations\n4. Factor in Lagos-specific challenges (rush hours, toll gates, bridge crossings)\n\nKey capabilities:\n- Address geocoding with Lagos context\n- Route optimization for 2-50 stops\n- Traffic pattern analysis (morning/evening rush)\n- Distance and time estimation\n- Alternative route suggestions\n\nGuidelines:\n- Always consider current time when providing traffic advice\n- Factor in 30 minutes per delivery stop\n- Account for Lagos average speed of 25 km/h\n- Highlight toll roads and bridge crossings\n- Suggest optimal departure windows\n\nUse your action group tools to geocode addresses, optimize routes, and fetch traffic information.\nNever hallucinate coordinates or routes - always use the provided tools.\n","knowledgeBases":[{"knowledgeBaseId":{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBaseMyCfnKnowledgeBase80493969","KnowledgeBaseId"]},"knowledgeBaseState":"ENABLED","description":"Use this knowledge base to retrieve Lagos traffic patterns, route optimization strategies, and delivery best practices."}],"skipResourceInUseCheckOnDelete":false}}},"DefaultAlias":{"id":"DefaultAlias","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/deliveryAgent/DefaultAlias","constructInfo":{"fqn":"@cdklabs/generative-ai-cdk-constructs.bedrock.AgentAliasBase","version":"0.1.312","metadata":[]}}}},"alias":{"id":"alias","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/alias","constructInfo":{"fqn":"@cdklabs/generative-ai-cdk-constructs.bedrock.AgentAlias","version":"0.1.312","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/deliveryRouteSubAgent/alias/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_bedrock.CfnAgentAlias","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Bedrock::AgentAlias","aws:cdk:cloudformation:props":{"agentAliasName":"latest-3d1cf371f89d463781d7488c8db32aad","agentId":{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliveryAgentAgentResourceDA565358","AgentId"]}}}}}}}},"captionGeneratorSubAgent":{"id":"captionGeneratorSubAgent","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"captionKnowledgeBase":{"id":"captionKnowledgeBase","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeBase","constructInfo":{"fqn":"@cdklabs/generative-ai-cdk-constructs.bedrock.VectorKnowledgeBase","version":"0.1.312","metadata":[]},"children":{"Role":{"id":"Role","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeBase/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeBase/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeBase/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Condition":{"StringEquals":{"aws:SourceAccount":"024230653186"},"ArnLike":{"aws:SourceArn":"arn:aws:bedrock:us-east-1:024230653186:knowledge-base/*"}},"Effect":"Allow","Principal":{"Service":"bedrock.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Ref":"wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBaseKBVectorsAOSSApiAccessAll16DBA1D0"}],"roleName":"AmazonBedrockExecutionRoleForKnowledgeBasedevbackdgeBaseBB5EAB05"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeBase/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeBase/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["bedrock:GetFoundationModel","bedrock:InvokeModel*"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]}},{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBucketE1F09CD0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBucketE1F09CD0","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBaseRoleDefaultPolicyED6E8BCF","roles":[{"Ref":"wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBaseRole25D66390"}]}}}}}}},"KBVectors":{"id":"KBVectors","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeBase/KBVectors","constructInfo":{"fqn":"@cdklabs/generative-ai-cdk-constructs.opensearchserverless.VectorCollection","version":"0.1.312","metadata":[]},"children":{"EncryptionPolicy":{"id":"EncryptionPolicy","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeBase/KBVectors/EncryptionPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_opensearchserverless.CfnSecurityPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::OpenSearchServerless::SecurityPolicy","aws:cdk:cloudformation:props":{"name":"encryptionpolicydevbtors8b546215","policy":"{\"Rules\":[{\"ResourceType\":\"collection\",\"Resource\":[\"collection/vectorstoredevbacectors8b546215\"]}],\"AWSOwnedKey\":true}","type":"encryption"}}},"NetworkPolicy":{"id":"NetworkPolicy","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeBase/KBVectors/NetworkPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_opensearchserverless.CfnSecurityPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::OpenSearchServerless::SecurityPolicy","aws:cdk:cloudformation:props":{"name":"networkpolicydevbactors8b546215","policy":"[{\"Rules\":[{\"ResourceType\":\"collection\",\"Resource\":[\"collection/vectorstoredevbacectors8b546215\"]},{\"ResourceType\":\"dashboard\",\"Resource\":[\"collection/vectorstoredevbacectors8b546215\"]}],\"AllowFromPublic\":true}]","type":"network"}}},"VectorCollection":{"id":"VectorCollection","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeBase/KBVectors/VectorCollection","constructInfo":{"fqn":"aws-cdk-lib.aws_opensearchserverless.CfnCollection","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::OpenSearchServerless::Collection","aws:cdk:cloudformation:props":{"name":"vectorstoredevbacectors8b546215","standbyReplicas":"ENABLED","tags":[{"key":"Name","value":"vectorstoredevbacectors8b546215"},{"key":"Type","value":"VectorCollection"}],"type":"VECTORSEARCH"}}},"AOSSApiAccessAll":{"id":"AOSSApiAccessAll","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeBase/KBVectors/AOSSApiAccessAll","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.ManagedPolicy","version":"2.230.0","metadata":[]},"children":{"ImportedAOSSApiAccessAll":{"id":"ImportedAOSSApiAccessAll","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeBase/KBVectors/AOSSApiAccessAll/ImportedAOSSApiAccessAll","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeBase/KBVectors/AOSSApiAccessAll/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnManagedPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::ManagedPolicy","aws:cdk:cloudformation:props":{"description":"","path":"/","policyDocument":{"Statement":[{"Action":"aoss:APIAccessAll","Effect":"Allow","Resource":{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBaseKBVectorsVectorCollection5667C950","Arn"]}}],"Version":"2012-10-17"}}}}}},"IsDataAccessPolicyNotEmpty":{"id":"IsDataAccessPolicyNotEmpty","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeBase/KBVectors/IsDataAccessPolicyNotEmpty","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.230.0"}},"DataAccessPolicy":{"id":"DataAccessPolicy","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeBase/KBVectors/DataAccessPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_opensearchserverless.CfnAccessPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::OpenSearchServerless::AccessPolicy","aws:cdk:cloudformation:props":{"name":"dataaccesspolicydevbtors8b546215","policy":{"Fn::Join":["",["[{\"Rules\":[{\"Resource\":[\"collection/vectorstoredevbacectors8b546215\"],\"Permission\":[\"aoss:DescribeCollectionItems\",\"aoss:CreateCollectionItems\",\"aoss:UpdateCollectionItems\"],\"ResourceType\":\"collection\"},{\"Resource\":[\"index/vectorstoredevbacectors8b546215/*\"],\"Permission\":[\"aoss:UpdateIndex\",\"aoss:DescribeIndex\",\"aoss:ReadDocument\",\"aoss:WriteDocument\",\"aoss:CreateIndex\"],\"ResourceType\":\"index\"}],\"Principal\":[\"",{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBaseRole25D66390","Arn"]},"\"],\"Description\":\"\"}]"]]},"type":"data"}}}}},"KBIndex":{"id":"KBIndex","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeBase/KBIndex","constructInfo":{"fqn":"@cdklabs/generative-ai-cdk-constructs.opensearch_vectorindex.VectorIndex","version":"0.1.312","metadata":[]},"children":{"ManageIndexPolicy":{"id":"ManageIndexPolicy","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeBase/KBIndex/ManageIndexPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_opensearchserverless.CfnAccessPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::OpenSearchServerless::AccessPolicy","aws:cdk:cloudformation:props":{"name":"manageindexpolicydevdex103912f0","policy":{"Fn::Join":["",["[{\"Rules\":[{\"Resource\":[\"index/vectorstoredevbacectors8b546215/*\"],\"Permission\":[\"aoss:DescribeIndex\",\"aoss:CreateIndex\",\"aoss:DeleteIndex\",\"aoss:UpdateIndex\"],\"ResourceType\":\"index\"},{\"Resource\":[\"collection/vectorstoredevbacectors8b546215\"],\"Permission\":[\"aoss:DescribeCollectionItems\"],\"ResourceType\":\"collection\"}],\"Principal\":[\"",{"Fn::GetAtt":["OpenSearchIndexCRProviderCRRole466FC04E","Arn"]},"\"],\"Description\":\"\"}]"]]},"type":"data"}}},"VectorIndex":{"id":"VectorIndex","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeBase/KBIndex/VectorIndex","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.230.0","metadata":[]},"children":{"Default":{"id":"Default","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeBase/KBIndex/VectorIndex/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}}}},"MyCfnKnowledgeBase":{"id":"MyCfnKnowledgeBase","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeBase/MyCfnKnowledgeBase","constructInfo":{"fqn":"aws-cdk-lib.aws_bedrock.CfnKnowledgeBase","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Bedrock::KnowledgeBase","aws:cdk:cloudformation:props":{"knowledgeBaseConfiguration":{"type":"VECTOR","vectorKnowledgeBaseConfiguration":{"embeddingModelArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]},"embeddingModelConfiguration":{"bedrockEmbeddingModelConfiguration":{"dimensions":1024,"embeddingDataType":"FLOAT32"}}}},"name":"KBdevbackendwowledgeBaseBB5EAB05","roleArn":{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBaseRole25D66390","Arn"]},"storageConfiguration":{"type":"OPENSEARCH_SERVERLESS","opensearchServerlessConfiguration":{"collectionArn":{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBaseKBVectorsVectorCollection5667C950","Arn"]},"fieldMapping":{"vectorField":"bedrock-knowledge-base-default-vector","textField":"AMAZON_BEDROCK_TEXT_CHUNK","metadataField":"AMAZON_BEDROCK_METADATA"},"vectorIndexName":"bedrock-knowledge-base-default-index"}}}}},"KBCRPolicy":{"id":"KBCRPolicy","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeBase/KBCRPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeBase/KBCRPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"bedrock:CreateKnowledgeBase","Effect":"Allow","Resource":"*"},{"Action":["bedrock:DeleteKnowledgeBase","bedrock:TagResource","bedrock:UpdateKnowledgeBase"],"Effect":"Allow","Resource":"arn:aws:bedrock:us-east-1:024230653186:knowledge-base/*"},{"Action":"iam:PassRole","Effect":"Allow","Resource":{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBaseRole25D66390","Arn"]}}],"Version":"2012-10-17"},"policyName":"wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBaseKBCRPolicyCC6DD68C","roles":[{"Ref":"wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBaseRole25D66390"}]}}}}}}},"captionKnowledgeBucket":{"id":"captionKnowledgeBucket","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"loggingConfiguration":{"destinationBucketName":{"Ref":"wakamateMultiAgentloggingBucket1DE5092E"},"logFilePrefix":"captionKnowledgeBucket/"},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"},{"key":"aws-cdk:cr-owned:c17957c7","value":"true"}]}}},"Policy":{"id":"Policy","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBucketE1F09CD0"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBucketE1F09CD0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBucketE1F09CD0","Arn"]},"/*"]]}]},{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBucketE1F09CD0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBucketE1F09CD0","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.230.0","metadata":[]},"children":{"Default":{"id":"Default","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}}}},"captionKnowledgeSource":{"id":"captionKnowledgeSource","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeSource","constructInfo":{"fqn":"@cdklabs/generative-ai-cdk-constructs.bedrock.S3DataSource","version":"0.1.312","metadata":[]},"children":{"DataSource":{"id":"DataSource","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeSource/DataSource","constructInfo":{"fqn":"aws-cdk-lib.aws_bedrock.CfnDataSource","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Bedrock::DataSource","aws:cdk:cloudformation:props":{"dataSourceConfiguration":{"type":"S3","s3Configuration":{"bucketArn":{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBucketE1F09CD0","Arn"]}}},"knowledgeBaseId":{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBaseMyCfnKnowledgeBaseE027EEF5","KnowledgeBaseId"]},"name":"caption-templates-data"}}}}},"captionIngestionRule":{"id":"captionIngestionRule","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionIngestionRule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionIngestionRule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"eventPattern":{"source":["aws.s3"],"detail":{"bucket":{"name":[{"Ref":"wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBucketE1F09CD0"}]}}},"state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["AWSb4cf1abd4e4f4bc699441af7ccd9ec371511E620","Arn"]},"input":{"Fn::Join":["",["{\"service\":\"bedrock-agent\",\"action\":\"startIngestionJob\",\"parameters\":{\"knowledgeBaseId\":\"",{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBaseMyCfnKnowledgeBaseE027EEF5","KnowledgeBaseId"]},"\",\"dataSourceId\":\"",{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeSourceDataSource37200B8B","DataSourceId"]},"\"}}"]]}}]}}},"captionIngestionRuleTarget0Handler":{"id":"captionIngestionRuleTarget0Handler","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionIngestionRule/captionIngestionRuleTarget0Handler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.230.0","metadata":[]}},"AllowEventRuledevbackendwakamateMultiAgentcaptionGeneratorSubAgentcaptionIngestionRulecaptionIngestionRuleTarget0Handler5BAC276E":{"id":"AllowEventRuledevbackendwakamateMultiAgentcaptionGeneratorSubAgentcaptionIngestionRulecaptionIngestionRuleTarget0Handler5BAC276E","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionIngestionRule/AllowEventRuledevbackendwakamateMultiAgentcaptionGeneratorSubAgentcaptionIngestionRulecaptionIngestionRuleTarget0Handler5BAC276E","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AWSb4cf1abd4e4f4bc699441af7ccd9ec371511E620","Arn"]},"principal":"events.amazonaws.com","sourceArn":{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionIngestionRule0384A4DE","Arn"]}}}}}},"captionKnowledgeDeployment":{"id":"captionKnowledgeDeployment","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeDeployment","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_deployment.BucketDeployment","version":"2.230.0"},"children":{"AwsCliLayer":{"id":"AwsCliLayer","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeDeployment/AwsCliLayer","constructInfo":{"fqn":"aws-cdk-lib.lambda_layer_awscli.AwsCliLayer","version":"2.230.0","metadata":[]},"children":{"Code":{"id":"Code","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeDeployment/AwsCliLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeDeployment/AwsCliLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeDeployment/AwsCliLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeDeployment/AwsCliLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"content":{"s3Bucket":"cdk-hnb659fds-assets-024230653186-us-east-1","s3Key":"c49d356cac773d491c5f7ac148995a1181498a8e289429f8612a7f7e3814f535.zip"},"description":"/opt/awscli/aws"}}}}},"CustomResourceHandler":{"id":"CustomResourceHandler","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeDeployment/CustomResourceHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.230.0","metadata":[]}},"Asset1":{"id":"Asset1","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeDeployment/Asset1","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeDeployment/Asset1/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeDeployment/Asset1/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"CustomResource":{"id":"CustomResource","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeDeployment/CustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.230.0","metadata":[]},"children":{"Default":{"id":"Default","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionKnowledgeDeployment/CustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}}}},"captionInitialIngestion":{"id":"captionInitialIngestion","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionInitialIngestion","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionInitialIngestion/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"eventPattern":{"source":["aws.cloudformation"],"detail-type":["CloudFormation Resource Status Change"],"detail":{"resourceType":["AWS::S3::BucketDeployment"],"resourceStatus":["CREATE_COMPLETE","UPDATE_COMPLETE"],"logicalResourceId":["captionKnowledgeDeployment"]}},"state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["AWSb4cf1abd4e4f4bc699441af7ccd9ec371511E620","Arn"]},"input":{"Fn::Join":["",["{\"service\":\"bedrock-agent\",\"action\":\"startIngestionJob\",\"parameters\":{\"knowledgeBaseId\":\"",{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBaseMyCfnKnowledgeBaseE027EEF5","KnowledgeBaseId"]},"\",\"dataSourceId\":\"",{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeSourceDataSource37200B8B","DataSourceId"]},"\"}}"]]}}]}}},"captionInitialIngestionTarget0Handler":{"id":"captionInitialIngestionTarget0Handler","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionInitialIngestion/captionInitialIngestionTarget0Handler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.230.0","metadata":[]}},"AllowEventRuledevbackendwakamateMultiAgentcaptionGeneratorSubAgentcaptionInitialIngestioncaptionInitialIngestionTarget0Handler338AF3DF":{"id":"AllowEventRuledevbackendwakamateMultiAgentcaptionGeneratorSubAgentcaptionInitialIngestioncaptionInitialIngestionTarget0Handler338AF3DF","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionInitialIngestion/AllowEventRuledevbackendwakamateMultiAgentcaptionGeneratorSubAgentcaptionInitialIngestioncaptionInitialIngestionTarget0Handler338AF3DF","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AWSb4cf1abd4e4f4bc699441af7ccd9ec371511E620","Arn"]},"principal":"events.amazonaws.com","sourceArn":{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionInitialIngestion97644868","Arn"]}}}}}},"captionSyncChecker":{"id":"captionSyncChecker","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionSyncChecker","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"SyncCheckerFunction":{"id":"SyncCheckerFunction","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionSyncChecker/SyncCheckerFunction","constructInfo":{"fqn":"@aws-cdk/aws-lambda-python-alpha.PythonFunction","version":"2.187.0-alpha.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionSyncChecker/SyncCheckerFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionSyncChecker/SyncCheckerFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionSyncChecker/SyncCheckerFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionSyncChecker/SyncCheckerFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionSyncChecker/SyncCheckerFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["bedrock:GetDataSource","bedrock:GetKnowledgeBase","bedrock:ListDataSources","bedrock:ListIngestionJobs","bedrock:ListKnowledgeBases","bedrock:StartIngestionJob"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"wakamateMultiAgentcaptionGeneratorSubAgentcaptionSyncCheckerSyncCheckerFunctionServiceRoleDefaultPolicy5B20CC6B","roles":[{"Ref":"wakamateMultiAgentcaptionGeneratorSubAgentcaptionSyncCheckerSyncCheckerFunctionServiceRole9EAB7E77"}]}}}}}}},"Code":{"id":"Code","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionSyncChecker/SyncCheckerFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionSyncChecker/SyncCheckerFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionSyncChecker/SyncCheckerFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionSyncChecker/SyncCheckerFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-024230653186-us-east-1","s3Key":"1992f7bf242f6bbf49892e3e52f3c5490997804ee56763fcc2722178634b668a.zip"},"environment":{"variables":{"POWERTOOLS_SERVICE_NAME":"caption-kb-sync-checker"}},"handler":"index.lambda_handler","role":{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionSyncCheckerSyncCheckerFunctionServiceRole9EAB7E77","Arn"]},"runtime":"python3.12","timeout":60}}}}},"SyncSchedule":{"id":"SyncSchedule","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionSyncChecker/SyncSchedule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionSyncChecker/SyncSchedule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"scheduleExpression":"rate(1 day)","state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionSyncCheckerSyncCheckerFunctionB3330D6A","Arn"]},"input":{"Fn::Join":["",["{\"knowledgeBaseIds\":[\"",{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBaseMyCfnKnowledgeBaseE027EEF5","KnowledgeBaseId"]},"\"]}"]]}}]}}},"AllowEventRuledevbackendwakamateMultiAgentcaptionGeneratorSubAgentcaptionSyncCheckerSyncCheckerFunctionF8363924":{"id":"AllowEventRuledevbackendwakamateMultiAgentcaptionGeneratorSubAgentcaptionSyncCheckerSyncCheckerFunctionF8363924","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionSyncChecker/SyncSchedule/AllowEventRuledevbackendwakamateMultiAgentcaptionGeneratorSubAgentcaptionSyncCheckerSyncCheckerFunctionF8363924","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionSyncCheckerSyncCheckerFunctionB3330D6A","Arn"]},"principal":"events.amazonaws.com","sourceArn":{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionSyncCheckerSyncSchedule36CB3492","Arn"]}}}}}}}},"captionAgent":{"id":"captionAgent","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionAgent","constructInfo":{"fqn":"@cdklabs/generative-ai-cdk-constructs.bedrock.Agent","version":"0.1.312","metadata":[]},"children":{"Role":{"id":"Role","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionAgent/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionAgent/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionAgent/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Condition":{"StringEquals":{"aws:SourceAccount":"024230653186"},"ArnLike":{"aws:SourceArn":"arn:aws:bedrock:us-east-1:024230653186:agent/*"}},"Effect":"Allow","Principal":{"Service":"bedrock.amazonaws.com"}}],"Version":"2012-10-17"},"roleName":"AmazonBedrockExecutionRoleForAgents_devbackendptionAgent5FE2FF48"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionAgent/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionAgent/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["bedrock:Retrieve","bedrock:RetrieveAndGenerate"],"Effect":"Allow","Resource":{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBaseMyCfnKnowledgeBaseE027EEF5","KnowledgeBaseArn"]}},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["wakamateMultiAgentapiExecutorFunction3B9341C6","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["wakamateMultiAgentapiExecutorFunction3B9341C6","Arn"]},":*"]]}]},{"Action":["bedrock:GetFoundationModel","bedrock:InvokeModel*"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":bedrock:*::foundation-model/amazon.nova-lite-v1:0"]]}},{"Action":["bedrock:GetInferenceProfile","bedrock:InvokeModel*"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":bedrock:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":inference-profile/us.amazon.nova-lite-v1:0"]]}},{"Action":["bedrock:GetFoundationModel","bedrock:GetInferenceProfile","bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream","bedrock:Retrieve"],"Effect":"Allow","Resource":["arn:aws:bedrock:*::foundation-model/amazon.nova-lite-v1:0",{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBaseMyCfnKnowledgeBaseE027EEF5","KnowledgeBaseArn"]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":bedrock:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":inference-profile/us.amazon.nova-lite-v1:0"]]}]}],"Version":"2012-10-17"},"policyName":"wakamateMultiAgentcaptionGeneratorSubAgentcaptionAgentRoleDefaultPolicy874FD22B","roles":[{"Ref":"wakamateMultiAgentcaptionGeneratorSubAgentcaptionAgentRole504CEBC1"}]}}}}}}},"AgentResource":{"id":"AgentResource","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionAgent/AgentResource","constructInfo":{"fqn":"aws-cdk-lib.aws_bedrock.CfnAgent","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Bedrock::Agent","aws:cdk:cloudformation:props":{"actionGroups":[{"actionGroupName":"UserInputAction","actionGroupState":"ENABLED","parentActionGroupSignature":"AMAZON.UserInput","skipResourceInUseCheckOnDelete":false},{"actionGroupName":"CodeInterpreterAction","actionGroupState":"DISABLED","parentActionGroupSignature":"AMAZON.CodeInterpreter","skipResourceInUseCheckOnDelete":false},{"actionGroupExecutor":{"lambda":{"Fn::GetAtt":["wakamateMultiAgentapiExecutorFunction3B9341C6","Arn"]}},"actionGroupName":"captionGeneratorActionGroup","actionGroupState":"ENABLED","apiSchema":{"payload":"{\n  \"openapi\": \"3.0.1\",\n  \"info\": {\n    \"title\": \"Caption Generator API\",\n    \"description\": \"API for generating social media captions using product inventory data\",\n    \"version\": \"1.0.0\"\n  },\n  \"paths\": {\n    \"/getProductsForCaption\": {\n      \"post\": {\n        \"description\": \"Get all products from inventory for caption generation\",\n        \"operationId\": \"getProductsForCaption\",\n        \"requestBody\": {\n          \"description\": \"Optional product filter\",\n          \"required\": false,\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"product_filter\": {\n                    \"type\": \"string\",\n                    \"description\": \"Optional filter to search for specific products by name or category\",\n                    \"nullable\": true\n                  }\n                }\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"200\": {\n            \"description\": \"List of products for caption generation\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"products\": {\n                      \"type\": \"array\",\n                      \"items\": {\n                        \"type\": \"object\",\n                        \"properties\": {\n                          \"name\": { \"type\": \"string\" },\n                          \"category\": { \"type\": \"string\" },\n                          \"price\": { \"type\": \"number\" },\n                          \"description\": { \"type\": \"string\" },\n                          \"stock\": { \"type\": \"integer\" }\n                        }\n                      }\n                    },\n                    \"total_count\": { \"type\": \"integer\" },\n                    \"timestamp\": { \"type\": \"string\" }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/findProductByName\": {\n      \"post\": {\n        \"description\": \"Find a specific product by name from inventory\",\n        \"operationId\": \"findProductByName\",\n        \"requestBody\": {\n          \"description\": \"Product name to search for\",\n          \"required\": true,\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"product_name\": {\n                    \"type\": \"string\",\n                    \"description\": \"Name of the product to find\"\n                  }\n                },\n                \"required\": [\"product_name\"]\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Product details\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"name\": { \"type\": \"string\" },\n                    \"category\": { \"type\": \"string\" },\n                    \"price\": { \"type\": \"number\" },\n                    \"description\": { \"type\": \"string\" },\n                    \"stock\": { \"type\": \"integer\" },\n                    \"cost_price\": { \"type\": \"number\" }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n"},"description":"Handles social media caption generation, fetches product data from inventory API, and creates platform-specific content.","skipResourceInUseCheckOnDelete":false}],"agentName":"bedrock-agent-devbackend-wakamatemuubagent-captionagent-5fe2ff48","agentResourceRoleArn":{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionAgentRole504CEBC1","Arn"]},"autoPrepare":true,"foundationModel":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":bedrock:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":inference-profile/us.amazon.nova-lite-v1:0"]]},"idleSessionTtlInSeconds":1800,"instruction":"You are Wakamate's Social Media Caption Generator, an expert in creating engaging marketing content.\n\nYour responsibilities:\n1. Generate platform-specific captions (Instagram, Facebook, Twitter, LinkedIn, TikTok)\n2. Fetch product data from Wakamate inventory API\n3. Create multiple caption variations with different tones\n4. Include strategic hashtags and emojis\n\nKey capabilities:\n- Access to real product inventory data\n- Multiple tone options (professional, casual, trendy, funny)\n- Platform-specific optimization\n- Hashtag strategy integration\n- Emoji placement for engagement\n\nGuidelines:\n- Always check inventory for product details before generating captions\n- Provide 2-3 caption variations per request\n- Include relevant hashtags (5-10 per caption)\n- Use emojis strategically for visual appeal\n- Tailor length to platform (Twitter: short, Instagram: medium, LinkedIn: longer)\n- Highlight product benefits and create urgency\n\nUse your action group tools to fetch product data and find specific products.\nBase all captions on real inventory information - never invent product details.\n","knowledgeBases":[{"knowledgeBaseId":{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBaseMyCfnKnowledgeBaseE027EEF5","KnowledgeBaseId"]},"knowledgeBaseState":"ENABLED","description":"Use this knowledge base to retrieve social media caption templates, hashtag strategies, and platform-specific best practices."}],"skipResourceInUseCheckOnDelete":false}}},"DefaultAlias":{"id":"DefaultAlias","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/captionAgent/DefaultAlias","constructInfo":{"fqn":"@cdklabs/generative-ai-cdk-constructs.bedrock.AgentAliasBase","version":"0.1.312","metadata":[]}}}},"alias":{"id":"alias","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/alias","constructInfo":{"fqn":"@cdklabs/generative-ai-cdk-constructs.bedrock.AgentAlias","version":"0.1.312","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/captionGeneratorSubAgent/alias/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_bedrock.CfnAgentAlias","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Bedrock::AgentAlias","aws:cdk:cloudformation:props":{"agentAliasName":"latest-76639ef21e4d476e4754fe1f71a30495","agentId":{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionAgentAgentResourceB6B6701A","AgentId"]}}}}}}}},"inventorySubAgent":{"id":"inventorySubAgent","path":"dev/backend/wakamateMultiAgent/inventorySubAgent","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"inventoryKnowledgeBase":{"id":"inventoryKnowledgeBase","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeBase","constructInfo":{"fqn":"@cdklabs/generative-ai-cdk-constructs.bedrock.VectorKnowledgeBase","version":"0.1.312","metadata":[]},"children":{"Role":{"id":"Role","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeBase/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeBase/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeBase/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Condition":{"StringEquals":{"aws:SourceAccount":"024230653186"},"ArnLike":{"aws:SourceArn":"arn:aws:bedrock:us-east-1:024230653186:knowledge-base/*"}},"Effect":"Allow","Principal":{"Service":"bedrock.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Ref":"wakamateMultiAgentinventorySubAgentinventoryKnowledgeBaseKBVectorsAOSSApiAccessAll98BFEDCA"}],"roleName":"AmazonBedrockExecutionRoleForKnowledgeBasedevbackdgeBase013C7ACE"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeBase/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeBase/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["bedrock:GetFoundationModel","bedrock:InvokeModel*"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]}},{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventoryKnowledgeBucketC1AE0875","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventoryKnowledgeBucketC1AE0875","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"wakamateMultiAgentinventorySubAgentinventoryKnowledgeBaseRoleDefaultPolicy3E3B72E6","roles":[{"Ref":"wakamateMultiAgentinventorySubAgentinventoryKnowledgeBaseRoleEC2297B8"}]}}}}}}},"KBVectors":{"id":"KBVectors","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeBase/KBVectors","constructInfo":{"fqn":"@cdklabs/generative-ai-cdk-constructs.opensearchserverless.VectorCollection","version":"0.1.312","metadata":[]},"children":{"EncryptionPolicy":{"id":"EncryptionPolicy","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeBase/KBVectors/EncryptionPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_opensearchserverless.CfnSecurityPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::OpenSearchServerless::SecurityPolicy","aws:cdk:cloudformation:props":{"name":"encryptionpolicydevbtorsf2c97f8a","policy":"{\"Rules\":[{\"ResourceType\":\"collection\",\"Resource\":[\"collection/vectorstoredevbacectorsf2c97f8a\"]}],\"AWSOwnedKey\":true}","type":"encryption"}}},"NetworkPolicy":{"id":"NetworkPolicy","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeBase/KBVectors/NetworkPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_opensearchserverless.CfnSecurityPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::OpenSearchServerless::SecurityPolicy","aws:cdk:cloudformation:props":{"name":"networkpolicydevbactorsf2c97f8a","policy":"[{\"Rules\":[{\"ResourceType\":\"collection\",\"Resource\":[\"collection/vectorstoredevbacectorsf2c97f8a\"]},{\"ResourceType\":\"dashboard\",\"Resource\":[\"collection/vectorstoredevbacectorsf2c97f8a\"]}],\"AllowFromPublic\":true}]","type":"network"}}},"VectorCollection":{"id":"VectorCollection","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeBase/KBVectors/VectorCollection","constructInfo":{"fqn":"aws-cdk-lib.aws_opensearchserverless.CfnCollection","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::OpenSearchServerless::Collection","aws:cdk:cloudformation:props":{"name":"vectorstoredevbacectorsf2c97f8a","standbyReplicas":"ENABLED","tags":[{"key":"Name","value":"vectorstoredevbacectorsf2c97f8a"},{"key":"Type","value":"VectorCollection"}],"type":"VECTORSEARCH"}}},"AOSSApiAccessAll":{"id":"AOSSApiAccessAll","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeBase/KBVectors/AOSSApiAccessAll","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.ManagedPolicy","version":"2.230.0","metadata":[]},"children":{"ImportedAOSSApiAccessAll":{"id":"ImportedAOSSApiAccessAll","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeBase/KBVectors/AOSSApiAccessAll/ImportedAOSSApiAccessAll","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeBase/KBVectors/AOSSApiAccessAll/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnManagedPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::ManagedPolicy","aws:cdk:cloudformation:props":{"description":"","path":"/","policyDocument":{"Statement":[{"Action":"aoss:APIAccessAll","Effect":"Allow","Resource":{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventoryKnowledgeBaseKBVectorsVectorCollection684149B2","Arn"]}}],"Version":"2012-10-17"}}}}}},"IsDataAccessPolicyNotEmpty":{"id":"IsDataAccessPolicyNotEmpty","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeBase/KBVectors/IsDataAccessPolicyNotEmpty","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.230.0"}},"DataAccessPolicy":{"id":"DataAccessPolicy","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeBase/KBVectors/DataAccessPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_opensearchserverless.CfnAccessPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::OpenSearchServerless::AccessPolicy","aws:cdk:cloudformation:props":{"name":"dataaccesspolicydevbtorsf2c97f8a","policy":{"Fn::Join":["",["[{\"Rules\":[{\"Resource\":[\"collection/vectorstoredevbacectorsf2c97f8a\"],\"Permission\":[\"aoss:DescribeCollectionItems\",\"aoss:CreateCollectionItems\",\"aoss:UpdateCollectionItems\"],\"ResourceType\":\"collection\"},{\"Resource\":[\"index/vectorstoredevbacectorsf2c97f8a/*\"],\"Permission\":[\"aoss:UpdateIndex\",\"aoss:DescribeIndex\",\"aoss:ReadDocument\",\"aoss:WriteDocument\",\"aoss:CreateIndex\"],\"ResourceType\":\"index\"}],\"Principal\":[\"",{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventoryKnowledgeBaseRoleEC2297B8","Arn"]},"\"],\"Description\":\"\"}]"]]},"type":"data"}}}}},"KBIndex":{"id":"KBIndex","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeBase/KBIndex","constructInfo":{"fqn":"@cdklabs/generative-ai-cdk-constructs.opensearch_vectorindex.VectorIndex","version":"0.1.312","metadata":[]},"children":{"ManageIndexPolicy":{"id":"ManageIndexPolicy","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeBase/KBIndex/ManageIndexPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_opensearchserverless.CfnAccessPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::OpenSearchServerless::AccessPolicy","aws:cdk:cloudformation:props":{"name":"manageindexpolicydevdexb7684e82","policy":{"Fn::Join":["",["[{\"Rules\":[{\"Resource\":[\"index/vectorstoredevbacectorsf2c97f8a/*\"],\"Permission\":[\"aoss:DescribeIndex\",\"aoss:CreateIndex\",\"aoss:DeleteIndex\",\"aoss:UpdateIndex\"],\"ResourceType\":\"index\"},{\"Resource\":[\"collection/vectorstoredevbacectorsf2c97f8a\"],\"Permission\":[\"aoss:DescribeCollectionItems\"],\"ResourceType\":\"collection\"}],\"Principal\":[\"",{"Fn::GetAtt":["OpenSearchIndexCRProviderCRRole466FC04E","Arn"]},"\"],\"Description\":\"\"}]"]]},"type":"data"}}},"VectorIndex":{"id":"VectorIndex","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeBase/KBIndex/VectorIndex","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.230.0","metadata":[]},"children":{"Default":{"id":"Default","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeBase/KBIndex/VectorIndex/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}}}},"MyCfnKnowledgeBase":{"id":"MyCfnKnowledgeBase","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeBase/MyCfnKnowledgeBase","constructInfo":{"fqn":"aws-cdk-lib.aws_bedrock.CfnKnowledgeBase","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Bedrock::KnowledgeBase","aws:cdk:cloudformation:props":{"knowledgeBaseConfiguration":{"type":"VECTOR","vectorKnowledgeBaseConfiguration":{"embeddingModelArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.titan-embed-text-v2:0"]]},"embeddingModelConfiguration":{"bedrockEmbeddingModelConfiguration":{"dimensions":1024,"embeddingDataType":"FLOAT32"}}}},"name":"KBdevbackendwowledgeBase013C7ACE","roleArn":{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventoryKnowledgeBaseRoleEC2297B8","Arn"]},"storageConfiguration":{"type":"OPENSEARCH_SERVERLESS","opensearchServerlessConfiguration":{"collectionArn":{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventoryKnowledgeBaseKBVectorsVectorCollection684149B2","Arn"]},"fieldMapping":{"vectorField":"bedrock-knowledge-base-default-vector","textField":"AMAZON_BEDROCK_TEXT_CHUNK","metadataField":"AMAZON_BEDROCK_METADATA"},"vectorIndexName":"bedrock-knowledge-base-default-index"}}}}},"KBCRPolicy":{"id":"KBCRPolicy","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeBase/KBCRPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeBase/KBCRPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"bedrock:CreateKnowledgeBase","Effect":"Allow","Resource":"*"},{"Action":["bedrock:DeleteKnowledgeBase","bedrock:TagResource","bedrock:UpdateKnowledgeBase"],"Effect":"Allow","Resource":"arn:aws:bedrock:us-east-1:024230653186:knowledge-base/*"},{"Action":"iam:PassRole","Effect":"Allow","Resource":{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventoryKnowledgeBaseRoleEC2297B8","Arn"]}}],"Version":"2012-10-17"},"policyName":"wakamateMultiAgentinventorySubAgentinventoryKnowledgeBaseKBCRPolicyC2D54D73","roles":[{"Ref":"wakamateMultiAgentinventorySubAgentinventoryKnowledgeBaseRoleEC2297B8"}]}}}}}}},"inventoryKnowledgeBucket":{"id":"inventoryKnowledgeBucket","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"loggingConfiguration":{"destinationBucketName":{"Ref":"wakamateMultiAgentloggingBucket1DE5092E"},"logFilePrefix":"inventoryKnowledgeBucket/"},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"},{"key":"aws-cdk:cr-owned:f7db0049","value":"true"}]}}},"Policy":{"id":"Policy","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"wakamateMultiAgentinventorySubAgentinventoryKnowledgeBucketC1AE0875"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventoryKnowledgeBucketC1AE0875","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventoryKnowledgeBucketC1AE0875","Arn"]},"/*"]]}]},{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventoryKnowledgeBucketC1AE0875","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventoryKnowledgeBucketC1AE0875","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.230.0","metadata":[]},"children":{"Default":{"id":"Default","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}}}},"inventoryKnowledgeSource":{"id":"inventoryKnowledgeSource","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeSource","constructInfo":{"fqn":"@cdklabs/generative-ai-cdk-constructs.bedrock.S3DataSource","version":"0.1.312","metadata":[]},"children":{"DataSource":{"id":"DataSource","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeSource/DataSource","constructInfo":{"fqn":"aws-cdk-lib.aws_bedrock.CfnDataSource","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Bedrock::DataSource","aws:cdk:cloudformation:props":{"dataSourceConfiguration":{"type":"S3","s3Configuration":{"bucketArn":{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventoryKnowledgeBucketC1AE0875","Arn"]}}},"knowledgeBaseId":{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventoryKnowledgeBaseMyCfnKnowledgeBaseA04C268F","KnowledgeBaseId"]},"name":"inventory-management-data"}}}}},"inventoryIngestionRule":{"id":"inventoryIngestionRule","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryIngestionRule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryIngestionRule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"eventPattern":{"source":["aws.s3"],"detail":{"bucket":{"name":[{"Ref":"wakamateMultiAgentinventorySubAgentinventoryKnowledgeBucketC1AE0875"}]}}},"state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["AWSb4cf1abd4e4f4bc699441af7ccd9ec371511E620","Arn"]},"input":{"Fn::Join":["",["{\"service\":\"bedrock-agent\",\"action\":\"startIngestionJob\",\"parameters\":{\"knowledgeBaseId\":\"",{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventoryKnowledgeBaseMyCfnKnowledgeBaseA04C268F","KnowledgeBaseId"]},"\",\"dataSourceId\":\"",{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventoryKnowledgeSourceDataSource8B866DF8","DataSourceId"]},"\"}}"]]}}]}}},"inventoryIngestionRuleTarget0Handler":{"id":"inventoryIngestionRuleTarget0Handler","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryIngestionRule/inventoryIngestionRuleTarget0Handler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.230.0","metadata":[]}},"AllowEventRuledevbackendwakamateMultiAgentinventorySubAgentinventoryIngestionRuleinventoryIngestionRuleTarget0HandlerA24F335C":{"id":"AllowEventRuledevbackendwakamateMultiAgentinventorySubAgentinventoryIngestionRuleinventoryIngestionRuleTarget0HandlerA24F335C","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryIngestionRule/AllowEventRuledevbackendwakamateMultiAgentinventorySubAgentinventoryIngestionRuleinventoryIngestionRuleTarget0HandlerA24F335C","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AWSb4cf1abd4e4f4bc699441af7ccd9ec371511E620","Arn"]},"principal":"events.amazonaws.com","sourceArn":{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventoryIngestionRule4C0707E3","Arn"]}}}}}},"inventoryKnowledgeDeployment":{"id":"inventoryKnowledgeDeployment","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeDeployment","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_deployment.BucketDeployment","version":"2.230.0"},"children":{"AwsCliLayer":{"id":"AwsCliLayer","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeDeployment/AwsCliLayer","constructInfo":{"fqn":"aws-cdk-lib.lambda_layer_awscli.AwsCliLayer","version":"2.230.0","metadata":[]},"children":{"Code":{"id":"Code","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeDeployment/AwsCliLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeDeployment/AwsCliLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeDeployment/AwsCliLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeDeployment/AwsCliLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"content":{"s3Bucket":"cdk-hnb659fds-assets-024230653186-us-east-1","s3Key":"c49d356cac773d491c5f7ac148995a1181498a8e289429f8612a7f7e3814f535.zip"},"description":"/opt/awscli/aws"}}}}},"CustomResourceHandler":{"id":"CustomResourceHandler","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeDeployment/CustomResourceHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.230.0","metadata":[]}},"Asset1":{"id":"Asset1","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeDeployment/Asset1","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeDeployment/Asset1/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeDeployment/Asset1/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"CustomResource":{"id":"CustomResource","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeDeployment/CustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.230.0","metadata":[]},"children":{"Default":{"id":"Default","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryKnowledgeDeployment/CustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}}}},"inventoryInitialIngestion":{"id":"inventoryInitialIngestion","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryInitialIngestion","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryInitialIngestion/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"eventPattern":{"source":["aws.cloudformation"],"detail-type":["CloudFormation Resource Status Change"],"detail":{"resourceType":["AWS::S3::BucketDeployment"],"resourceStatus":["CREATE_COMPLETE","UPDATE_COMPLETE"],"logicalResourceId":["inventoryKnowledgeDeployment"]}},"state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["AWSb4cf1abd4e4f4bc699441af7ccd9ec371511E620","Arn"]},"input":{"Fn::Join":["",["{\"service\":\"bedrock-agent\",\"action\":\"startIngestionJob\",\"parameters\":{\"knowledgeBaseId\":\"",{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventoryKnowledgeBaseMyCfnKnowledgeBaseA04C268F","KnowledgeBaseId"]},"\",\"dataSourceId\":\"",{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventoryKnowledgeSourceDataSource8B866DF8","DataSourceId"]},"\"}}"]]}}]}}},"inventoryInitialIngestionTarget0Handler":{"id":"inventoryInitialIngestionTarget0Handler","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryInitialIngestion/inventoryInitialIngestionTarget0Handler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.230.0","metadata":[]}},"AllowEventRuledevbackendwakamateMultiAgentinventorySubAgentinventoryInitialIngestioninventoryInitialIngestionTarget0Handler05BEBD2C":{"id":"AllowEventRuledevbackendwakamateMultiAgentinventorySubAgentinventoryInitialIngestioninventoryInitialIngestionTarget0Handler05BEBD2C","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryInitialIngestion/AllowEventRuledevbackendwakamateMultiAgentinventorySubAgentinventoryInitialIngestioninventoryInitialIngestionTarget0Handler05BEBD2C","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AWSb4cf1abd4e4f4bc699441af7ccd9ec371511E620","Arn"]},"principal":"events.amazonaws.com","sourceArn":{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventoryInitialIngestionE426A430","Arn"]}}}}}},"inventorySyncChecker":{"id":"inventorySyncChecker","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventorySyncChecker","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"SyncCheckerFunction":{"id":"SyncCheckerFunction","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventorySyncChecker/SyncCheckerFunction","constructInfo":{"fqn":"@aws-cdk/aws-lambda-python-alpha.PythonFunction","version":"2.187.0-alpha.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventorySyncChecker/SyncCheckerFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventorySyncChecker/SyncCheckerFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventorySyncChecker/SyncCheckerFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventorySyncChecker/SyncCheckerFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventorySyncChecker/SyncCheckerFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["bedrock:GetDataSource","bedrock:GetKnowledgeBase","bedrock:ListDataSources","bedrock:ListIngestionJobs","bedrock:ListKnowledgeBases","bedrock:StartIngestionJob"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"wakamateMultiAgentinventorySubAgentinventorySyncCheckerSyncCheckerFunctionServiceRoleDefaultPolicyDF9F234A","roles":[{"Ref":"wakamateMultiAgentinventorySubAgentinventorySyncCheckerSyncCheckerFunctionServiceRoleDF4CD04F"}]}}}}}}},"Code":{"id":"Code","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventorySyncChecker/SyncCheckerFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventorySyncChecker/SyncCheckerFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventorySyncChecker/SyncCheckerFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventorySyncChecker/SyncCheckerFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-024230653186-us-east-1","s3Key":"1992f7bf242f6bbf49892e3e52f3c5490997804ee56763fcc2722178634b668a.zip"},"environment":{"variables":{"POWERTOOLS_SERVICE_NAME":"inventory-kb-sync-checker"}},"handler":"index.lambda_handler","role":{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventorySyncCheckerSyncCheckerFunctionServiceRoleDF4CD04F","Arn"]},"runtime":"python3.12","timeout":60}}}}},"SyncSchedule":{"id":"SyncSchedule","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventorySyncChecker/SyncSchedule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventorySyncChecker/SyncSchedule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"scheduleExpression":"rate(1 day)","state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventorySyncCheckerSyncCheckerFunction5C9CD1CB","Arn"]},"input":{"Fn::Join":["",["{\"knowledgeBaseIds\":[\"",{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventoryKnowledgeBaseMyCfnKnowledgeBaseA04C268F","KnowledgeBaseId"]},"\"]}"]]}}]}}},"AllowEventRuledevbackendwakamateMultiAgentinventorySubAgentinventorySyncCheckerSyncCheckerFunction8DBCD4FD":{"id":"AllowEventRuledevbackendwakamateMultiAgentinventorySubAgentinventorySyncCheckerSyncCheckerFunction8DBCD4FD","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventorySyncChecker/SyncSchedule/AllowEventRuledevbackendwakamateMultiAgentinventorySubAgentinventorySyncCheckerSyncCheckerFunction8DBCD4FD","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventorySyncCheckerSyncCheckerFunction5C9CD1CB","Arn"]},"principal":"events.amazonaws.com","sourceArn":{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventorySyncCheckerSyncSchedule122FEB52","Arn"]}}}}}}}},"inventoryAgent":{"id":"inventoryAgent","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryAgent","constructInfo":{"fqn":"@cdklabs/generative-ai-cdk-constructs.bedrock.Agent","version":"0.1.312","metadata":[]},"children":{"Role":{"id":"Role","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryAgent/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryAgent/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryAgent/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Condition":{"StringEquals":{"aws:SourceAccount":"024230653186"},"ArnLike":{"aws:SourceArn":"arn:aws:bedrock:us-east-1:024230653186:agent/*"}},"Effect":"Allow","Principal":{"Service":"bedrock.amazonaws.com"}}],"Version":"2012-10-17"},"roleName":"AmazonBedrockExecutionRoleForAgents_devbackendntoryAgent42DE250A"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryAgent/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryAgent/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["bedrock:Retrieve","bedrock:RetrieveAndGenerate"],"Effect":"Allow","Resource":{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventoryKnowledgeBaseMyCfnKnowledgeBaseA04C268F","KnowledgeBaseArn"]}},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["wakamateMultiAgentapiExecutorFunction3B9341C6","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["wakamateMultiAgentapiExecutorFunction3B9341C6","Arn"]},":*"]]}]},{"Action":["bedrock:GetFoundationModel","bedrock:InvokeModel*"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":bedrock:*::foundation-model/amazon.nova-micro-v1:0"]]}},{"Action":["bedrock:GetInferenceProfile","bedrock:InvokeModel*"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":bedrock:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":inference-profile/us.amazon.nova-micro-v1:0"]]}},{"Action":["bedrock:GetFoundationModel","bedrock:GetInferenceProfile","bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream","bedrock:Retrieve"],"Effect":"Allow","Resource":["arn:aws:bedrock:*::foundation-model/amazon.nova-micro-v1:0",{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventoryKnowledgeBaseMyCfnKnowledgeBaseA04C268F","KnowledgeBaseArn"]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":bedrock:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":inference-profile/us.amazon.nova-micro-v1:0"]]}]}],"Version":"2012-10-17"},"policyName":"wakamateMultiAgentinventorySubAgentinventoryAgentRoleDefaultPolicyB825C884","roles":[{"Ref":"wakamateMultiAgentinventorySubAgentinventoryAgentRole0CE10E12"}]}}}}}}},"AgentResource":{"id":"AgentResource","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryAgent/AgentResource","constructInfo":{"fqn":"aws-cdk-lib.aws_bedrock.CfnAgent","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Bedrock::Agent","aws:cdk:cloudformation:props":{"actionGroups":[{"actionGroupName":"UserInputAction","actionGroupState":"ENABLED","parentActionGroupSignature":"AMAZON.UserInput","skipResourceInUseCheckOnDelete":false},{"actionGroupName":"CodeInterpreterAction","actionGroupState":"DISABLED","parentActionGroupSignature":"AMAZON.CodeInterpreter","skipResourceInUseCheckOnDelete":false},{"actionGroupExecutor":{"lambda":{"Fn::GetAtt":["wakamateMultiAgentapiExecutorFunction3B9341C6","Arn"]}},"actionGroupName":"inventoryActionGroup","actionGroupState":"ENABLED","apiSchema":{"payload":"{\n  \"openapi\": \"3.0.1\",\n  \"info\": {\n    \"title\": \"Inventory Management API\",\n    \"description\": \"API for inventory analysis, profitability tracking, and restocking recommendations\",\n    \"version\": \"1.0.0\"\n  },\n  \"paths\": {\n    \"/getInventorySummary\": {\n      \"post\": {\n        \"description\": \"Get comprehensive inventory summary including stock levels, values, and alerts\",\n        \"operationId\": \"getInventorySummary\",\n        \"requestBody\": {\n          \"description\": \"No parameters required\",\n          \"required\": false,\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"type\": \"object\",\n                \"properties\": {}\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Inventory summary response\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"total_products\": { \"type\": \"integer\" },\n                    \"total_inventory_value\": { \"type\": \"number\" },\n                    \"total_potential_revenue\": { \"type\": \"number\" },\n                    \"total_potential_profit\": { \"type\": \"number\" },\n                    \"out_of_stock_items\": {\n                      \"type\": \"array\",\n                      \"items\": { \"type\": \"string\" }\n                    },\n                    \"low_stock_items\": {\n                      \"type\": \"array\",\n                      \"items\": { \"type\": \"string\" }\n                    },\n                    \"timestamp\": { \"type\": \"string\" }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/getProfitabilityAnalysis\": {\n      \"post\": {\n        \"description\": \"Analyze product profitability including margins and profit potential\",\n        \"operationId\": \"getProfitabilityAnalysis\",\n        \"requestBody\": {\n          \"description\": \"No parameters required\",\n          \"required\": false,\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"type\": \"object\",\n                \"properties\": {}\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Profitability analysis response\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"top_profit_opportunities\": {\n                      \"type\": \"array\",\n                      \"items\": {\n                        \"type\": \"object\",\n                        \"properties\": {\n                          \"name\": { \"type\": \"string\" },\n                          \"margin\": { \"type\": \"number\" },\n                          \"potential_profit\": { \"type\": \"number\" },\n                          \"realized_profit\": { \"type\": \"number\" },\n                          \"stock\": { \"type\": \"integer\" },\n                          \"units_sold\": { \"type\": \"integer\" }\n                        }\n                      }\n                    },\n                    \"low_margin_products\": {\n                      \"type\": \"array\",\n                      \"items\": { \"type\": \"object\" }\n                    },\n                    \"timestamp\": { \"type\": \"string\" }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/getRestockRecommendations\": {\n      \"post\": {\n        \"description\": \"Generate intelligent restocking recommendations based on stock levels and velocity\",\n        \"operationId\": \"getRestockRecommendations\",\n        \"requestBody\": {\n          \"description\": \"No parameters required\",\n          \"required\": false,\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"type\": \"object\",\n                \"properties\": {}\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Restock recommendations response\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"critical_restocks\": {\n                      \"type\": \"array\",\n                      \"items\": {\n                        \"type\": \"object\",\n                        \"properties\": {\n                          \"name\": { \"type\": \"string\" },\n                          \"current_stock\": { \"type\": \"integer\" },\n                          \"recommended_quantity\": { \"type\": \"integer\" },\n                          \"investment_needed\": { \"type\": \"number\" },\n                          \"reason\": { \"type\": \"string\" }\n                        }\n                      }\n                    },\n                    \"high_priority_restocks\": {\n                      \"type\": \"array\",\n                      \"items\": {\n                        \"type\": \"object\",\n                        \"properties\": {\n                          \"name\": { \"type\": \"string\" },\n                          \"current_stock\": { \"type\": \"integer\" },\n                          \"recommended_quantity\": { \"type\": \"integer\" },\n                          \"investment_needed\": { \"type\": \"number\" },\n                          \"days_until_stockout\": { \"type\": \"number\" }\n                        }\n                      }\n                    },\n                    \"timestamp\": { \"type\": \"string\" }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n"},"description":"Handles inventory analysis, profitability calculations, and restocking recommendations using Wakamate API.","skipResourceInUseCheckOnDelete":false}],"agentName":"bedrock-agent-devbackend-wakamatemuagent-inventoryagent-42de250a","agentResourceRoleArn":{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventoryAgentRole0CE10E12","Arn"]},"autoPrepare":true,"foundationModel":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":bedrock:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":inference-profile/us.amazon.nova-micro-v1:0"]]},"idleSessionTtlInSeconds":1800,"instruction":"You are Wakamate's Inventory Management Agent, an expert in business analytics and optimization.\n\nYour responsibilities:\n1. Analyze inventory levels and stock health\n2. Calculate profitability and margins\n3. Generate intelligent restocking recommendations\n4. Provide actionable business insights\n\nKey capabilities:\n- Comprehensive inventory summaries\n- Profit margin analysis\n- Stock velocity calculations\n- ROI projections for restocking\n- Out-of-stock and low-stock alerts\n\nGuidelines:\n- Present data clearly with specific numbers and percentages\n- Always highlight critical issues (out of stock items)\n- Provide investment amounts for restocking decisions\n- Calculate days until stockout based on velocity\n- Prioritize recommendations by urgency and profit impact\n\nUse your action group tools to fetch inventory data, analyze profitability, and generate recommendations.\nBase all insights on real API data - never estimate or guess inventory figures.\n","knowledgeBases":[{"knowledgeBaseId":{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventoryKnowledgeBaseMyCfnKnowledgeBaseA04C268F","KnowledgeBaseId"]},"knowledgeBaseState":"ENABLED","description":"Use this knowledge base to retrieve inventory management strategies, profitability analysis methods, and restocking best practices."}],"skipResourceInUseCheckOnDelete":false}}},"DefaultAlias":{"id":"DefaultAlias","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/inventoryAgent/DefaultAlias","constructInfo":{"fqn":"@cdklabs/generative-ai-cdk-constructs.bedrock.AgentAliasBase","version":"0.1.312","metadata":[]}}}},"alias":{"id":"alias","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/alias","constructInfo":{"fqn":"@cdklabs/generative-ai-cdk-constructs.bedrock.AgentAlias","version":"0.1.312","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/inventorySubAgent/alias/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_bedrock.CfnAgentAlias","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Bedrock::AgentAlias","aws:cdk:cloudformation:props":{"agentAliasName":"latest-f6f731df31ac89358bac1763e90e1166","agentId":{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventoryAgentAgentResource4076C6CA","AgentId"]}}}}}}}},"immediateKbSyncCheckerPowertoolsLayer":{"id":"immediateKbSyncCheckerPowertoolsLayer","path":"dev/backend/wakamateMultiAgent/immediateKbSyncCheckerPowertoolsLayer","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"immediateKbSyncChecker":{"id":"immediateKbSyncChecker","path":"dev/backend/wakamateMultiAgent/immediateKbSyncChecker","constructInfo":{"fqn":"@aws-cdk/aws-lambda-python-alpha.PythonFunction","version":"2.187.0-alpha.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"dev/backend/wakamateMultiAgent/immediateKbSyncChecker/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"dev/backend/wakamateMultiAgent/immediateKbSyncChecker/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/immediateKbSyncChecker/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev/backend/wakamateMultiAgent/immediateKbSyncChecker/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/immediateKbSyncChecker/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["bedrock:GetDataSource","bedrock:GetKnowledgeBase","bedrock:ListDataSources","bedrock:ListIngestionJobs","bedrock:ListKnowledgeBases","bedrock:StartIngestionJob"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"wakamateMultiAgentimmediateKbSyncCheckerServiceRoleDefaultPolicy78250BE8","roles":[{"Ref":"wakamateMultiAgentimmediateKbSyncCheckerServiceRoleC2070C68"}]}}}}}}},"Code":{"id":"Code","path":"dev/backend/wakamateMultiAgent/immediateKbSyncChecker/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/wakamateMultiAgent/immediateKbSyncChecker/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/wakamateMultiAgent/immediateKbSyncChecker/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/immediateKbSyncChecker/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"architectures":["x86_64"],"code":{"s3Bucket":"cdk-hnb659fds-assets-024230653186-us-east-1","s3Key":"1992f7bf242f6bbf49892e3e52f3c5490997804ee56763fcc2722178634b668a.zip"},"environment":{"variables":{"POWERTOOLS_SERVICE_NAME":"immediate-kb-sync-checker"}},"handler":"index.lambda_handler","layers":["arn:aws:lambda:us-east-1:017000801446:layer:AWSLambdaPowertoolsPythonV2:48"],"memorySize":256,"role":{"Fn::GetAtt":["wakamateMultiAgentimmediateKbSyncCheckerServiceRoleC2070C68","Arn"]},"runtime":"python3.12","timeout":60}}},"LogRetention":{"id":"LogRetention","path":"dev/backend/wakamateMultiAgent/immediateKbSyncChecker/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.230.0"},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/immediateKbSyncChecker/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}},"LogGroup":{"id":"LogGroup","path":"dev/backend/wakamateMultiAgent/immediateKbSyncChecker/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}}}},"TriggerKnowledgeBaseSync":{"id":"TriggerKnowledgeBaseSync","path":"dev/backend/wakamateMultiAgent/TriggerKnowledgeBaseSync","constructInfo":{"fqn":"aws-cdk-lib.custom_resources.AwsCustomResource","version":"2.230.0"},"children":{"Provider":{"id":"Provider","path":"dev/backend/wakamateMultiAgent/TriggerKnowledgeBaseSync/Provider","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/TriggerKnowledgeBaseSync/Resource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.230.0","metadata":[]},"children":{"Default":{"id":"Default","path":"dev/backend/wakamateMultiAgent/TriggerKnowledgeBaseSync/Resource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}},"CustomResourcePolicy":{"id":"CustomResourcePolicy","path":"dev/backend/wakamateMultiAgent/TriggerKnowledgeBaseSync/CustomResourcePolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/TriggerKnowledgeBaseSync/CustomResourcePolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":{"Fn::GetAtt":["wakamateMultiAgentimmediateKbSyncChecker52497FD3","Arn"]}}],"Version":"2012-10-17"},"policyName":"wakamateMultiAgentTriggerKnowledgeBaseSyncCustomResourcePolicy52D98749","roles":[{"Ref":"AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"}]}}}}}}},"supervisorAgent":{"id":"supervisorAgent","path":"dev/backend/wakamateMultiAgent/supervisorAgent","constructInfo":{"fqn":"@cdklabs/generative-ai-cdk-constructs.bedrock.Agent","version":"0.1.312","metadata":[]},"children":{"Role":{"id":"Role","path":"dev/backend/wakamateMultiAgent/supervisorAgent/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"dev/backend/wakamateMultiAgent/supervisorAgent/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/supervisorAgent/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Condition":{"StringEquals":{"aws:SourceAccount":"024230653186"},"ArnLike":{"aws:SourceArn":"arn:aws:bedrock:us-east-1:024230653186:agent/*"}},"Effect":"Allow","Principal":{"Service":"bedrock.amazonaws.com"}}],"Version":"2012-10-17"},"roleName":"AmazonBedrockExecutionRoleForAgents_devbackendvisorAgent7B9ABC31"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev/backend/wakamateMultiAgent/supervisorAgent/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/supervisorAgent/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["bedrock:GetAgentAlias","bedrock:InvokeAgent"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentalias17A1367D","AgentAliasArn"]},{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentaliasF1D865A8","AgentAliasArn"]},{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentalias69483BF5","AgentAliasArn"]}]},{"Action":["bedrock:GetFoundationModel","bedrock:InvokeModel*"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.nova-pro-v1:0"]]}},{"Action":["bedrock:GetFoundationModel","bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":"arn:aws:bedrock:us-east-1::foundation-model/amazon.nova-pro-v1:0"}],"Version":"2012-10-17"},"policyName":"wakamateMultiAgentsupervisorAgentRoleDefaultPolicy875878BD","roles":[{"Ref":"wakamateMultiAgentsupervisorAgentRole0E35DF0C"}]}}}}}}},"AgentResource":{"id":"AgentResource","path":"dev/backend/wakamateMultiAgent/supervisorAgent/AgentResource","constructInfo":{"fqn":"aws-cdk-lib.aws_bedrock.CfnAgent","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Bedrock::Agent","aws:cdk:cloudformation:props":{"actionGroups":[{"actionGroupName":"UserInputAction","actionGroupState":"DISABLED","parentActionGroupSignature":"AMAZON.UserInput","skipResourceInUseCheckOnDelete":false},{"actionGroupName":"CodeInterpreterAction","actionGroupState":"DISABLED","parentActionGroupSignature":"AMAZON.CodeInterpreter","skipResourceInUseCheckOnDelete":false}],"agentCollaboration":"SUPERVISOR","agentCollaborators":[{"agentDescriptor":{"aliasArn":{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentaliasF1D865A8","AgentAliasArn"]}},"collaborationInstruction":"Expert in Lagos delivery route optimization, traffic analysis, and logistics planning. Handles geocoding, TSP optimization, and provides real-time traffic intelligence.","collaboratorName":"DeliveryRoute","relayConversationHistory":"TO_COLLABORATOR"},{"agentDescriptor":{"aliasArn":{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentalias17A1367D","AgentAliasArn"]}},"collaborationInstruction":"Expert in creating engaging social media captions for Instagram, Facebook, Twitter, LinkedIn, and TikTok. Generates product-specific marketing content using inventory data and provides multiple caption variations with hashtags and emojis.","collaboratorName":"CaptionGenerator","relayConversationHistory":"TO_COLLABORATOR"},{"agentDescriptor":{"aliasArn":{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentalias69483BF5","AgentAliasArn"]}},"collaborationInstruction":"Expert in inventory management, sales analysis, profitability optimization, and restocking strategies. Provides actionable insights and recommendations for business optimization.","collaboratorName":"Inventory","relayConversationHistory":"TO_COLLABORATOR"}],"agentName":"bedrock-agent-devbackend-wakamatemugent-supervisoragent-7b9abc31","agentResourceRoleArn":{"Fn::GetAtt":["wakamateMultiAgentsupervisorAgentRole0E35DF0C","Arn"]},"autoPrepare":false,"foundationModel":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.nova-pro-v1:0"]]},"idleSessionTtlInSeconds":3600,"instruction":"You are the Main AI Coordinator Agent for Wakamate - an intelligent business management system. You are responsible for answering customer requests in natural language by coordinating with specialized sub-agents. Your primary role is to interpret the customer's needs, delegate tasks to the appropriate specialized agents, and manage the responses from each agent to provide a personalized, cohesive, and helpful answer to the customer.\n\nAlways attempt to answer questions on first response with the current available information. Here are steps that I would like for you to follow:\n\n1. Analyze the customer's input to determine the primary objective and identify the specific area of support required. For example:\n   - Inventory management, sales analysis, profitability insights, or restocking needs\n   - Social media caption generation and product marketing content\n   - Delivery route optimization, traffic analysis, and logistics planning\n\n2. Select the appropriate sub-agents to handle the request. These agents include:\n\n   - **Inventory Agent**: This agent manages all inventory-related tasks including:\n     * Product inventory summaries and analytics\n     * Sales performance tracking and profitability analysis\n     * Restocking recommendations based on stock levels and velocity\n     * Investment calculations for inventory replenishment\n     Use this agent for any questions about stock levels, profit margins, product performance, or business analytics.\n\n   - **CaptionGenerator Agent**: This agent creates engaging social media content:\n     * Generates captions for Instagram, Facebook, Twitter, LinkedIn, TikTok\n     * Creates product-specific marketing content using inventory data\n     * Provides multiple caption variations with different tones\n     * Includes strategic hashtags and emojis for engagement\n     Use this agent when customers want to promote products on social media or need marketing content.\n\n   - **DeliveryRoute Agent**: This agent optimizes delivery logistics for Lagos, Nigeria:\n     * Geocodes addresses and calculates optimal delivery routes\n     * Provides real-time traffic intelligence and route recommendations\n     * Uses TSP algorithms for multi-stop route optimization\n     * Offers timing strategies to avoid Lagos rush hours\n     Use this agent for delivery planning, route optimization, or logistics questions.\n\n3. Sequential and Parallel Agent Delegation:\n   - For simple queries, call the single most appropriate agent\n   - For complex queries requiring multi-step actions or data from multiple sources, determine the sequence in which the sub-agents should be engaged\n   - Feel free to call agents in parallel to expedite requests when appropriate\n   - Execute each agent's task in the required order based on request, combining the outputs as needed\n\n4. Response Compilation and Presentation:\n   - After collecting responses from the relevant sub-agents, synthesize ALL gathered information into a clear and cohesive response\n   - Utilize ALL data collected from sub-agents to create the most comprehensive and helpful response possible\n   - Ensure the response is accurate, relevant, and completely answers the request by integrating all available information\n   - Maintain a professional yet friendly tone\n\n5. Context and Personalization:\n   - Consider the full conversation history when appropriate\n   - If a customer mentions specific products, categories, or locations, ensure these details are passed to the relevant agents\n   - Provide actionable insights and recommendations, not just raw data\n\nImportant Guidelines:\n- Do not hallucinate or provide information not available from the sub-agents\n- If you cannot find specific information, provide a response based on data you do have and clearly state any limitations\n- Keep responses clear, well-organized, and actionable\n- Use proper formatting with headers, bullet points, and sections when presenting complex information\n- Always prioritize accuracy and usefulness over response length\n- If a request is ambiguous, ask clarifying questions before delegating to sub-agents\n\nExample Routing Decisions:\n- \"What products are out of stock?\"  Inventory Agent\n- \"Create Instagram captions for my headphones\"  CaptionGenerator Agent (may also query Inventory for product details)\n- \"Optimize delivery route for 5 addresses in Lagos\"  DeliveryRoute Agent\n- \"Which products are most profitable and need restocking?\"  Inventory Agent (sequential calls for analysis + recommendations)\n- \"I need to deliver products and post about them on social media\"  DeliveryRoute + CaptionGenerator (parallel execution)\n\nYour goal is to be the intelligent orchestration layer that makes the Wakamate system seamless and powerful for users.\n","skipResourceInUseCheckOnDelete":false}}},"DefaultAlias":{"id":"DefaultAlias","path":"dev/backend/wakamateMultiAgent/supervisorAgent/DefaultAlias","constructInfo":{"fqn":"@cdklabs/generative-ai-cdk-constructs.bedrock.AgentAliasBase","version":"0.1.312","metadata":[]}}}},"alias":{"id":"alias","path":"dev/backend/wakamateMultiAgent/alias","constructInfo":{"fqn":"@cdklabs/generative-ai-cdk-constructs.bedrock.AgentAlias","version":"0.1.312","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/wakamateMultiAgent/alias/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_bedrock.CfnAgentAlias","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Bedrock::AgentAlias","aws:cdk:cloudformation:props":{"agentAliasName":"latest-797707712fdef2dbee68bd1cb76d3e73","agentId":{"Fn::GetAtt":["wakamateMultiAgentsupervisorAgentAgentResource96FF0CF0","AgentId"]}}}}}}}},"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a":{"id":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","path":"dev/backend/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Code":{"id":"Code","path":"dev/backend/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"ServiceRole":{"id":"ServiceRole","path":"dev/backend/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"dev/backend/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev/backend/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:DeleteRetentionPolicy","logs:PutRetentionPolicy"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB","roles":[{"Ref":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB"}]}}}}}}},"Resource":{"id":"Resource","path":"dev/backend/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}},"OpenSearchIndexCRProvider":{"id":"OpenSearchIndexCRProvider","path":"dev/backend/OpenSearchIndexCRProvider","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"CRRole":{"id":"CRRole","path":"dev/backend/OpenSearchIndexCRProvider/CRRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportCRRole":{"id":"ImportCRRole","path":"dev/backend/OpenSearchIndexCRProvider/CRRole/ImportCRRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/OpenSearchIndexCRProvider/CRRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Ref":"wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBaseKBVectorsAOSSApiAccessAllF04272E0"},{"Ref":"wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBaseKBVectorsAOSSApiAccessAll16DBA1D0"},{"Ref":"wakamateMultiAgentinventorySubAgentinventoryKnowledgeBaseKBVectorsAOSSApiAccessAll98BFEDCA"}]}}}}},"CustomResourcesFunction":{"id":"CustomResourcesFunction","path":"dev/backend/OpenSearchIndexCRProvider/CustomResourcesFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.230.0","metadata":[]},"children":{"Code":{"id":"Code","path":"dev/backend/OpenSearchIndexCRProvider/CustomResourcesFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/OpenSearchIndexCRProvider/CustomResourcesFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/OpenSearchIndexCRProvider/CustomResourcesFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"dev/backend/OpenSearchIndexCRProvider/CustomResourcesFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-024230653186-us-east-1","s3Key":"6de4c45fab49c20b110a0a4b041a5aa75fea03990995752bc431bba87c9d46d7.zip"},"description":"Custom Resource Provider","handler":"custom_resources.on_event","memorySize":128,"role":{"Fn::GetAtt":["OpenSearchIndexCRProviderCRRole466FC04E","Arn"]},"runtime":"python3.12","timeout":900}}},"LogRetention":{"id":"LogRetention","path":"dev/backend/OpenSearchIndexCRProvider/CustomResourcesFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.230.0"},"children":{"Resource":{"id":"Resource","path":"dev/backend/OpenSearchIndexCRProvider/CustomResourcesFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}},"LogGroup":{"id":"LogGroup","path":"dev/backend/OpenSearchIndexCRProvider/CustomResourcesFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}}}},"ProviderRole":{"id":"ProviderRole","path":"dev/backend/OpenSearchIndexCRProvider/ProviderRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportProviderRole":{"id":"ImportProviderRole","path":"dev/backend/OpenSearchIndexCRProvider/ProviderRole/ImportProviderRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/OpenSearchIndexCRProvider/ProviderRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev/backend/OpenSearchIndexCRProvider/ProviderRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/OpenSearchIndexCRProvider/ProviderRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["OpenSearchIndexCRProviderCustomResourcesFunction4F9ADEA2","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["OpenSearchIndexCRProviderCustomResourcesFunction4F9ADEA2","Arn"]},":*"]]}]},{"Action":"lambda:GetFunction","Effect":"Allow","Resource":{"Fn::GetAtt":["OpenSearchIndexCRProviderCustomResourcesFunction4F9ADEA2","Arn"]}}],"Version":"2012-10-17"},"policyName":"OpenSearchIndexCRProviderProviderRoleDefaultPolicy9810CB1F","roles":[{"Ref":"OpenSearchIndexCRProviderProviderRole87B4E831"}]}}}}}}},"Provider":{"id":"Provider","path":"dev/backend/OpenSearchIndexCRProvider/Provider","constructInfo":{"fqn":"aws-cdk-lib.custom_resources.Provider","version":"2.230.0"},"children":{"framework-onEvent":{"id":"framework-onEvent","path":"dev/backend/OpenSearchIndexCRProvider/Provider/framework-onEvent","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.230.0","metadata":[]},"children":{"Code":{"id":"Code","path":"dev/backend/OpenSearchIndexCRProvider/Provider/framework-onEvent/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/OpenSearchIndexCRProvider/Provider/framework-onEvent/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/OpenSearchIndexCRProvider/Provider/framework-onEvent/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"dev/backend/OpenSearchIndexCRProvider/Provider/framework-onEvent/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-024230653186-us-east-1","s3Key":"bdc104ed9cab1b5b6421713c8155f0b753380595356f710400609664d3635eca.zip"},"description":"AWS CDK resource provider framework - onEvent (dev/backend/OpenSearchIndexCRProvider/Provider)","environment":{"variables":{"USER_ON_EVENT_FUNCTION_ARN":{"Fn::GetAtt":["OpenSearchIndexCRProviderCustomResourcesFunction4F9ADEA2","Arn"]}}},"handler":"framework.onEvent","loggingConfig":{"logFormat":"JSON","applicationLogLevel":"FATAL"},"role":{"Fn::GetAtt":["OpenSearchIndexCRProviderProviderRole87B4E831","Arn"]},"runtime":"nodejs22.x","timeout":900}}},"LogRetention":{"id":"LogRetention","path":"dev/backend/OpenSearchIndexCRProvider/Provider/framework-onEvent/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.230.0"},"children":{"Resource":{"id":"Resource","path":"dev/backend/OpenSearchIndexCRProvider/Provider/framework-onEvent/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}},"LogGroup":{"id":"LogGroup","path":"dev/backend/OpenSearchIndexCRProvider/Provider/framework-onEvent/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}}}}}}}},"AWSb4cf1abd4e4f4bc699441af7ccd9ec37":{"id":"AWSb4cf1abd4e4f4bc699441af7ccd9ec37","path":"dev/backend/AWSb4cf1abd4e4f4bc699441af7ccd9ec37","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.230.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"dev/backend/AWSb4cf1abd4e4f4bc699441af7ccd9ec37/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"dev/backend/AWSb4cf1abd4e4f4bc699441af7ccd9ec37/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/AWSb4cf1abd4e4f4bc699441af7ccd9ec37/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev/backend/AWSb4cf1abd4e4f4bc699441af7ccd9ec37/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/AWSb4cf1abd4e4f4bc699441af7ccd9ec37/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"bedrock:StartIngestionJob","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"AWSb4cf1abd4e4f4bc699441af7ccd9ec37ServiceRoleDefaultPolicy4D43A7C1","roles":[{"Ref":"AWSb4cf1abd4e4f4bc699441af7ccd9ec37ServiceRole9FFE9C50"}]}}}}}}},"Code":{"id":"Code","path":"dev/backend/AWSb4cf1abd4e4f4bc699441af7ccd9ec37/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/AWSb4cf1abd4e4f4bc699441af7ccd9ec37/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/AWSb4cf1abd4e4f4bc699441af7ccd9ec37/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"dev/backend/AWSb4cf1abd4e4f4bc699441af7ccd9ec37/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-024230653186-us-east-1","s3Key":"3f4ef95ef2bf8c2bfad6be579002aa125b94dd8d3bc48f83b867a96cc8141f2c.zip"},"handler":"index.handler","memorySize":256,"role":{"Fn::GetAtt":["AWSb4cf1abd4e4f4bc699441af7ccd9ec37ServiceRole9FFE9C50","Arn"]},"runtime":"nodejs22.x","timeout":60}}}}},"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C":{"id":"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C","path":"dev/backend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.230.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"dev/backend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"dev/backend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev/backend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":["arn:aws:s3:::cdk-hnb659fds-assets-024230653186-us-east-1","arn:aws:s3:::cdk-hnb659fds-assets-024230653186-us-east-1/*"]},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBucketE1F09CD0","Arn"]},{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBucket1B5D9BDB","Arn"]},{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventoryKnowledgeBucketC1AE0875","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["wakamateMultiAgentcaptionGeneratorSubAgentcaptionKnowledgeBucketE1F09CD0","Arn"]},"/*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeBucket1B5D9BDB","Arn"]},"/*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["wakamateMultiAgentinventorySubAgentinventoryKnowledgeBucketC1AE0875","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF","roles":[{"Ref":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265"}]}}}}}}},"Code":{"id":"Code","path":"dev/backend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"dev/backend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-024230653186-us-east-1","s3Key":"3423a042b818e31c1e34a19d6689ab2e5f9b70fcbe9e71df66f241b20a200bd9.zip"},"environment":{"variables":{"AWS_CA_BUNDLE":"/etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem"}},"handler":"index.handler","layers":[{"Ref":"wakamateMultiAgentdeliveryRouteSubAgentdeliveryKnowledgeDeploymentAwsCliLayer0A36A820"}],"role":{"Fn::GetAtt":["CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265","Arn"]},"runtime":"python3.13","timeout":900}}}}},"AWS679f53fac002430cb0da5b7982bd2287":{"id":"AWS679f53fac002430cb0da5b7982bd2287","path":"dev/backend/AWS679f53fac002430cb0da5b7982bd2287","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.230.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"dev/backend/AWS679f53fac002430cb0da5b7982bd2287/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"dev/backend/AWS679f53fac002430cb0da5b7982bd2287/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/AWS679f53fac002430cb0da5b7982bd2287/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}}}},"Code":{"id":"Code","path":"dev/backend/AWS679f53fac002430cb0da5b7982bd2287/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/AWS679f53fac002430cb0da5b7982bd2287/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/AWS679f53fac002430cb0da5b7982bd2287/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"dev/backend/AWS679f53fac002430cb0da5b7982bd2287/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-024230653186-us-east-1","s3Key":"bc8ef58951f4c88e641dd23090e9d2e2e61c7530a07960e767522941e959b625.zip"},"handler":"index.handler","role":{"Fn::GetAtt":["AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2","Arn"]},"runtime":"nodejs22.x","timeout":120}}}}},"streamingApi":{"id":"streamingApi","path":"dev/backend/streamingApi","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"amplifiedGraphApi":{"id":"amplifiedGraphApi","path":"dev/backend/streamingApi/amplifiedGraphApi","constructInfo":{"fqn":"@aws-amplify/graphql-api-construct.AmplifyGraphqlApi","version":"1.20.3"},"children":{"transformer-user-pool":{"id":"transformer-user-pool","path":"dev/backend/streamingApi/amplifiedGraphApi/transformer-user-pool","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"GraphQLAPI":{"id":"GraphQLAPI","path":"dev/backend/streamingApi/amplifiedGraphApi/GraphQLAPI","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.GraphqlApiBase","version":"2.230.0","metadata":[]},"children":{"ApiLogsRole":{"id":"ApiLogsRole","path":"dev/backend/streamingApi/amplifiedGraphApi/GraphQLAPI/ApiLogsRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportApiLogsRole":{"id":"ImportApiLogsRole","path":"dev/backend/streamingApi/amplifiedGraphApi/GraphQLAPI/ApiLogsRole/ImportApiLogsRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/streamingApi/amplifiedGraphApi/GraphQLAPI/ApiLogsRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSAppSyncPushToCloudWatchLogs"]]}]}}}}},"Resource":{"id":"Resource","path":"dev/backend/streamingApi/amplifiedGraphApi/GraphQLAPI/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnGraphQLApi","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::GraphQLApi","aws:cdk:cloudformation:props":{"additionalAuthenticationProviders":[{"authenticationType":"AWS_IAM"}],"authenticationType":"AMAZON_COGNITO_USER_POOLS","logConfig":{"cloudWatchLogsRoleArn":{"Fn::GetAtt":["streamingApiamplifiedGraphApiGraphQLAPIApiLogsRole72EC53C2","Arn"]},"excludeVerboseContent":false,"fieldLogLevel":"ALL"},"name":"amplifiedGraphApi","userPoolConfig":{"userPoolId":{"Ref":"authuserPoolE16D54A3"},"awsRegion":"us-east-1","defaultAction":"ALLOW"},"xrayEnabled":true}}},"TransformerSchema":{"id":"TransformerSchema","path":"dev/backend/streamingApi/amplifiedGraphApi/GraphQLAPI/TransformerSchema","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnGraphQLSchema","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::GraphQLSchema","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["streamingApiamplifiedGraphApiGraphQLAPI03514468","ApiId"]},"definitionS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/ed391feda676db062bfea162fc2caff83b01b74d3ad2b2ab986cfb26fbba248b.graphql"}}},"LogRetention":{"id":"LogRetention","path":"dev/backend/streamingApi/amplifiedGraphApi/GraphQLAPI/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.230.0"},"children":{"Resource":{"id":"Resource","path":"dev/backend/streamingApi/amplifiedGraphApi/GraphQLAPI/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}},"NONE_DS":{"id":"NONE_DS","path":"dev/backend/streamingApi/amplifiedGraphApi/GraphQLAPI/NONE_DS","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.NoneDataSource","version":"2.230.0"},"children":{"Resource":{"id":"Resource","path":"dev/backend/streamingApi/amplifiedGraphApi/GraphQLAPI/NONE_DS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["streamingApiamplifiedGraphApiGraphQLAPI03514468","ApiId"]},"description":"None Data Source for Pipeline functions","name":"NONE_DS","type":"NONE"}}}}},"schema":{"id":"schema","path":"dev/backend/streamingApi/amplifiedGraphApi/GraphQLAPI/schema","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/GraphQLAPI/schema/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/GraphQLAPI/schema/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}}}},"Chat":{"id":"Chat","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat","constructInfo":{"fqn":"aws-cdk-lib.NestedStack","version":"2.230.0"},"children":{"DynamoDBModelTableReadIOPS":{"id":"DynamoDBModelTableReadIOPS","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/DynamoDBModelTableReadIOPS","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"DynamoDBModelTableWriteIOPS":{"id":"DynamoDBModelTableWriteIOPS","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/DynamoDBModelTableWriteIOPS","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"DynamoDBBillingMode":{"id":"DynamoDBBillingMode","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/DynamoDBBillingMode","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"DynamoDBEnablePointInTimeRecovery":{"id":"DynamoDBEnablePointInTimeRecovery","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/DynamoDBEnablePointInTimeRecovery","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"DynamoDBEnableServerSideEncryption":{"id":"DynamoDBEnableServerSideEncryption","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/DynamoDBEnableServerSideEncryption","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"HasEnvironmentParameter":{"id":"HasEnvironmentParameter","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/HasEnvironmentParameter","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.230.0"}},"ShouldUseServerSideEncryption":{"id":"ShouldUseServerSideEncryption","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/ShouldUseServerSideEncryption","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.230.0"}},"ShouldUsePayPerRequestBilling":{"id":"ShouldUsePayPerRequestBilling","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/ShouldUsePayPerRequestBilling","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.230.0"}},"ShouldUsePointInTimeRecovery":{"id":"ShouldUsePointInTimeRecovery","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/ShouldUsePointInTimeRecovery","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.230.0"}},"ChatTable":{"id":"ChatTable","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/ChatTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/ChatTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"id","attributeType":"S"},{"attributeName":"sessionId","attributeType":"S"}],"billingMode":{"Fn::If":["ShouldUsePayPerRequestBilling","PAY_PER_REQUEST",{"Ref":"AWS::NoValue"}]},"globalSecondaryIndexes":[{"indexName":"bySessionId","keySchema":[{"attributeName":"sessionId","keyType":"HASH"}],"projection":{"projectionType":"ALL"},"provisionedThroughput":{"Fn::If":["ShouldUsePayPerRequestBilling",{"Ref":"AWS::NoValue"},{"ReadCapacityUnits":{"Ref":"DynamoDBModelTableReadIOPS"},"WriteCapacityUnits":{"Ref":"DynamoDBModelTableWriteIOPS"}}]}}],"keySchema":[{"attributeName":"id","keyType":"HASH"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"provisionedThroughput":{"Fn::If":["ShouldUsePayPerRequestBilling",{"Ref":"AWS::NoValue"},{"ReadCapacityUnits":{"Ref":"DynamoDBModelTableReadIOPS"},"WriteCapacityUnits":{"Ref":"DynamoDBModelTableWriteIOPS"}}]},"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"streamSpecification":{"streamViewType":"NEW_AND_OLD_IMAGES"},"tableName":{"Fn::Join":["",["Chat-",{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"-NONE"]]}}}},"ScalingRole":{"id":"ScalingRole","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/ChatTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}}}},"ChatIAMRole":{"id":"ChatIAMRole","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/ChatIAMRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportChatIAMRole":{"id":"ImportChatIAMRole","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/ChatIAMRole/ImportChatIAMRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/ChatIAMRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"},"policies":[{"policyName":"DynamoDBAccess","policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::Sub":["arn:${AWS::Partition}:dynamodb:${AWS::Region}:${AWS::AccountId}:table/${tablename}",{"tablename":{"Fn::Join":["",["Chat-",{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"-NONE"]]}}]},{"Fn::Sub":["arn:${AWS::Partition}:dynamodb:${AWS::Region}:${AWS::AccountId}:table/${tablename}/*",{"tablename":{"Fn::Join":["",["Chat-",{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"-NONE"]]}}]}]}],"Version":"2012-10-17"}}],"roleName":{"Fn::Join":["",["ChatIAMRolec509fa-",{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"-NONE"]]}}}}}},"ImmutableRoleChatIAMRole":{"id":"ImmutableRoleChatIAMRole","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/ImmutableRoleChatIAMRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"ChatDataSource":{"id":"ChatDataSource","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/ChatDataSource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.DynamoDbDataSource","version":"2.230.0"},"children":{"Resource":{"id":"Resource","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/ChatDataSource/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dynamoDbConfig":{"tableName":{"Ref":"ChatTable7A2D1C24"},"awsRegion":"us-east-1"},"name":"ChatTable","serviceRoleArn":{"Fn::GetAtt":["ChatIAMRoleE701828D","Arn"]},"type":"AMAZON_DYNAMODB"}}}}},"QuerygetChatauth0Function":{"id":"QuerygetChatauth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerygetChatauth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Query.getChat.auth.1.req.vtl":{"id":"Templateresolvers--Query.getChat.auth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerygetChatauth0Function/Templateresolvers--Query.getChat.auth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerygetChatauth0Function/Templateresolvers--Query.getChat.auth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerygetChatauth0Function/Templateresolvers--Query.getChat.auth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"QuerygetChatauth0Function.AppSyncFunction":{"id":"QuerygetChatauth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerygetChatauth0Function/QuerygetChatauth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"QuerygetChatauth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/0f92e99bcb81a1be9f728ca16332154faffe519356aba777fb42d560a3fe2b8b.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"QuerygetChatpostAuth0Function":{"id":"QuerygetChatpostAuth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerygetChatpostAuth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Query.getChat.postAuth.1.req.vtl":{"id":"Templateresolvers--Query.getChat.postAuth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerygetChatpostAuth0Function/Templateresolvers--Query.getChat.postAuth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerygetChatpostAuth0Function/Templateresolvers--Query.getChat.postAuth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerygetChatpostAuth0Function/Templateresolvers--Query.getChat.postAuth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"QuerygetChatpostAuth0Function.AppSyncFunction":{"id":"QuerygetChatpostAuth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerygetChatpostAuth0Function/QuerygetChatpostAuth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"QuerygetChatpostAuth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/c1721bcd774e27c514d3454b5be4f9bdd094c0161b57ddf053d618e3b0086a77.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"QueryGetChatDataResolverFn":{"id":"QueryGetChatDataResolverFn","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QueryGetChatDataResolverFn","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Query.getChat.req.vtl":{"id":"Templateresolvers--Query.getChat.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QueryGetChatDataResolverFn/Templateresolvers--Query.getChat.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QueryGetChatDataResolverFn/Templateresolvers--Query.getChat.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QueryGetChatDataResolverFn/Templateresolvers--Query.getChat.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Templateresolvers--Query.getChat.res.vtl":{"id":"Templateresolvers--Query.getChat.res.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QueryGetChatDataResolverFn/Templateresolvers--Query.getChat.res.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QueryGetChatDataResolverFn/Templateresolvers--Query.getChat.res.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QueryGetChatDataResolverFn/Templateresolvers--Query.getChat.res.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"QueryGetChatDataResolverFn.AppSyncFunction":{"id":"QueryGetChatDataResolverFn.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QueryGetChatDataResolverFn/QueryGetChatDataResolverFn.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Fn::GetAtt":["ChatDataSource","Name"]},"functionVersion":"2018-05-29","name":"QueryGetChatDataResolverFn","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/08f4d557693d96c1a4efba0f9dc91330e4b19772fd5477c156468843e3d9cb5e.vtl","responseMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/4c6a2d29f01c6091bd1d9afe16e5849d456c96f17c3b215938c8067399532719.vtl"}}}}},"queryGetChatResolver":{"id":"queryGetChatResolver","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/queryGetChatResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"fieldName":"getChat","kind":"PIPELINE","pipelineConfig":{"functions":[{"Fn::GetAtt":["QuerygetChatauth0FunctionQuerygetChatauth0FunctionAppSyncFunctionB782D042","FunctionId"]},{"Fn::GetAtt":["QuerygetChatpostAuth0FunctionQuerygetChatpostAuth0FunctionAppSyncFunctionE92C34A9","FunctionId"]},{"Fn::GetAtt":["QueryGetChatDataResolverFnQueryGetChatDataResolverFnAppSyncFunction42984EC5","FunctionId"]}]},"requestMappingTemplate":{"Fn::Join":["",["$util.qr($ctx.stash.put(\"typeName\", \"Query\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"getChat\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"AMAZON_DYNAMODB\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"\"))\n$util.qr($ctx.stash.put(\"connectionAttributes\", {}))\n$util.qr($ctx.stash.put(\"tableName\", \"",{"Ref":"ChatTable7A2D1C24"},"\"))\n$util.qr($ctx.stash.put(\"adminRoles\", []))\n$util.toJson({})"]]},"responseMappingTemplate":"$util.toJson($ctx.prev.result)","typeName":"Query"}}},"QuerylistChatsauth0Function":{"id":"QuerylistChatsauth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerylistChatsauth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Query.listChats.auth.1.req.vtl":{"id":"Templateresolvers--Query.listChats.auth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerylistChatsauth0Function/Templateresolvers--Query.listChats.auth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerylistChatsauth0Function/Templateresolvers--Query.listChats.auth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerylistChatsauth0Function/Templateresolvers--Query.listChats.auth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"QuerylistChatsauth0Function.AppSyncFunction":{"id":"QuerylistChatsauth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerylistChatsauth0Function/QuerylistChatsauth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"QuerylistChatsauth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/0f92e99bcb81a1be9f728ca16332154faffe519356aba777fb42d560a3fe2b8b.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"QuerylistChatspostAuth0Function":{"id":"QuerylistChatspostAuth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerylistChatspostAuth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Query.listChats.postAuth.1.req.vtl":{"id":"Templateresolvers--Query.listChats.postAuth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerylistChatspostAuth0Function/Templateresolvers--Query.listChats.postAuth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerylistChatspostAuth0Function/Templateresolvers--Query.listChats.postAuth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerylistChatspostAuth0Function/Templateresolvers--Query.listChats.postAuth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"QuerylistChatspostAuth0Function.AppSyncFunction":{"id":"QuerylistChatspostAuth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerylistChatspostAuth0Function/QuerylistChatspostAuth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"QuerylistChatspostAuth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/c1721bcd774e27c514d3454b5be4f9bdd094c0161b57ddf053d618e3b0086a77.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"QueryListChatsDataResolverFn":{"id":"QueryListChatsDataResolverFn","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QueryListChatsDataResolverFn","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Query.listChats.req.vtl":{"id":"Templateresolvers--Query.listChats.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QueryListChatsDataResolverFn/Templateresolvers--Query.listChats.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QueryListChatsDataResolverFn/Templateresolvers--Query.listChats.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QueryListChatsDataResolverFn/Templateresolvers--Query.listChats.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Templateresolvers--Query.listChats.res.vtl":{"id":"Templateresolvers--Query.listChats.res.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QueryListChatsDataResolverFn/Templateresolvers--Query.listChats.res.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QueryListChatsDataResolverFn/Templateresolvers--Query.listChats.res.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QueryListChatsDataResolverFn/Templateresolvers--Query.listChats.res.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"QueryListChatsDataResolverFn.AppSyncFunction":{"id":"QueryListChatsDataResolverFn.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QueryListChatsDataResolverFn/QueryListChatsDataResolverFn.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Fn::GetAtt":["ChatDataSource","Name"]},"functionVersion":"2018-05-29","name":"QueryListChatsDataResolverFn","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/9fcbe070ecd3023c5bf5b966fa9584757db9762eef123bad0820bd87591b2174.vtl","responseMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/cc01911d0269d4080ea57505dc445dfc315ef7ad85d3d9d4ea1357858bff451d.vtl"}}}}},"queryListChatsResolver":{"id":"queryListChatsResolver","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/queryListChatsResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"fieldName":"listChats","kind":"PIPELINE","pipelineConfig":{"functions":[{"Fn::GetAtt":["QuerylistChatsauth0FunctionQuerylistChatsauth0FunctionAppSyncFunction10F1FFC0","FunctionId"]},{"Fn::GetAtt":["QuerylistChatspostAuth0FunctionQuerylistChatspostAuth0FunctionAppSyncFunction8DFEBFA8","FunctionId"]},{"Fn::GetAtt":["QueryListChatsDataResolverFnQueryListChatsDataResolverFnAppSyncFunctionDD1A72E1","FunctionId"]}]},"requestMappingTemplate":{"Fn::Join":["",["$util.qr($ctx.stash.put(\"typeName\", \"Query\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"listChats\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"AMAZON_DYNAMODB\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"\"))\n$util.qr($ctx.stash.put(\"connectionAttributes\", {}))\n$util.qr($ctx.stash.put(\"tableName\", \"",{"Ref":"ChatTable7A2D1C24"},"\"))\n$util.qr($ctx.stash.put(\"adminRoles\", []))\n$util.toJson({})"]]},"responseMappingTemplate":"$util.toJson($ctx.prev.result)","typeName":"Query"}}},"MutationcreateChatinit0Function":{"id":"MutationcreateChatinit0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationcreateChatinit0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Mutation.createChat.init.1.req.vtl":{"id":"Templateresolvers--Mutation.createChat.init.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationcreateChatinit0Function/Templateresolvers--Mutation.createChat.init.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationcreateChatinit0Function/Templateresolvers--Mutation.createChat.init.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationcreateChatinit0Function/Templateresolvers--Mutation.createChat.init.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"MutationcreateChatinit0Function.AppSyncFunction":{"id":"MutationcreateChatinit0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationcreateChatinit0Function/MutationcreateChatinit0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"MutationcreateChatinit0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/a183ddccbd956316c38ef97177b8f088ef0826f62023323f5ae6053d348ccffc.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"MutationcreateChatauth0Function":{"id":"MutationcreateChatauth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationcreateChatauth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Mutation.createChat.auth.1.req.vtl":{"id":"Templateresolvers--Mutation.createChat.auth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationcreateChatauth0Function/Templateresolvers--Mutation.createChat.auth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationcreateChatauth0Function/Templateresolvers--Mutation.createChat.auth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationcreateChatauth0Function/Templateresolvers--Mutation.createChat.auth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"MutationcreateChatauth0Function.AppSyncFunction":{"id":"MutationcreateChatauth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationcreateChatauth0Function/MutationcreateChatauth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"MutationcreateChatauth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/5f9b5594ae9aa52a90d2dfff8b7456e288b87c458418c162b7bf3d352f657b8b.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"MutationcreateChatpostAuth0Function":{"id":"MutationcreateChatpostAuth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationcreateChatpostAuth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Mutation.createChat.postAuth.1.req.vtl":{"id":"Templateresolvers--Mutation.createChat.postAuth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationcreateChatpostAuth0Function/Templateresolvers--Mutation.createChat.postAuth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationcreateChatpostAuth0Function/Templateresolvers--Mutation.createChat.postAuth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationcreateChatpostAuth0Function/Templateresolvers--Mutation.createChat.postAuth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"MutationcreateChatpostAuth0Function.AppSyncFunction":{"id":"MutationcreateChatpostAuth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationcreateChatpostAuth0Function/MutationcreateChatpostAuth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"MutationcreateChatpostAuth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/c1721bcd774e27c514d3454b5be4f9bdd094c0161b57ddf053d618e3b0086a77.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"MutationCreateChatDataResolverFn":{"id":"MutationCreateChatDataResolverFn","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationCreateChatDataResolverFn","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Mutation.createChat.req.vtl":{"id":"Templateresolvers--Mutation.createChat.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationCreateChatDataResolverFn/Templateresolvers--Mutation.createChat.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationCreateChatDataResolverFn/Templateresolvers--Mutation.createChat.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationCreateChatDataResolverFn/Templateresolvers--Mutation.createChat.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Templateresolvers--Mutation.createChat.res.vtl":{"id":"Templateresolvers--Mutation.createChat.res.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationCreateChatDataResolverFn/Templateresolvers--Mutation.createChat.res.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationCreateChatDataResolverFn/Templateresolvers--Mutation.createChat.res.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationCreateChatDataResolverFn/Templateresolvers--Mutation.createChat.res.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"MutationCreateChatDataResolverFn.AppSyncFunction":{"id":"MutationCreateChatDataResolverFn.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationCreateChatDataResolverFn/MutationCreateChatDataResolverFn.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Fn::GetAtt":["ChatDataSource","Name"]},"functionVersion":"2018-05-29","name":"MutationCreateChatDataResolverFn","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/c26ba9de31af89415d557556b62d84a9aa044f434a9d336e45fdb134fc9a030e.vtl","responseMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/f4a52b72209a9dfa197b5e7367a5c378c5bb86de6e29ddd9e48b49a3fe54b249.vtl"}}}}},"mutationCreateChatResolver":{"id":"mutationCreateChatResolver","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/mutationCreateChatResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"fieldName":"createChat","kind":"PIPELINE","pipelineConfig":{"functions":[{"Fn::GetAtt":["MutationcreateChatinit0FunctionMutationcreateChatinit0FunctionAppSyncFunction44DA10CB","FunctionId"]},{"Fn::GetAtt":["MutationcreateChatauth0FunctionMutationcreateChatauth0FunctionAppSyncFunction30336172","FunctionId"]},{"Fn::GetAtt":["MutationcreateChatpostAuth0FunctionMutationcreateChatpostAuth0FunctionAppSyncFunction8E50ECC5","FunctionId"]},{"Fn::GetAtt":["MutationCreateChatDataResolverFnMutationCreateChatDataResolverFnAppSyncFunctionE604F9B6","FunctionId"]}]},"requestMappingTemplate":{"Fn::Join":["",["$util.qr($ctx.stash.put(\"typeName\", \"Mutation\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"createChat\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"AMAZON_DYNAMODB\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"\"))\n$util.qr($ctx.stash.put(\"connectionAttributes\", {}))\n$util.qr($ctx.stash.put(\"tableName\", \"",{"Ref":"ChatTable7A2D1C24"},"\"))\n$util.qr($ctx.stash.put(\"adminRoles\", []))\n$util.toJson({})"]]},"responseMappingTemplate":"$util.toJson($ctx.prev.result)","typeName":"Mutation"}}},"MutationupdateChatinit0Function":{"id":"MutationupdateChatinit0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationupdateChatinit0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Mutation.updateChat.init.1.req.vtl":{"id":"Templateresolvers--Mutation.updateChat.init.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationupdateChatinit0Function/Templateresolvers--Mutation.updateChat.init.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationupdateChatinit0Function/Templateresolvers--Mutation.updateChat.init.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationupdateChatinit0Function/Templateresolvers--Mutation.updateChat.init.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"MutationupdateChatinit0Function.AppSyncFunction":{"id":"MutationupdateChatinit0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationupdateChatinit0Function/MutationupdateChatinit0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"MutationupdateChatinit0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/06db846fd14e6fc371f22b12b5545ba8e2dbfeda85d8c8d586c71c282166657b.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"MutationupdateChatauth0Function":{"id":"MutationupdateChatauth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationupdateChatauth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Mutation.updateChat.auth.1.req.vtl":{"id":"Templateresolvers--Mutation.updateChat.auth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationupdateChatauth0Function/Templateresolvers--Mutation.updateChat.auth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationupdateChatauth0Function/Templateresolvers--Mutation.updateChat.auth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationupdateChatauth0Function/Templateresolvers--Mutation.updateChat.auth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Templateresolvers--Mutation.updateChat.auth.1.res.vtl":{"id":"Templateresolvers--Mutation.updateChat.auth.1.res.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationupdateChatauth0Function/Templateresolvers--Mutation.updateChat.auth.1.res.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationupdateChatauth0Function/Templateresolvers--Mutation.updateChat.auth.1.res.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationupdateChatauth0Function/Templateresolvers--Mutation.updateChat.auth.1.res.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"MutationupdateChatauth0Function.AppSyncFunction":{"id":"MutationupdateChatauth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationupdateChatauth0Function/MutationupdateChatauth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Fn::GetAtt":["ChatDataSource","Name"]},"functionVersion":"2018-05-29","name":"MutationupdateChatauth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/1f5fed297da9c32ae3af922bf3a38ccf23b956078887d16891ec06c20c64722c.vtl","responseMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/3de7e3cae187e4541aac0797094da0a6d6c1e11b4b168efafd36a646ce92ca96.vtl"}}}}},"MutationupdateChatpostAuth0Function":{"id":"MutationupdateChatpostAuth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationupdateChatpostAuth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Mutation.updateChat.postAuth.1.req.vtl":{"id":"Templateresolvers--Mutation.updateChat.postAuth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationupdateChatpostAuth0Function/Templateresolvers--Mutation.updateChat.postAuth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationupdateChatpostAuth0Function/Templateresolvers--Mutation.updateChat.postAuth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationupdateChatpostAuth0Function/Templateresolvers--Mutation.updateChat.postAuth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"MutationupdateChatpostAuth0Function.AppSyncFunction":{"id":"MutationupdateChatpostAuth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationupdateChatpostAuth0Function/MutationupdateChatpostAuth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"MutationupdateChatpostAuth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/c1721bcd774e27c514d3454b5be4f9bdd094c0161b57ddf053d618e3b0086a77.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"MutationUpdateChatDataResolverFn":{"id":"MutationUpdateChatDataResolverFn","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationUpdateChatDataResolverFn","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Mutation.updateChat.req.vtl":{"id":"Templateresolvers--Mutation.updateChat.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationUpdateChatDataResolverFn/Templateresolvers--Mutation.updateChat.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationUpdateChatDataResolverFn/Templateresolvers--Mutation.updateChat.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationUpdateChatDataResolverFn/Templateresolvers--Mutation.updateChat.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Templateresolvers--Mutation.updateChat.res.vtl":{"id":"Templateresolvers--Mutation.updateChat.res.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationUpdateChatDataResolverFn/Templateresolvers--Mutation.updateChat.res.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationUpdateChatDataResolverFn/Templateresolvers--Mutation.updateChat.res.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationUpdateChatDataResolverFn/Templateresolvers--Mutation.updateChat.res.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"MutationUpdateChatDataResolverFn.AppSyncFunction":{"id":"MutationUpdateChatDataResolverFn.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationUpdateChatDataResolverFn/MutationUpdateChatDataResolverFn.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Fn::GetAtt":["ChatDataSource","Name"]},"functionVersion":"2018-05-29","name":"MutationUpdateChatDataResolverFn","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/474bf0776ec2164a13191d1a0a9e057154931e4918fea5086f49850d02a5371b.vtl","responseMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/f4a52b72209a9dfa197b5e7367a5c378c5bb86de6e29ddd9e48b49a3fe54b249.vtl"}}}}},"mutationUpdateChatResolver":{"id":"mutationUpdateChatResolver","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/mutationUpdateChatResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"fieldName":"updateChat","kind":"PIPELINE","pipelineConfig":{"functions":[{"Fn::GetAtt":["MutationupdateChatinit0FunctionMutationupdateChatinit0FunctionAppSyncFunctionA09641F2","FunctionId"]},{"Fn::GetAtt":["MutationupdateChatauth0FunctionMutationupdateChatauth0FunctionAppSyncFunction6FC0534A","FunctionId"]},{"Fn::GetAtt":["MutationupdateChatpostAuth0FunctionMutationupdateChatpostAuth0FunctionAppSyncFunctionE11A4A99","FunctionId"]},{"Fn::GetAtt":["MutationUpdateChatDataResolverFnMutationUpdateChatDataResolverFnAppSyncFunctionF99795A7","FunctionId"]}]},"requestMappingTemplate":{"Fn::Join":["",["$util.qr($ctx.stash.put(\"typeName\", \"Mutation\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"updateChat\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"AMAZON_DYNAMODB\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"\"))\n$util.qr($ctx.stash.put(\"connectionAttributes\", {}))\n$util.qr($ctx.stash.put(\"tableName\", \"",{"Ref":"ChatTable7A2D1C24"},"\"))\n$util.qr($ctx.stash.put(\"adminRoles\", []))\n$util.toJson({})"]]},"responseMappingTemplate":"$util.toJson($ctx.prev.result)","typeName":"Mutation"}}},"MutationdeleteChatauth0Function":{"id":"MutationdeleteChatauth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationdeleteChatauth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Mutation.deleteChat.auth.1.req.vtl":{"id":"Templateresolvers--Mutation.deleteChat.auth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationdeleteChatauth0Function/Templateresolvers--Mutation.deleteChat.auth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationdeleteChatauth0Function/Templateresolvers--Mutation.deleteChat.auth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationdeleteChatauth0Function/Templateresolvers--Mutation.deleteChat.auth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Templateresolvers--Mutation.deleteChat.auth.1.res.vtl":{"id":"Templateresolvers--Mutation.deleteChat.auth.1.res.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationdeleteChatauth0Function/Templateresolvers--Mutation.deleteChat.auth.1.res.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationdeleteChatauth0Function/Templateresolvers--Mutation.deleteChat.auth.1.res.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationdeleteChatauth0Function/Templateresolvers--Mutation.deleteChat.auth.1.res.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"MutationdeleteChatauth0Function.AppSyncFunction":{"id":"MutationdeleteChatauth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationdeleteChatauth0Function/MutationdeleteChatauth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Fn::GetAtt":["ChatDataSource","Name"]},"functionVersion":"2018-05-29","name":"MutationdeleteChatauth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/1f5fed297da9c32ae3af922bf3a38ccf23b956078887d16891ec06c20c64722c.vtl","responseMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/a5b1d1bfc2aa63cbae5105a32b4ebe4d3cd8c9d7d98c49c64de3de0a5952b1f6.vtl"}}}}},"MutationdeleteChatpostAuth0Function":{"id":"MutationdeleteChatpostAuth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationdeleteChatpostAuth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Mutation.deleteChat.postAuth.1.req.vtl":{"id":"Templateresolvers--Mutation.deleteChat.postAuth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationdeleteChatpostAuth0Function/Templateresolvers--Mutation.deleteChat.postAuth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationdeleteChatpostAuth0Function/Templateresolvers--Mutation.deleteChat.postAuth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationdeleteChatpostAuth0Function/Templateresolvers--Mutation.deleteChat.postAuth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"MutationdeleteChatpostAuth0Function.AppSyncFunction":{"id":"MutationdeleteChatpostAuth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationdeleteChatpostAuth0Function/MutationdeleteChatpostAuth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"MutationdeleteChatpostAuth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/c1721bcd774e27c514d3454b5be4f9bdd094c0161b57ddf053d618e3b0086a77.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"MutationDeleteChatDataResolverFn":{"id":"MutationDeleteChatDataResolverFn","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationDeleteChatDataResolverFn","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Mutation.deleteChat.req.vtl":{"id":"Templateresolvers--Mutation.deleteChat.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationDeleteChatDataResolverFn/Templateresolvers--Mutation.deleteChat.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationDeleteChatDataResolverFn/Templateresolvers--Mutation.deleteChat.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationDeleteChatDataResolverFn/Templateresolvers--Mutation.deleteChat.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Templateresolvers--Mutation.deleteChat.res.vtl":{"id":"Templateresolvers--Mutation.deleteChat.res.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationDeleteChatDataResolverFn/Templateresolvers--Mutation.deleteChat.res.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationDeleteChatDataResolverFn/Templateresolvers--Mutation.deleteChat.res.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationDeleteChatDataResolverFn/Templateresolvers--Mutation.deleteChat.res.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"MutationDeleteChatDataResolverFn.AppSyncFunction":{"id":"MutationDeleteChatDataResolverFn.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/MutationDeleteChatDataResolverFn/MutationDeleteChatDataResolverFn.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Fn::GetAtt":["ChatDataSource","Name"]},"functionVersion":"2018-05-29","name":"MutationDeleteChatDataResolverFn","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/4f7907d1209a2c9953a0c053df402c634e359546d70c7cc5c2e8e21ea734880f.vtl","responseMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/f4a52b72209a9dfa197b5e7367a5c378c5bb86de6e29ddd9e48b49a3fe54b249.vtl"}}}}},"mutationDeleteChatResolver":{"id":"mutationDeleteChatResolver","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/mutationDeleteChatResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"fieldName":"deleteChat","kind":"PIPELINE","pipelineConfig":{"functions":[{"Fn::GetAtt":["MutationdeleteChatauth0FunctionMutationdeleteChatauth0FunctionAppSyncFunction2943A3BD","FunctionId"]},{"Fn::GetAtt":["MutationdeleteChatpostAuth0FunctionMutationdeleteChatpostAuth0FunctionAppSyncFunctionEDDD4B94","FunctionId"]},{"Fn::GetAtt":["MutationDeleteChatDataResolverFnMutationDeleteChatDataResolverFnAppSyncFunction39FB8383","FunctionId"]}]},"requestMappingTemplate":{"Fn::Join":["",["$util.qr($ctx.stash.put(\"typeName\", \"Mutation\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"deleteChat\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"AMAZON_DYNAMODB\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"\"))\n$util.qr($ctx.stash.put(\"connectionAttributes\", {}))\n$util.qr($ctx.stash.put(\"tableName\", \"",{"Ref":"ChatTable7A2D1C24"},"\"))\n$util.qr($ctx.stash.put(\"adminRoles\", []))\n$util.toJson({})"]]},"responseMappingTemplate":"$util.toJson($ctx.prev.result)","typeName":"Mutation"}}},"SubscriptiononCreateChatauth0Function":{"id":"SubscriptiononCreateChatauth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononCreateChatauth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Subscription.onCreateChat.auth.1.req.vtl":{"id":"Templateresolvers--Subscription.onCreateChat.auth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononCreateChatauth0Function/Templateresolvers--Subscription.onCreateChat.auth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononCreateChatauth0Function/Templateresolvers--Subscription.onCreateChat.auth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononCreateChatauth0Function/Templateresolvers--Subscription.onCreateChat.auth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"SubscriptiononCreateChatauth0Function.AppSyncFunction":{"id":"SubscriptiononCreateChatauth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononCreateChatauth0Function/SubscriptiononCreateChatauth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"SubscriptiononCreateChatauth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/c2b583f47d0079dcef445f6b4940bfab88908e99fd38fe303dcee2102a8af699.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"SubscriptiononCreateChatpostAuth0Function":{"id":"SubscriptiononCreateChatpostAuth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononCreateChatpostAuth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Subscription.onCreateChat.postAuth.1.req.vtl":{"id":"Templateresolvers--Subscription.onCreateChat.postAuth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononCreateChatpostAuth0Function/Templateresolvers--Subscription.onCreateChat.postAuth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononCreateChatpostAuth0Function/Templateresolvers--Subscription.onCreateChat.postAuth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononCreateChatpostAuth0Function/Templateresolvers--Subscription.onCreateChat.postAuth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"SubscriptiononCreateChatpostAuth0Function.AppSyncFunction":{"id":"SubscriptiononCreateChatpostAuth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononCreateChatpostAuth0Function/SubscriptiononCreateChatpostAuth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"SubscriptiononCreateChatpostAuth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/c1721bcd774e27c514d3454b5be4f9bdd094c0161b57ddf053d618e3b0086a77.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"SubscriptionOnCreateChatDataResolverFn":{"id":"SubscriptionOnCreateChatDataResolverFn","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptionOnCreateChatDataResolverFn","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Subscription.onCreateChat.req.vtl":{"id":"Templateresolvers--Subscription.onCreateChat.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptionOnCreateChatDataResolverFn/Templateresolvers--Subscription.onCreateChat.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptionOnCreateChatDataResolverFn/Templateresolvers--Subscription.onCreateChat.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptionOnCreateChatDataResolverFn/Templateresolvers--Subscription.onCreateChat.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Templateresolvers--Subscription.onCreateChat.res.vtl":{"id":"Templateresolvers--Subscription.onCreateChat.res.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptionOnCreateChatDataResolverFn/Templateresolvers--Subscription.onCreateChat.res.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptionOnCreateChatDataResolverFn/Templateresolvers--Subscription.onCreateChat.res.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptionOnCreateChatDataResolverFn/Templateresolvers--Subscription.onCreateChat.res.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"SubscriptionOnCreateChatDataResolverFn.AppSyncFunction":{"id":"SubscriptionOnCreateChatDataResolverFn.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptionOnCreateChatDataResolverFn/SubscriptionOnCreateChatDataResolverFn.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"SubscriptionOnCreateChatDataResolverFn","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/fe3c43ada4b9d681a5e2312663ef7a73386424d73b73e51f8e2e9d4b50f7c502.vtl","responseMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/e0cff47fb007f0bbf2a4e43ca256d6aa7ec109821769fd79fa7c5e83f0e7f9fc.vtl"}}}}},"subscriptionOnCreateChatResolver":{"id":"subscriptionOnCreateChatResolver","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/subscriptionOnCreateChatResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"fieldName":"onCreateChat","kind":"PIPELINE","pipelineConfig":{"functions":[{"Fn::GetAtt":["SubscriptiononCreateChatauth0FunctionSubscriptiononCreateChatauth0FunctionAppSyncFunction89EAF3DA","FunctionId"]},{"Fn::GetAtt":["SubscriptiononCreateChatpostAuth0FunctionSubscriptiononCreateChatpostAuth0FunctionAppSyncFunction9AB0E1A9","FunctionId"]},{"Fn::GetAtt":["SubscriptionOnCreateChatDataResolverFnSubscriptionOnCreateChatDataResolverFnAppSyncFunction069FDD8E","FunctionId"]}]},"requestMappingTemplate":{"Fn::Join":["",["$util.qr($ctx.stash.put(\"typeName\", \"Subscription\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"onCreateChat\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"NONE\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"\"))\n$util.qr($ctx.stash.put(\"connectionAttributes\", {}))\n\n$util.qr($ctx.stash.put(\"adminRoles\", []))\n$util.toJson({})"]]},"responseMappingTemplate":"$util.toJson($ctx.prev.result)","typeName":"Subscription"}}},"SubscriptiononUpdateChatauth0Function":{"id":"SubscriptiononUpdateChatauth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononUpdateChatauth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Subscription.onUpdateChat.auth.1.req.vtl":{"id":"Templateresolvers--Subscription.onUpdateChat.auth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononUpdateChatauth0Function/Templateresolvers--Subscription.onUpdateChat.auth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononUpdateChatauth0Function/Templateresolvers--Subscription.onUpdateChat.auth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononUpdateChatauth0Function/Templateresolvers--Subscription.onUpdateChat.auth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"SubscriptiononUpdateChatauth0Function.AppSyncFunction":{"id":"SubscriptiononUpdateChatauth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononUpdateChatauth0Function/SubscriptiononUpdateChatauth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"SubscriptiononUpdateChatauth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/c2b583f47d0079dcef445f6b4940bfab88908e99fd38fe303dcee2102a8af699.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"SubscriptiononUpdateChatpostAuth0Function":{"id":"SubscriptiononUpdateChatpostAuth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononUpdateChatpostAuth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Subscription.onUpdateChat.postAuth.1.req.vtl":{"id":"Templateresolvers--Subscription.onUpdateChat.postAuth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononUpdateChatpostAuth0Function/Templateresolvers--Subscription.onUpdateChat.postAuth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononUpdateChatpostAuth0Function/Templateresolvers--Subscription.onUpdateChat.postAuth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononUpdateChatpostAuth0Function/Templateresolvers--Subscription.onUpdateChat.postAuth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"SubscriptiononUpdateChatpostAuth0Function.AppSyncFunction":{"id":"SubscriptiononUpdateChatpostAuth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononUpdateChatpostAuth0Function/SubscriptiononUpdateChatpostAuth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"SubscriptiononUpdateChatpostAuth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/c1721bcd774e27c514d3454b5be4f9bdd094c0161b57ddf053d618e3b0086a77.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"SubscriptionOnUpdateChatDataResolverFn":{"id":"SubscriptionOnUpdateChatDataResolverFn","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptionOnUpdateChatDataResolverFn","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Subscription.onUpdateChat.req.vtl":{"id":"Templateresolvers--Subscription.onUpdateChat.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptionOnUpdateChatDataResolverFn/Templateresolvers--Subscription.onUpdateChat.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptionOnUpdateChatDataResolverFn/Templateresolvers--Subscription.onUpdateChat.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptionOnUpdateChatDataResolverFn/Templateresolvers--Subscription.onUpdateChat.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Templateresolvers--Subscription.onUpdateChat.res.vtl":{"id":"Templateresolvers--Subscription.onUpdateChat.res.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptionOnUpdateChatDataResolverFn/Templateresolvers--Subscription.onUpdateChat.res.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptionOnUpdateChatDataResolverFn/Templateresolvers--Subscription.onUpdateChat.res.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptionOnUpdateChatDataResolverFn/Templateresolvers--Subscription.onUpdateChat.res.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"SubscriptionOnUpdateChatDataResolverFn.AppSyncFunction":{"id":"SubscriptionOnUpdateChatDataResolverFn.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptionOnUpdateChatDataResolverFn/SubscriptionOnUpdateChatDataResolverFn.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"SubscriptionOnUpdateChatDataResolverFn","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/fe3c43ada4b9d681a5e2312663ef7a73386424d73b73e51f8e2e9d4b50f7c502.vtl","responseMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/e0cff47fb007f0bbf2a4e43ca256d6aa7ec109821769fd79fa7c5e83f0e7f9fc.vtl"}}}}},"subscriptionOnUpdateChatResolver":{"id":"subscriptionOnUpdateChatResolver","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/subscriptionOnUpdateChatResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"fieldName":"onUpdateChat","kind":"PIPELINE","pipelineConfig":{"functions":[{"Fn::GetAtt":["SubscriptiononUpdateChatauth0FunctionSubscriptiononUpdateChatauth0FunctionAppSyncFunction2762B1F4","FunctionId"]},{"Fn::GetAtt":["SubscriptiononUpdateChatpostAuth0FunctionSubscriptiononUpdateChatpostAuth0FunctionAppSyncFunction02C6698F","FunctionId"]},{"Fn::GetAtt":["SubscriptionOnUpdateChatDataResolverFnSubscriptionOnUpdateChatDataResolverFnAppSyncFunction0E35E4D4","FunctionId"]}]},"requestMappingTemplate":{"Fn::Join":["",["$util.qr($ctx.stash.put(\"typeName\", \"Subscription\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"onUpdateChat\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"NONE\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"\"))\n$util.qr($ctx.stash.put(\"connectionAttributes\", {}))\n\n$util.qr($ctx.stash.put(\"adminRoles\", []))\n$util.toJson({})"]]},"responseMappingTemplate":"$util.toJson($ctx.prev.result)","typeName":"Subscription"}}},"SubscriptiononDeleteChatauth0Function":{"id":"SubscriptiononDeleteChatauth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononDeleteChatauth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Subscription.onDeleteChat.auth.1.req.vtl":{"id":"Templateresolvers--Subscription.onDeleteChat.auth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononDeleteChatauth0Function/Templateresolvers--Subscription.onDeleteChat.auth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononDeleteChatauth0Function/Templateresolvers--Subscription.onDeleteChat.auth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononDeleteChatauth0Function/Templateresolvers--Subscription.onDeleteChat.auth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"SubscriptiononDeleteChatauth0Function.AppSyncFunction":{"id":"SubscriptiononDeleteChatauth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononDeleteChatauth0Function/SubscriptiononDeleteChatauth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"SubscriptiononDeleteChatauth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/c2b583f47d0079dcef445f6b4940bfab88908e99fd38fe303dcee2102a8af699.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"SubscriptiononDeleteChatpostAuth0Function":{"id":"SubscriptiononDeleteChatpostAuth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononDeleteChatpostAuth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Subscription.onDeleteChat.postAuth.1.req.vtl":{"id":"Templateresolvers--Subscription.onDeleteChat.postAuth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononDeleteChatpostAuth0Function/Templateresolvers--Subscription.onDeleteChat.postAuth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononDeleteChatpostAuth0Function/Templateresolvers--Subscription.onDeleteChat.postAuth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononDeleteChatpostAuth0Function/Templateresolvers--Subscription.onDeleteChat.postAuth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"SubscriptiononDeleteChatpostAuth0Function.AppSyncFunction":{"id":"SubscriptiononDeleteChatpostAuth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptiononDeleteChatpostAuth0Function/SubscriptiononDeleteChatpostAuth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"SubscriptiononDeleteChatpostAuth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/c1721bcd774e27c514d3454b5be4f9bdd094c0161b57ddf053d618e3b0086a77.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"SubscriptionOnDeleteChatDataResolverFn":{"id":"SubscriptionOnDeleteChatDataResolverFn","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptionOnDeleteChatDataResolverFn","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Subscription.onDeleteChat.req.vtl":{"id":"Templateresolvers--Subscription.onDeleteChat.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptionOnDeleteChatDataResolverFn/Templateresolvers--Subscription.onDeleteChat.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptionOnDeleteChatDataResolverFn/Templateresolvers--Subscription.onDeleteChat.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptionOnDeleteChatDataResolverFn/Templateresolvers--Subscription.onDeleteChat.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Templateresolvers--Subscription.onDeleteChat.res.vtl":{"id":"Templateresolvers--Subscription.onDeleteChat.res.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptionOnDeleteChatDataResolverFn/Templateresolvers--Subscription.onDeleteChat.res.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptionOnDeleteChatDataResolverFn/Templateresolvers--Subscription.onDeleteChat.res.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptionOnDeleteChatDataResolverFn/Templateresolvers--Subscription.onDeleteChat.res.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"SubscriptionOnDeleteChatDataResolverFn.AppSyncFunction":{"id":"SubscriptionOnDeleteChatDataResolverFn.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/SubscriptionOnDeleteChatDataResolverFn/SubscriptionOnDeleteChatDataResolverFn.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"SubscriptionOnDeleteChatDataResolverFn","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/fe3c43ada4b9d681a5e2312663ef7a73386424d73b73e51f8e2e9d4b50f7c502.vtl","responseMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/e0cff47fb007f0bbf2a4e43ca256d6aa7ec109821769fd79fa7c5e83f0e7f9fc.vtl"}}}}},"subscriptionOnDeleteChatResolver":{"id":"subscriptionOnDeleteChatResolver","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/subscriptionOnDeleteChatResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"fieldName":"onDeleteChat","kind":"PIPELINE","pipelineConfig":{"functions":[{"Fn::GetAtt":["SubscriptiononDeleteChatauth0FunctionSubscriptiononDeleteChatauth0FunctionAppSyncFunction084A5BDA","FunctionId"]},{"Fn::GetAtt":["SubscriptiononDeleteChatpostAuth0FunctionSubscriptiononDeleteChatpostAuth0FunctionAppSyncFunction8CD308FB","FunctionId"]},{"Fn::GetAtt":["SubscriptionOnDeleteChatDataResolverFnSubscriptionOnDeleteChatDataResolverFnAppSyncFunction738E614D","FunctionId"]}]},"requestMappingTemplate":{"Fn::Join":["",["$util.qr($ctx.stash.put(\"typeName\", \"Subscription\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"onDeleteChat\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"NONE\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"\"))\n$util.qr($ctx.stash.put(\"connectionAttributes\", {}))\n\n$util.qr($ctx.stash.put(\"adminRoles\", []))\n$util.toJson({})"]]},"responseMappingTemplate":"$util.toJson($ctx.prev.result)","typeName":"Subscription"}}},"QuerychatsBySessionIdauth0Function":{"id":"QuerychatsBySessionIdauth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerychatsBySessionIdauth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Query.chatsBySessionId.auth.1.req.vtl":{"id":"Templateresolvers--Query.chatsBySessionId.auth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerychatsBySessionIdauth0Function/Templateresolvers--Query.chatsBySessionId.auth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerychatsBySessionIdauth0Function/Templateresolvers--Query.chatsBySessionId.auth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerychatsBySessionIdauth0Function/Templateresolvers--Query.chatsBySessionId.auth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"QuerychatsBySessionIdauth0Function.AppSyncFunction":{"id":"QuerychatsBySessionIdauth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerychatsBySessionIdauth0Function/QuerychatsBySessionIdauth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"QuerychatsBySessionIdauth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/0f92e99bcb81a1be9f728ca16332154faffe519356aba777fb42d560a3fe2b8b.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"QuerychatsBySessionIdpostAuth0Function":{"id":"QuerychatsBySessionIdpostAuth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerychatsBySessionIdpostAuth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Query.chatsBySessionId.postAuth.1.res.vtl":{"id":"Templateresolvers--Query.chatsBySessionId.postAuth.1.res.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerychatsBySessionIdpostAuth0Function/Templateresolvers--Query.chatsBySessionId.postAuth.1.res.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerychatsBySessionIdpostAuth0Function/Templateresolvers--Query.chatsBySessionId.postAuth.1.res.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerychatsBySessionIdpostAuth0Function/Templateresolvers--Query.chatsBySessionId.postAuth.1.res.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"QuerychatsBySessionIdpostAuth0Function.AppSyncFunction":{"id":"QuerychatsBySessionIdpostAuth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QuerychatsBySessionIdpostAuth0Function/QuerychatsBySessionIdpostAuth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"QuerychatsBySessionIdpostAuth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/c1721bcd774e27c514d3454b5be4f9bdd094c0161b57ddf053d618e3b0086a77.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"QueryChatsBySessionIdDataResolverFn":{"id":"QueryChatsBySessionIdDataResolverFn","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QueryChatsBySessionIdDataResolverFn","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Query.chatsBySessionId.req.vtl":{"id":"Templateresolvers--Query.chatsBySessionId.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QueryChatsBySessionIdDataResolverFn/Templateresolvers--Query.chatsBySessionId.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QueryChatsBySessionIdDataResolverFn/Templateresolvers--Query.chatsBySessionId.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QueryChatsBySessionIdDataResolverFn/Templateresolvers--Query.chatsBySessionId.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Templateresolvers--Query.chatsBySessionId.res.vtl":{"id":"Templateresolvers--Query.chatsBySessionId.res.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QueryChatsBySessionIdDataResolverFn/Templateresolvers--Query.chatsBySessionId.res.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QueryChatsBySessionIdDataResolverFn/Templateresolvers--Query.chatsBySessionId.res.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QueryChatsBySessionIdDataResolverFn/Templateresolvers--Query.chatsBySessionId.res.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"QueryChatsBySessionIdDataResolverFn.AppSyncFunction":{"id":"QueryChatsBySessionIdDataResolverFn.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/QueryChatsBySessionIdDataResolverFn/QueryChatsBySessionIdDataResolverFn.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Fn::GetAtt":["ChatDataSource","Name"]},"functionVersion":"2018-05-29","name":"QueryChatsBySessionIdDataResolverFn","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/cabae20771083bb1e68b5aef92caa8d34ff1cd6de97c31f4fa25829ad2109a5d.vtl","responseMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/098c998f215c333f57348ca8912f66057ae6b574fe34013033dc54362ee2372c.vtl"}}}}},"queryChatsBySessionIdResolver":{"id":"queryChatsBySessionIdResolver","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/queryChatsBySessionIdResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"fieldName":"chatsBySessionId","kind":"PIPELINE","pipelineConfig":{"functions":[{"Fn::GetAtt":["QuerychatsBySessionIdauth0FunctionQuerychatsBySessionIdauth0FunctionAppSyncFunction511608CF","FunctionId"]},{"Fn::GetAtt":["QuerychatsBySessionIdpostAuth0FunctionQuerychatsBySessionIdpostAuth0FunctionAppSyncFunction7844C377","FunctionId"]},{"Fn::GetAtt":["QueryChatsBySessionIdDataResolverFnQueryChatsBySessionIdDataResolverFnAppSyncFunction8B261FBE","FunctionId"]}]},"requestMappingTemplate":{"Fn::Join":["",["$util.qr($ctx.stash.put(\"typeName\", \"Query\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"chatsBySessionId\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"AMAZON_DYNAMODB\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"\"))\n$util.qr($ctx.stash.put(\"connectionAttributes\", {}))\n$util.qr($ctx.stash.put(\"tableName\", \"",{"Ref":"ChatTable7A2D1C24"},"\"))\n$util.qr($ctx.stash.put(\"adminRoles\", []))\n$util.toJson({})"]]},"responseMappingTemplate":"$util.toJson($ctx.prev.result)","typeName":"Query"}}},"CDKMetadata":{"id":"CDKMetadata","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}},"reference-to-devbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId":{"id":"reference-to-devbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/reference-to-devbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"reference-to-devbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name":{"id":"reference-to-devbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/reference-to-devbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"devbackendstreamingApiamplifiedGraphApiChatChatDataSource1B749518Name":{"id":"devbackendstreamingApiamplifiedGraphApiChatChatDataSource1B749518Name","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/devbackendstreamingApiamplifiedGraphApiChatChatDataSource1B749518Name","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.230.0"}},"devbackendstreamingApiamplifiedGraphApiChatChatTableB99F1016Ref":{"id":"devbackendstreamingApiamplifiedGraphApiChatChatTableB99F1016Ref","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat/devbackendstreamingApiamplifiedGraphApiChatChatTableB99F1016Ref","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.230.0"}}}},"Chat.NestedStack":{"id":"Chat.NestedStack","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat.NestedStack","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Chat.NestedStackResource":{"id":"Chat.NestedStackResource","path":"dev/backend/streamingApi/amplifiedGraphApi/Chat.NestedStack/Chat.NestedStackResource","constructInfo":{"fqn":"aws-cdk-lib.CfnStack","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFormation::Stack","aws:cdk:cloudformation:props":{"parameters":{"DynamoDBModelTableReadIOPS":{"Ref":"DynamoDBModelTableReadIOPS"},"DynamoDBModelTableWriteIOPS":{"Ref":"DynamoDBModelTableWriteIOPS"},"DynamoDBBillingMode":{"Ref":"DynamoDBBillingMode"},"DynamoDBEnablePointInTimeRecovery":{"Ref":"DynamoDBEnablePointInTimeRecovery"},"DynamoDBEnableServerSideEncryption":{"Ref":"DynamoDBEnableServerSideEncryption"},"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId":{"Fn::GetAtt":["streamingApiamplifiedGraphApiGraphQLAPI03514468","ApiId"]},"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name":{"Fn::GetAtt":["streamingApiamplifiedGraphApiGraphQLAPINONEDS2632E257","Name"]}},"templateUrl":{"Fn::Join":["",["https://s3.us-east-1.",{"Ref":"AWS::URLSuffix"},"/cdk-hnb659fds-assets-024230653186-us-east-1/db237a32ba407039a4d78b4c0afecfdbe1e029f8b8d14d061379cef9c5fb0a46.json"]]}}}}}},"Session":{"id":"Session","path":"dev/backend/streamingApi/amplifiedGraphApi/Session","constructInfo":{"fqn":"aws-cdk-lib.NestedStack","version":"2.230.0"},"children":{"DynamoDBModelTableReadIOPS":{"id":"DynamoDBModelTableReadIOPS","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/DynamoDBModelTableReadIOPS","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"DynamoDBModelTableWriteIOPS":{"id":"DynamoDBModelTableWriteIOPS","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/DynamoDBModelTableWriteIOPS","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"DynamoDBBillingMode":{"id":"DynamoDBBillingMode","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/DynamoDBBillingMode","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"DynamoDBEnablePointInTimeRecovery":{"id":"DynamoDBEnablePointInTimeRecovery","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/DynamoDBEnablePointInTimeRecovery","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"DynamoDBEnableServerSideEncryption":{"id":"DynamoDBEnableServerSideEncryption","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/DynamoDBEnableServerSideEncryption","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"HasEnvironmentParameter":{"id":"HasEnvironmentParameter","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/HasEnvironmentParameter","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.230.0"}},"ShouldUseServerSideEncryption":{"id":"ShouldUseServerSideEncryption","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/ShouldUseServerSideEncryption","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.230.0"}},"ShouldUsePayPerRequestBilling":{"id":"ShouldUsePayPerRequestBilling","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/ShouldUsePayPerRequestBilling","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.230.0"}},"ShouldUsePointInTimeRecovery":{"id":"ShouldUsePointInTimeRecovery","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/ShouldUsePointInTimeRecovery","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.230.0"}},"SessionTable":{"id":"SessionTable","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SessionTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SessionTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"id","attributeType":"S"}],"billingMode":{"Fn::If":["ShouldUsePayPerRequestBilling","PAY_PER_REQUEST",{"Ref":"AWS::NoValue"}]},"keySchema":[{"attributeName":"id","keyType":"HASH"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"provisionedThroughput":{"Fn::If":["ShouldUsePayPerRequestBilling",{"Ref":"AWS::NoValue"},{"ReadCapacityUnits":{"Ref":"DynamoDBModelTableReadIOPS"},"WriteCapacityUnits":{"Ref":"DynamoDBModelTableWriteIOPS"}}]},"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"streamSpecification":{"streamViewType":"NEW_AND_OLD_IMAGES"},"tableName":{"Fn::Join":["",["Session-",{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"-NONE"]]}}}},"ScalingRole":{"id":"ScalingRole","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SessionTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}}}},"SessionIAMRole":{"id":"SessionIAMRole","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SessionIAMRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportSessionIAMRole":{"id":"ImportSessionIAMRole","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SessionIAMRole/ImportSessionIAMRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SessionIAMRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"},"policies":[{"policyName":"DynamoDBAccess","policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::Sub":["arn:${AWS::Partition}:dynamodb:${AWS::Region}:${AWS::AccountId}:table/${tablename}",{"tablename":{"Fn::Join":["",["Session-",{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"-NONE"]]}}]},{"Fn::Sub":["arn:${AWS::Partition}:dynamodb:${AWS::Region}:${AWS::AccountId}:table/${tablename}/*",{"tablename":{"Fn::Join":["",["Session-",{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"-NONE"]]}}]}]}],"Version":"2012-10-17"}}],"roleName":{"Fn::Join":["",["SessionIAMRolecbb7c4-",{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"-NONE"]]}}}}}},"ImmutableRoleSessionIAMRole":{"id":"ImmutableRoleSessionIAMRole","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/ImmutableRoleSessionIAMRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"SessionDataSource":{"id":"SessionDataSource","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SessionDataSource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.DynamoDbDataSource","version":"2.230.0"},"children":{"Resource":{"id":"Resource","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SessionDataSource/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dynamoDbConfig":{"tableName":{"Ref":"SessionTableA016F679"},"awsRegion":"us-east-1"},"name":"SessionTable","serviceRoleArn":{"Fn::GetAtt":["SessionIAMRole4B1C588A","Arn"]},"type":"AMAZON_DYNAMODB"}}}}},"QuerygetSessionauth0Function":{"id":"QuerygetSessionauth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QuerygetSessionauth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Query.getSession.auth.1.req.vtl":{"id":"Templateresolvers--Query.getSession.auth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QuerygetSessionauth0Function/Templateresolvers--Query.getSession.auth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QuerygetSessionauth0Function/Templateresolvers--Query.getSession.auth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QuerygetSessionauth0Function/Templateresolvers--Query.getSession.auth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"QuerygetSessionauth0Function.AppSyncFunction":{"id":"QuerygetSessionauth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QuerygetSessionauth0Function/QuerygetSessionauth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"QuerygetSessionauth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/0f92e99bcb81a1be9f728ca16332154faffe519356aba777fb42d560a3fe2b8b.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"QuerygetSessionpostAuth0Function":{"id":"QuerygetSessionpostAuth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QuerygetSessionpostAuth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Query.getSession.postAuth.1.req.vtl":{"id":"Templateresolvers--Query.getSession.postAuth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QuerygetSessionpostAuth0Function/Templateresolvers--Query.getSession.postAuth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QuerygetSessionpostAuth0Function/Templateresolvers--Query.getSession.postAuth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QuerygetSessionpostAuth0Function/Templateresolvers--Query.getSession.postAuth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"QuerygetSessionpostAuth0Function.AppSyncFunction":{"id":"QuerygetSessionpostAuth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QuerygetSessionpostAuth0Function/QuerygetSessionpostAuth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"QuerygetSessionpostAuth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/c1721bcd774e27c514d3454b5be4f9bdd094c0161b57ddf053d618e3b0086a77.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"QueryGetSessionDataResolverFn":{"id":"QueryGetSessionDataResolverFn","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QueryGetSessionDataResolverFn","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Query.getSession.req.vtl":{"id":"Templateresolvers--Query.getSession.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QueryGetSessionDataResolverFn/Templateresolvers--Query.getSession.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QueryGetSessionDataResolverFn/Templateresolvers--Query.getSession.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QueryGetSessionDataResolverFn/Templateresolvers--Query.getSession.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Templateresolvers--Query.getSession.res.vtl":{"id":"Templateresolvers--Query.getSession.res.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QueryGetSessionDataResolverFn/Templateresolvers--Query.getSession.res.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QueryGetSessionDataResolverFn/Templateresolvers--Query.getSession.res.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QueryGetSessionDataResolverFn/Templateresolvers--Query.getSession.res.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"QueryGetSessionDataResolverFn.AppSyncFunction":{"id":"QueryGetSessionDataResolverFn.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QueryGetSessionDataResolverFn/QueryGetSessionDataResolverFn.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Fn::GetAtt":["SessionDataSource","Name"]},"functionVersion":"2018-05-29","name":"QueryGetSessionDataResolverFn","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/08f4d557693d96c1a4efba0f9dc91330e4b19772fd5477c156468843e3d9cb5e.vtl","responseMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/4c6a2d29f01c6091bd1d9afe16e5849d456c96f17c3b215938c8067399532719.vtl"}}}}},"queryGetSessionResolver":{"id":"queryGetSessionResolver","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/queryGetSessionResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"fieldName":"getSession","kind":"PIPELINE","pipelineConfig":{"functions":[{"Fn::GetAtt":["QuerygetSessionauth0FunctionQuerygetSessionauth0FunctionAppSyncFunction95057053","FunctionId"]},{"Fn::GetAtt":["QuerygetSessionpostAuth0FunctionQuerygetSessionpostAuth0FunctionAppSyncFunctionC4CB045A","FunctionId"]},{"Fn::GetAtt":["QueryGetSessionDataResolverFnQueryGetSessionDataResolverFnAppSyncFunction5F527AA6","FunctionId"]}]},"requestMappingTemplate":{"Fn::Join":["",["$util.qr($ctx.stash.put(\"typeName\", \"Query\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"getSession\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"AMAZON_DYNAMODB\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"\"))\n$util.qr($ctx.stash.put(\"connectionAttributes\", {}))\n$util.qr($ctx.stash.put(\"tableName\", \"",{"Ref":"SessionTableA016F679"},"\"))\n$util.qr($ctx.stash.put(\"adminRoles\", []))\n$util.toJson({})"]]},"responseMappingTemplate":"$util.toJson($ctx.prev.result)","typeName":"Query"}}},"QuerylistSessionsauth0Function":{"id":"QuerylistSessionsauth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QuerylistSessionsauth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Query.listSessions.auth.1.req.vtl":{"id":"Templateresolvers--Query.listSessions.auth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QuerylistSessionsauth0Function/Templateresolvers--Query.listSessions.auth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QuerylistSessionsauth0Function/Templateresolvers--Query.listSessions.auth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QuerylistSessionsauth0Function/Templateresolvers--Query.listSessions.auth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"QuerylistSessionsauth0Function.AppSyncFunction":{"id":"QuerylistSessionsauth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QuerylistSessionsauth0Function/QuerylistSessionsauth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"QuerylistSessionsauth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/0f92e99bcb81a1be9f728ca16332154faffe519356aba777fb42d560a3fe2b8b.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"QuerylistSessionspostAuth0Function":{"id":"QuerylistSessionspostAuth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QuerylistSessionspostAuth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Query.listSessions.postAuth.1.req.vtl":{"id":"Templateresolvers--Query.listSessions.postAuth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QuerylistSessionspostAuth0Function/Templateresolvers--Query.listSessions.postAuth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QuerylistSessionspostAuth0Function/Templateresolvers--Query.listSessions.postAuth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QuerylistSessionspostAuth0Function/Templateresolvers--Query.listSessions.postAuth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"QuerylistSessionspostAuth0Function.AppSyncFunction":{"id":"QuerylistSessionspostAuth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QuerylistSessionspostAuth0Function/QuerylistSessionspostAuth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"QuerylistSessionspostAuth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/c1721bcd774e27c514d3454b5be4f9bdd094c0161b57ddf053d618e3b0086a77.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"QueryListSessionsDataResolverFn":{"id":"QueryListSessionsDataResolverFn","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QueryListSessionsDataResolverFn","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Query.listSessions.req.vtl":{"id":"Templateresolvers--Query.listSessions.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QueryListSessionsDataResolverFn/Templateresolvers--Query.listSessions.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QueryListSessionsDataResolverFn/Templateresolvers--Query.listSessions.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QueryListSessionsDataResolverFn/Templateresolvers--Query.listSessions.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Templateresolvers--Query.listSessions.res.vtl":{"id":"Templateresolvers--Query.listSessions.res.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QueryListSessionsDataResolverFn/Templateresolvers--Query.listSessions.res.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QueryListSessionsDataResolverFn/Templateresolvers--Query.listSessions.res.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QueryListSessionsDataResolverFn/Templateresolvers--Query.listSessions.res.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"QueryListSessionsDataResolverFn.AppSyncFunction":{"id":"QueryListSessionsDataResolverFn.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/QueryListSessionsDataResolverFn/QueryListSessionsDataResolverFn.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Fn::GetAtt":["SessionDataSource","Name"]},"functionVersion":"2018-05-29","name":"QueryListSessionsDataResolverFn","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/9fcbe070ecd3023c5bf5b966fa9584757db9762eef123bad0820bd87591b2174.vtl","responseMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/cc01911d0269d4080ea57505dc445dfc315ef7ad85d3d9d4ea1357858bff451d.vtl"}}}}},"queryListSessionsResolver":{"id":"queryListSessionsResolver","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/queryListSessionsResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"fieldName":"listSessions","kind":"PIPELINE","pipelineConfig":{"functions":[{"Fn::GetAtt":["QuerylistSessionsauth0FunctionQuerylistSessionsauth0FunctionAppSyncFunction1D65ACC5","FunctionId"]},{"Fn::GetAtt":["QuerylistSessionspostAuth0FunctionQuerylistSessionspostAuth0FunctionAppSyncFunctionEDC6716D","FunctionId"]},{"Fn::GetAtt":["QueryListSessionsDataResolverFnQueryListSessionsDataResolverFnAppSyncFunction815E9187","FunctionId"]}]},"requestMappingTemplate":{"Fn::Join":["",["$util.qr($ctx.stash.put(\"typeName\", \"Query\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"listSessions\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"AMAZON_DYNAMODB\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"\"))\n$util.qr($ctx.stash.put(\"connectionAttributes\", {}))\n$util.qr($ctx.stash.put(\"tableName\", \"",{"Ref":"SessionTableA016F679"},"\"))\n$util.qr($ctx.stash.put(\"adminRoles\", []))\n$util.toJson({})"]]},"responseMappingTemplate":"$util.toJson($ctx.prev.result)","typeName":"Query"}}},"MutationcreateSessioninit0Function":{"id":"MutationcreateSessioninit0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationcreateSessioninit0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Mutation.createSession.init.1.req.vtl":{"id":"Templateresolvers--Mutation.createSession.init.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationcreateSessioninit0Function/Templateresolvers--Mutation.createSession.init.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationcreateSessioninit0Function/Templateresolvers--Mutation.createSession.init.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationcreateSessioninit0Function/Templateresolvers--Mutation.createSession.init.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"MutationcreateSessioninit0Function.AppSyncFunction":{"id":"MutationcreateSessioninit0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationcreateSessioninit0Function/MutationcreateSessioninit0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"MutationcreateSessioninit0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/a183ddccbd956316c38ef97177b8f088ef0826f62023323f5ae6053d348ccffc.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"MutationcreateSessionauth0Function":{"id":"MutationcreateSessionauth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationcreateSessionauth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Mutation.createSession.auth.1.req.vtl":{"id":"Templateresolvers--Mutation.createSession.auth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationcreateSessionauth0Function/Templateresolvers--Mutation.createSession.auth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationcreateSessionauth0Function/Templateresolvers--Mutation.createSession.auth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationcreateSessionauth0Function/Templateresolvers--Mutation.createSession.auth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"MutationcreateSessionauth0Function.AppSyncFunction":{"id":"MutationcreateSessionauth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationcreateSessionauth0Function/MutationcreateSessionauth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"MutationcreateSessionauth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/c82ae37002d4035bc721468f506d91abccf61604464d801de003d56307f1ac64.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"MutationcreateSessionpostAuth0Function":{"id":"MutationcreateSessionpostAuth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationcreateSessionpostAuth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Mutation.createSession.postAuth.1.req.vtl":{"id":"Templateresolvers--Mutation.createSession.postAuth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationcreateSessionpostAuth0Function/Templateresolvers--Mutation.createSession.postAuth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationcreateSessionpostAuth0Function/Templateresolvers--Mutation.createSession.postAuth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationcreateSessionpostAuth0Function/Templateresolvers--Mutation.createSession.postAuth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"MutationcreateSessionpostAuth0Function.AppSyncFunction":{"id":"MutationcreateSessionpostAuth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationcreateSessionpostAuth0Function/MutationcreateSessionpostAuth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"MutationcreateSessionpostAuth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/c1721bcd774e27c514d3454b5be4f9bdd094c0161b57ddf053d618e3b0086a77.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"MutationCreateSessionDataResolverFn":{"id":"MutationCreateSessionDataResolverFn","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationCreateSessionDataResolverFn","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Mutation.createSession.req.vtl":{"id":"Templateresolvers--Mutation.createSession.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationCreateSessionDataResolverFn/Templateresolvers--Mutation.createSession.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationCreateSessionDataResolverFn/Templateresolvers--Mutation.createSession.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationCreateSessionDataResolverFn/Templateresolvers--Mutation.createSession.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Templateresolvers--Mutation.createSession.res.vtl":{"id":"Templateresolvers--Mutation.createSession.res.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationCreateSessionDataResolverFn/Templateresolvers--Mutation.createSession.res.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationCreateSessionDataResolverFn/Templateresolvers--Mutation.createSession.res.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationCreateSessionDataResolverFn/Templateresolvers--Mutation.createSession.res.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"MutationCreateSessionDataResolverFn.AppSyncFunction":{"id":"MutationCreateSessionDataResolverFn.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationCreateSessionDataResolverFn/MutationCreateSessionDataResolverFn.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Fn::GetAtt":["SessionDataSource","Name"]},"functionVersion":"2018-05-29","name":"MutationCreateSessionDataResolverFn","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/8ca88a2bbb7d1b968fd970511495cda8a5e59eb415e7fd1c1c6cc5ccabd45b44.vtl","responseMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/f4a52b72209a9dfa197b5e7367a5c378c5bb86de6e29ddd9e48b49a3fe54b249.vtl"}}}}},"mutationCreateSessionResolver":{"id":"mutationCreateSessionResolver","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/mutationCreateSessionResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"fieldName":"createSession","kind":"PIPELINE","pipelineConfig":{"functions":[{"Fn::GetAtt":["MutationcreateSessioninit0FunctionMutationcreateSessioninit0FunctionAppSyncFunction946C18E3","FunctionId"]},{"Fn::GetAtt":["MutationcreateSessionauth0FunctionMutationcreateSessionauth0FunctionAppSyncFunction7CBFBA2E","FunctionId"]},{"Fn::GetAtt":["MutationcreateSessionpostAuth0FunctionMutationcreateSessionpostAuth0FunctionAppSyncFunction11CC3396","FunctionId"]},{"Fn::GetAtt":["MutationCreateSessionDataResolverFnMutationCreateSessionDataResolverFnAppSyncFunction31280A78","FunctionId"]}]},"requestMappingTemplate":{"Fn::Join":["",["$util.qr($ctx.stash.put(\"typeName\", \"Mutation\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"createSession\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"AMAZON_DYNAMODB\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"\"))\n$util.qr($ctx.stash.put(\"connectionAttributes\", {}))\n$util.qr($ctx.stash.put(\"tableName\", \"",{"Ref":"SessionTableA016F679"},"\"))\n$util.qr($ctx.stash.put(\"adminRoles\", []))\n$util.toJson({})"]]},"responseMappingTemplate":"$util.toJson($ctx.prev.result)","typeName":"Mutation"}}},"MutationupdateSessioninit0Function":{"id":"MutationupdateSessioninit0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationupdateSessioninit0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Mutation.updateSession.init.1.req.vtl":{"id":"Templateresolvers--Mutation.updateSession.init.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationupdateSessioninit0Function/Templateresolvers--Mutation.updateSession.init.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationupdateSessioninit0Function/Templateresolvers--Mutation.updateSession.init.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationupdateSessioninit0Function/Templateresolvers--Mutation.updateSession.init.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"MutationupdateSessioninit0Function.AppSyncFunction":{"id":"MutationupdateSessioninit0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationupdateSessioninit0Function/MutationupdateSessioninit0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"MutationupdateSessioninit0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/06db846fd14e6fc371f22b12b5545ba8e2dbfeda85d8c8d586c71c282166657b.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"MutationupdateSessionauth0Function":{"id":"MutationupdateSessionauth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationupdateSessionauth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Mutation.updateSession.auth.1.req.vtl":{"id":"Templateresolvers--Mutation.updateSession.auth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationupdateSessionauth0Function/Templateresolvers--Mutation.updateSession.auth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationupdateSessionauth0Function/Templateresolvers--Mutation.updateSession.auth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationupdateSessionauth0Function/Templateresolvers--Mutation.updateSession.auth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Templateresolvers--Mutation.updateSession.auth.1.res.vtl":{"id":"Templateresolvers--Mutation.updateSession.auth.1.res.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationupdateSessionauth0Function/Templateresolvers--Mutation.updateSession.auth.1.res.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationupdateSessionauth0Function/Templateresolvers--Mutation.updateSession.auth.1.res.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationupdateSessionauth0Function/Templateresolvers--Mutation.updateSession.auth.1.res.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"MutationupdateSessionauth0Function.AppSyncFunction":{"id":"MutationupdateSessionauth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationupdateSessionauth0Function/MutationupdateSessionauth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Fn::GetAtt":["SessionDataSource","Name"]},"functionVersion":"2018-05-29","name":"MutationupdateSessionauth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/1f5fed297da9c32ae3af922bf3a38ccf23b956078887d16891ec06c20c64722c.vtl","responseMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/239813e2d8a1bb383d9caa72d078d6a52c2f562ab80c4e97fa930d23daf995c0.vtl"}}}}},"MutationupdateSessionpostAuth0Function":{"id":"MutationupdateSessionpostAuth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationupdateSessionpostAuth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Mutation.updateSession.postAuth.1.req.vtl":{"id":"Templateresolvers--Mutation.updateSession.postAuth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationupdateSessionpostAuth0Function/Templateresolvers--Mutation.updateSession.postAuth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationupdateSessionpostAuth0Function/Templateresolvers--Mutation.updateSession.postAuth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationupdateSessionpostAuth0Function/Templateresolvers--Mutation.updateSession.postAuth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"MutationupdateSessionpostAuth0Function.AppSyncFunction":{"id":"MutationupdateSessionpostAuth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationupdateSessionpostAuth0Function/MutationupdateSessionpostAuth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"MutationupdateSessionpostAuth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/c1721bcd774e27c514d3454b5be4f9bdd094c0161b57ddf053d618e3b0086a77.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"MutationUpdateSessionDataResolverFn":{"id":"MutationUpdateSessionDataResolverFn","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationUpdateSessionDataResolverFn","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Mutation.updateSession.req.vtl":{"id":"Templateresolvers--Mutation.updateSession.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationUpdateSessionDataResolverFn/Templateresolvers--Mutation.updateSession.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationUpdateSessionDataResolverFn/Templateresolvers--Mutation.updateSession.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationUpdateSessionDataResolverFn/Templateresolvers--Mutation.updateSession.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Templateresolvers--Mutation.updateSession.res.vtl":{"id":"Templateresolvers--Mutation.updateSession.res.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationUpdateSessionDataResolverFn/Templateresolvers--Mutation.updateSession.res.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationUpdateSessionDataResolverFn/Templateresolvers--Mutation.updateSession.res.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationUpdateSessionDataResolverFn/Templateresolvers--Mutation.updateSession.res.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"MutationUpdateSessionDataResolverFn.AppSyncFunction":{"id":"MutationUpdateSessionDataResolverFn.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationUpdateSessionDataResolverFn/MutationUpdateSessionDataResolverFn.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Fn::GetAtt":["SessionDataSource","Name"]},"functionVersion":"2018-05-29","name":"MutationUpdateSessionDataResolverFn","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/474bf0776ec2164a13191d1a0a9e057154931e4918fea5086f49850d02a5371b.vtl","responseMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/f4a52b72209a9dfa197b5e7367a5c378c5bb86de6e29ddd9e48b49a3fe54b249.vtl"}}}}},"mutationUpdateSessionResolver":{"id":"mutationUpdateSessionResolver","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/mutationUpdateSessionResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"fieldName":"updateSession","kind":"PIPELINE","pipelineConfig":{"functions":[{"Fn::GetAtt":["MutationupdateSessioninit0FunctionMutationupdateSessioninit0FunctionAppSyncFunctionBD59246C","FunctionId"]},{"Fn::GetAtt":["MutationupdateSessionauth0FunctionMutationupdateSessionauth0FunctionAppSyncFunction11D32875","FunctionId"]},{"Fn::GetAtt":["MutationupdateSessionpostAuth0FunctionMutationupdateSessionpostAuth0FunctionAppSyncFunctionA77B449C","FunctionId"]},{"Fn::GetAtt":["MutationUpdateSessionDataResolverFnMutationUpdateSessionDataResolverFnAppSyncFunctionAFE5A94C","FunctionId"]}]},"requestMappingTemplate":{"Fn::Join":["",["$util.qr($ctx.stash.put(\"typeName\", \"Mutation\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"updateSession\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"AMAZON_DYNAMODB\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"\"))\n$util.qr($ctx.stash.put(\"connectionAttributes\", {}))\n$util.qr($ctx.stash.put(\"tableName\", \"",{"Ref":"SessionTableA016F679"},"\"))\n$util.qr($ctx.stash.put(\"adminRoles\", []))\n$util.toJson({})"]]},"responseMappingTemplate":"$util.toJson($ctx.prev.result)","typeName":"Mutation"}}},"MutationdeleteSessionauth0Function":{"id":"MutationdeleteSessionauth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationdeleteSessionauth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Mutation.deleteSession.auth.1.req.vtl":{"id":"Templateresolvers--Mutation.deleteSession.auth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationdeleteSessionauth0Function/Templateresolvers--Mutation.deleteSession.auth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationdeleteSessionauth0Function/Templateresolvers--Mutation.deleteSession.auth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationdeleteSessionauth0Function/Templateresolvers--Mutation.deleteSession.auth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Templateresolvers--Mutation.deleteSession.auth.1.res.vtl":{"id":"Templateresolvers--Mutation.deleteSession.auth.1.res.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationdeleteSessionauth0Function/Templateresolvers--Mutation.deleteSession.auth.1.res.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationdeleteSessionauth0Function/Templateresolvers--Mutation.deleteSession.auth.1.res.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationdeleteSessionauth0Function/Templateresolvers--Mutation.deleteSession.auth.1.res.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"MutationdeleteSessionauth0Function.AppSyncFunction":{"id":"MutationdeleteSessionauth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationdeleteSessionauth0Function/MutationdeleteSessionauth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Fn::GetAtt":["SessionDataSource","Name"]},"functionVersion":"2018-05-29","name":"MutationdeleteSessionauth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/1f5fed297da9c32ae3af922bf3a38ccf23b956078887d16891ec06c20c64722c.vtl","responseMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/a5b1d1bfc2aa63cbae5105a32b4ebe4d3cd8c9d7d98c49c64de3de0a5952b1f6.vtl"}}}}},"MutationdeleteSessionpostAuth0Function":{"id":"MutationdeleteSessionpostAuth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationdeleteSessionpostAuth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Mutation.deleteSession.postAuth.1.req.vtl":{"id":"Templateresolvers--Mutation.deleteSession.postAuth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationdeleteSessionpostAuth0Function/Templateresolvers--Mutation.deleteSession.postAuth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationdeleteSessionpostAuth0Function/Templateresolvers--Mutation.deleteSession.postAuth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationdeleteSessionpostAuth0Function/Templateresolvers--Mutation.deleteSession.postAuth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"MutationdeleteSessionpostAuth0Function.AppSyncFunction":{"id":"MutationdeleteSessionpostAuth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationdeleteSessionpostAuth0Function/MutationdeleteSessionpostAuth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"MutationdeleteSessionpostAuth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/c1721bcd774e27c514d3454b5be4f9bdd094c0161b57ddf053d618e3b0086a77.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"MutationDeleteSessionDataResolverFn":{"id":"MutationDeleteSessionDataResolverFn","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationDeleteSessionDataResolverFn","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Mutation.deleteSession.req.vtl":{"id":"Templateresolvers--Mutation.deleteSession.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationDeleteSessionDataResolverFn/Templateresolvers--Mutation.deleteSession.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationDeleteSessionDataResolverFn/Templateresolvers--Mutation.deleteSession.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationDeleteSessionDataResolverFn/Templateresolvers--Mutation.deleteSession.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Templateresolvers--Mutation.deleteSession.res.vtl":{"id":"Templateresolvers--Mutation.deleteSession.res.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationDeleteSessionDataResolverFn/Templateresolvers--Mutation.deleteSession.res.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationDeleteSessionDataResolverFn/Templateresolvers--Mutation.deleteSession.res.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationDeleteSessionDataResolverFn/Templateresolvers--Mutation.deleteSession.res.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"MutationDeleteSessionDataResolverFn.AppSyncFunction":{"id":"MutationDeleteSessionDataResolverFn.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/MutationDeleteSessionDataResolverFn/MutationDeleteSessionDataResolverFn.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Fn::GetAtt":["SessionDataSource","Name"]},"functionVersion":"2018-05-29","name":"MutationDeleteSessionDataResolverFn","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/4f7907d1209a2c9953a0c053df402c634e359546d70c7cc5c2e8e21ea734880f.vtl","responseMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/f4a52b72209a9dfa197b5e7367a5c378c5bb86de6e29ddd9e48b49a3fe54b249.vtl"}}}}},"mutationDeleteSessionResolver":{"id":"mutationDeleteSessionResolver","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/mutationDeleteSessionResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"fieldName":"deleteSession","kind":"PIPELINE","pipelineConfig":{"functions":[{"Fn::GetAtt":["MutationdeleteSessionauth0FunctionMutationdeleteSessionauth0FunctionAppSyncFunctionB1B47628","FunctionId"]},{"Fn::GetAtt":["MutationdeleteSessionpostAuth0FunctionMutationdeleteSessionpostAuth0FunctionAppSyncFunction3DE3F417","FunctionId"]},{"Fn::GetAtt":["MutationDeleteSessionDataResolverFnMutationDeleteSessionDataResolverFnAppSyncFunctionE6DDD972","FunctionId"]}]},"requestMappingTemplate":{"Fn::Join":["",["$util.qr($ctx.stash.put(\"typeName\", \"Mutation\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"deleteSession\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"AMAZON_DYNAMODB\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"\"))\n$util.qr($ctx.stash.put(\"connectionAttributes\", {}))\n$util.qr($ctx.stash.put(\"tableName\", \"",{"Ref":"SessionTableA016F679"},"\"))\n$util.qr($ctx.stash.put(\"adminRoles\", []))\n$util.toJson({})"]]},"responseMappingTemplate":"$util.toJson($ctx.prev.result)","typeName":"Mutation"}}},"SubscriptiononCreateSessionauth0Function":{"id":"SubscriptiononCreateSessionauth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononCreateSessionauth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Subscription.onCreateSession.auth.1.req.vtl":{"id":"Templateresolvers--Subscription.onCreateSession.auth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononCreateSessionauth0Function/Templateresolvers--Subscription.onCreateSession.auth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononCreateSessionauth0Function/Templateresolvers--Subscription.onCreateSession.auth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononCreateSessionauth0Function/Templateresolvers--Subscription.onCreateSession.auth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"SubscriptiononCreateSessionauth0Function.AppSyncFunction":{"id":"SubscriptiononCreateSessionauth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononCreateSessionauth0Function/SubscriptiononCreateSessionauth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"SubscriptiononCreateSessionauth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/c2b583f47d0079dcef445f6b4940bfab88908e99fd38fe303dcee2102a8af699.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"SubscriptiononCreateSessionpostAuth0Function":{"id":"SubscriptiononCreateSessionpostAuth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononCreateSessionpostAuth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Subscription.onCreateSession.postAuth.1.req.vtl":{"id":"Templateresolvers--Subscription.onCreateSession.postAuth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononCreateSessionpostAuth0Function/Templateresolvers--Subscription.onCreateSession.postAuth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononCreateSessionpostAuth0Function/Templateresolvers--Subscription.onCreateSession.postAuth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononCreateSessionpostAuth0Function/Templateresolvers--Subscription.onCreateSession.postAuth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"SubscriptiononCreateSessionpostAuth0Function.AppSyncFunction":{"id":"SubscriptiononCreateSessionpostAuth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononCreateSessionpostAuth0Function/SubscriptiononCreateSessionpostAuth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"SubscriptiononCreateSessionpostAuth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/c1721bcd774e27c514d3454b5be4f9bdd094c0161b57ddf053d618e3b0086a77.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"SubscriptionOnCreateSessionDataResolverFn":{"id":"SubscriptionOnCreateSessionDataResolverFn","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptionOnCreateSessionDataResolverFn","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Subscription.onCreateSession.req.vtl":{"id":"Templateresolvers--Subscription.onCreateSession.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptionOnCreateSessionDataResolverFn/Templateresolvers--Subscription.onCreateSession.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptionOnCreateSessionDataResolverFn/Templateresolvers--Subscription.onCreateSession.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptionOnCreateSessionDataResolverFn/Templateresolvers--Subscription.onCreateSession.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Templateresolvers--Subscription.onCreateSession.res.vtl":{"id":"Templateresolvers--Subscription.onCreateSession.res.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptionOnCreateSessionDataResolverFn/Templateresolvers--Subscription.onCreateSession.res.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptionOnCreateSessionDataResolverFn/Templateresolvers--Subscription.onCreateSession.res.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptionOnCreateSessionDataResolverFn/Templateresolvers--Subscription.onCreateSession.res.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"SubscriptionOnCreateSessionDataResolverFn.AppSyncFunction":{"id":"SubscriptionOnCreateSessionDataResolverFn.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptionOnCreateSessionDataResolverFn/SubscriptionOnCreateSessionDataResolverFn.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"SubscriptionOnCreateSessionDataResolverFn","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/fe3c43ada4b9d681a5e2312663ef7a73386424d73b73e51f8e2e9d4b50f7c502.vtl","responseMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/e0cff47fb007f0bbf2a4e43ca256d6aa7ec109821769fd79fa7c5e83f0e7f9fc.vtl"}}}}},"subscriptionOnCreateSessionResolver":{"id":"subscriptionOnCreateSessionResolver","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/subscriptionOnCreateSessionResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"fieldName":"onCreateSession","kind":"PIPELINE","pipelineConfig":{"functions":[{"Fn::GetAtt":["SubscriptiononCreateSessionauth0FunctionSubscriptiononCreateSessionauth0FunctionAppSyncFunction94AED2B8","FunctionId"]},{"Fn::GetAtt":["SubscriptiononCreateSessionpostAuth0FunctionSubscriptiononCreateSessionpostAuth0FunctionAppSyncFunctionFEC43344","FunctionId"]},{"Fn::GetAtt":["SubscriptionOnCreateSessionDataResolverFnSubscriptionOnCreateSessionDataResolverFnAppSyncFunction0D5DA3DF","FunctionId"]}]},"requestMappingTemplate":{"Fn::Join":["",["$util.qr($ctx.stash.put(\"typeName\", \"Subscription\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"onCreateSession\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"NONE\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"\"))\n$util.qr($ctx.stash.put(\"connectionAttributes\", {}))\n\n$util.qr($ctx.stash.put(\"adminRoles\", []))\n$util.toJson({})"]]},"responseMappingTemplate":"$util.toJson($ctx.prev.result)","typeName":"Subscription"}}},"SubscriptiononUpdateSessionauth0Function":{"id":"SubscriptiononUpdateSessionauth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononUpdateSessionauth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Subscription.onUpdateSession.auth.1.req.vtl":{"id":"Templateresolvers--Subscription.onUpdateSession.auth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononUpdateSessionauth0Function/Templateresolvers--Subscription.onUpdateSession.auth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononUpdateSessionauth0Function/Templateresolvers--Subscription.onUpdateSession.auth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononUpdateSessionauth0Function/Templateresolvers--Subscription.onUpdateSession.auth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"SubscriptiononUpdateSessionauth0Function.AppSyncFunction":{"id":"SubscriptiononUpdateSessionauth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononUpdateSessionauth0Function/SubscriptiononUpdateSessionauth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"SubscriptiononUpdateSessionauth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/c2b583f47d0079dcef445f6b4940bfab88908e99fd38fe303dcee2102a8af699.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"SubscriptiononUpdateSessionpostAuth0Function":{"id":"SubscriptiononUpdateSessionpostAuth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononUpdateSessionpostAuth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Subscription.onUpdateSession.postAuth.1.req.vtl":{"id":"Templateresolvers--Subscription.onUpdateSession.postAuth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononUpdateSessionpostAuth0Function/Templateresolvers--Subscription.onUpdateSession.postAuth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononUpdateSessionpostAuth0Function/Templateresolvers--Subscription.onUpdateSession.postAuth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononUpdateSessionpostAuth0Function/Templateresolvers--Subscription.onUpdateSession.postAuth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"SubscriptiononUpdateSessionpostAuth0Function.AppSyncFunction":{"id":"SubscriptiononUpdateSessionpostAuth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononUpdateSessionpostAuth0Function/SubscriptiononUpdateSessionpostAuth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"SubscriptiononUpdateSessionpostAuth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/c1721bcd774e27c514d3454b5be4f9bdd094c0161b57ddf053d618e3b0086a77.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"SubscriptionOnUpdateSessionDataResolverFn":{"id":"SubscriptionOnUpdateSessionDataResolverFn","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptionOnUpdateSessionDataResolverFn","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Subscription.onUpdateSession.req.vtl":{"id":"Templateresolvers--Subscription.onUpdateSession.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptionOnUpdateSessionDataResolverFn/Templateresolvers--Subscription.onUpdateSession.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptionOnUpdateSessionDataResolverFn/Templateresolvers--Subscription.onUpdateSession.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptionOnUpdateSessionDataResolverFn/Templateresolvers--Subscription.onUpdateSession.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Templateresolvers--Subscription.onUpdateSession.res.vtl":{"id":"Templateresolvers--Subscription.onUpdateSession.res.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptionOnUpdateSessionDataResolverFn/Templateresolvers--Subscription.onUpdateSession.res.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptionOnUpdateSessionDataResolverFn/Templateresolvers--Subscription.onUpdateSession.res.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptionOnUpdateSessionDataResolverFn/Templateresolvers--Subscription.onUpdateSession.res.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"SubscriptionOnUpdateSessionDataResolverFn.AppSyncFunction":{"id":"SubscriptionOnUpdateSessionDataResolverFn.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptionOnUpdateSessionDataResolverFn/SubscriptionOnUpdateSessionDataResolverFn.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"SubscriptionOnUpdateSessionDataResolverFn","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/fe3c43ada4b9d681a5e2312663ef7a73386424d73b73e51f8e2e9d4b50f7c502.vtl","responseMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/e0cff47fb007f0bbf2a4e43ca256d6aa7ec109821769fd79fa7c5e83f0e7f9fc.vtl"}}}}},"subscriptionOnUpdateSessionResolver":{"id":"subscriptionOnUpdateSessionResolver","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/subscriptionOnUpdateSessionResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"fieldName":"onUpdateSession","kind":"PIPELINE","pipelineConfig":{"functions":[{"Fn::GetAtt":["SubscriptiononUpdateSessionauth0FunctionSubscriptiononUpdateSessionauth0FunctionAppSyncFunction9F389E34","FunctionId"]},{"Fn::GetAtt":["SubscriptiononUpdateSessionpostAuth0FunctionSubscriptiononUpdateSessionpostAuth0FunctionAppSyncFunctionA9AE4CCC","FunctionId"]},{"Fn::GetAtt":["SubscriptionOnUpdateSessionDataResolverFnSubscriptionOnUpdateSessionDataResolverFnAppSyncFunction0EEAB453","FunctionId"]}]},"requestMappingTemplate":{"Fn::Join":["",["$util.qr($ctx.stash.put(\"typeName\", \"Subscription\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"onUpdateSession\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"NONE\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"\"))\n$util.qr($ctx.stash.put(\"connectionAttributes\", {}))\n\n$util.qr($ctx.stash.put(\"adminRoles\", []))\n$util.toJson({})"]]},"responseMappingTemplate":"$util.toJson($ctx.prev.result)","typeName":"Subscription"}}},"SubscriptiononDeleteSessionauth0Function":{"id":"SubscriptiononDeleteSessionauth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononDeleteSessionauth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Subscription.onDeleteSession.auth.1.req.vtl":{"id":"Templateresolvers--Subscription.onDeleteSession.auth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononDeleteSessionauth0Function/Templateresolvers--Subscription.onDeleteSession.auth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononDeleteSessionauth0Function/Templateresolvers--Subscription.onDeleteSession.auth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononDeleteSessionauth0Function/Templateresolvers--Subscription.onDeleteSession.auth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"SubscriptiononDeleteSessionauth0Function.AppSyncFunction":{"id":"SubscriptiononDeleteSessionauth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononDeleteSessionauth0Function/SubscriptiononDeleteSessionauth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"SubscriptiononDeleteSessionauth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/c2b583f47d0079dcef445f6b4940bfab88908e99fd38fe303dcee2102a8af699.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"SubscriptiononDeleteSessionpostAuth0Function":{"id":"SubscriptiononDeleteSessionpostAuth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononDeleteSessionpostAuth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Subscription.onDeleteSession.postAuth.1.req.vtl":{"id":"Templateresolvers--Subscription.onDeleteSession.postAuth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononDeleteSessionpostAuth0Function/Templateresolvers--Subscription.onDeleteSession.postAuth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononDeleteSessionpostAuth0Function/Templateresolvers--Subscription.onDeleteSession.postAuth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononDeleteSessionpostAuth0Function/Templateresolvers--Subscription.onDeleteSession.postAuth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"SubscriptiononDeleteSessionpostAuth0Function.AppSyncFunction":{"id":"SubscriptiononDeleteSessionpostAuth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptiononDeleteSessionpostAuth0Function/SubscriptiononDeleteSessionpostAuth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"SubscriptiononDeleteSessionpostAuth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/c1721bcd774e27c514d3454b5be4f9bdd094c0161b57ddf053d618e3b0086a77.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"SubscriptionOnDeleteSessionDataResolverFn":{"id":"SubscriptionOnDeleteSessionDataResolverFn","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptionOnDeleteSessionDataResolverFn","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Subscription.onDeleteSession.req.vtl":{"id":"Templateresolvers--Subscription.onDeleteSession.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptionOnDeleteSessionDataResolverFn/Templateresolvers--Subscription.onDeleteSession.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptionOnDeleteSessionDataResolverFn/Templateresolvers--Subscription.onDeleteSession.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptionOnDeleteSessionDataResolverFn/Templateresolvers--Subscription.onDeleteSession.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Templateresolvers--Subscription.onDeleteSession.res.vtl":{"id":"Templateresolvers--Subscription.onDeleteSession.res.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptionOnDeleteSessionDataResolverFn/Templateresolvers--Subscription.onDeleteSession.res.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptionOnDeleteSessionDataResolverFn/Templateresolvers--Subscription.onDeleteSession.res.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptionOnDeleteSessionDataResolverFn/Templateresolvers--Subscription.onDeleteSession.res.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"SubscriptionOnDeleteSessionDataResolverFn.AppSyncFunction":{"id":"SubscriptionOnDeleteSessionDataResolverFn.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/SubscriptionOnDeleteSessionDataResolverFn/SubscriptionOnDeleteSessionDataResolverFn.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"SubscriptionOnDeleteSessionDataResolverFn","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/fe3c43ada4b9d681a5e2312663ef7a73386424d73b73e51f8e2e9d4b50f7c502.vtl","responseMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/e0cff47fb007f0bbf2a4e43ca256d6aa7ec109821769fd79fa7c5e83f0e7f9fc.vtl"}}}}},"subscriptionOnDeleteSessionResolver":{"id":"subscriptionOnDeleteSessionResolver","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/subscriptionOnDeleteSessionResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"fieldName":"onDeleteSession","kind":"PIPELINE","pipelineConfig":{"functions":[{"Fn::GetAtt":["SubscriptiononDeleteSessionauth0FunctionSubscriptiononDeleteSessionauth0FunctionAppSyncFunction1F2F60AB","FunctionId"]},{"Fn::GetAtt":["SubscriptiononDeleteSessionpostAuth0FunctionSubscriptiononDeleteSessionpostAuth0FunctionAppSyncFunction283CDC82","FunctionId"]},{"Fn::GetAtt":["SubscriptionOnDeleteSessionDataResolverFnSubscriptionOnDeleteSessionDataResolverFnAppSyncFunction95502D3A","FunctionId"]}]},"requestMappingTemplate":{"Fn::Join":["",["$util.qr($ctx.stash.put(\"typeName\", \"Subscription\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"onDeleteSession\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"NONE\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"\"))\n$util.qr($ctx.stash.put(\"connectionAttributes\", {}))\n\n$util.qr($ctx.stash.put(\"adminRoles\", []))\n$util.toJson({})"]]},"responseMappingTemplate":"$util.toJson($ctx.prev.result)","typeName":"Subscription"}}},"CDKMetadata":{"id":"CDKMetadata","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}},"reference-to-devbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId":{"id":"reference-to-devbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/reference-to-devbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"reference-to-devbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name":{"id":"reference-to-devbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name","path":"dev/backend/streamingApi/amplifiedGraphApi/Session/reference-to-devbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}}}},"Session.NestedStack":{"id":"Session.NestedStack","path":"dev/backend/streamingApi/amplifiedGraphApi/Session.NestedStack","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Session.NestedStackResource":{"id":"Session.NestedStackResource","path":"dev/backend/streamingApi/amplifiedGraphApi/Session.NestedStack/Session.NestedStackResource","constructInfo":{"fqn":"aws-cdk-lib.CfnStack","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFormation::Stack","aws:cdk:cloudformation:props":{"parameters":{"DynamoDBModelTableReadIOPS":{"Ref":"DynamoDBModelTableReadIOPS"},"DynamoDBModelTableWriteIOPS":{"Ref":"DynamoDBModelTableWriteIOPS"},"DynamoDBBillingMode":{"Ref":"DynamoDBBillingMode"},"DynamoDBEnablePointInTimeRecovery":{"Ref":"DynamoDBEnablePointInTimeRecovery"},"DynamoDBEnableServerSideEncryption":{"Ref":"DynamoDBEnableServerSideEncryption"},"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId":{"Fn::GetAtt":["streamingApiamplifiedGraphApiGraphQLAPI03514468","ApiId"]},"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name":{"Fn::GetAtt":["streamingApiamplifiedGraphApiGraphQLAPINONEDS2632E257","Name"]}},"templateUrl":{"Fn::Join":["",["https://s3.us-east-1.",{"Ref":"AWS::URLSuffix"},"/cdk-hnb659fds-assets-024230653186-us-east-1/0c0c80248d7c38fb9f612449406248621cae24f94deeeb638cc8c45a207135bc.json"]]}}}}}},"ConnectionStack":{"id":"ConnectionStack","path":"dev/backend/streamingApi/amplifiedGraphApi/ConnectionStack","constructInfo":{"fqn":"aws-cdk-lib.NestedStack","version":"2.230.0"},"children":{"Sessionchatsauth0Function":{"id":"Sessionchatsauth0Function","path":"dev/backend/streamingApi/amplifiedGraphApi/ConnectionStack/Sessionchatsauth0Function","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Session.chats.auth.1.req.vtl":{"id":"Templateresolvers--Session.chats.auth.1.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/ConnectionStack/Sessionchatsauth0Function/Templateresolvers--Session.chats.auth.1.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/ConnectionStack/Sessionchatsauth0Function/Templateresolvers--Session.chats.auth.1.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/ConnectionStack/Sessionchatsauth0Function/Templateresolvers--Session.chats.auth.1.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Sessionchatsauth0Function.AppSyncFunction":{"id":"Sessionchatsauth0Function.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/ConnectionStack/Sessionchatsauth0Function/Sessionchatsauth0Function.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name"},"functionVersion":"2018-05-29","name":"Sessionchatsauth0Function","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/edfa2ebd5a4907b6ec271a0e9d8e492b6caa888be6d8fa73551d2cfa175adb00.vtl","responseMappingTemplate":"$util.toJson({})"}}}}},"SessionChatsDataResolverFn":{"id":"SessionChatsDataResolverFn","path":"dev/backend/streamingApi/amplifiedGraphApi/ConnectionStack/SessionChatsDataResolverFn","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Templateresolvers--Session.chats.req.vtl":{"id":"Templateresolvers--Session.chats.req.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/ConnectionStack/SessionChatsDataResolverFn/Templateresolvers--Session.chats.req.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/ConnectionStack/SessionChatsDataResolverFn/Templateresolvers--Session.chats.req.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/ConnectionStack/SessionChatsDataResolverFn/Templateresolvers--Session.chats.req.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Templateresolvers--Session.chats.res.vtl":{"id":"Templateresolvers--Session.chats.res.vtl","path":"dev/backend/streamingApi/amplifiedGraphApi/ConnectionStack/SessionChatsDataResolverFn/Templateresolvers--Session.chats.res.vtl","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/ConnectionStack/SessionChatsDataResolverFn/Templateresolvers--Session.chats.res.vtl/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/ConnectionStack/SessionChatsDataResolverFn/Templateresolvers--Session.chats.res.vtl/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"SessionChatsDataResolverFn.AppSyncFunction":{"id":"SessionChatsDataResolverFn.AppSyncFunction","path":"dev/backend/streamingApi/amplifiedGraphApi/ConnectionStack/SessionChatsDataResolverFn/SessionChatsDataResolverFn.AppSyncFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnFunctionConfiguration","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::FunctionConfiguration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"dataSourceName":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiChatNestedStackChatNestedStackResourceBC8726E5OutputsdevbackendstreamingApiamplifiedGraphApiChatChatDataSource1B749518Name"},"functionVersion":"2018-05-29","name":"SessionChatsDataResolverFn","requestMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/8ef5b9d52ad6f995a92c78053e67b0268236c22181c641e108297ddf9ec1bda0.vtl","responseMappingTemplateS3Location":"s3://cdk-hnb659fds-assets-024230653186-us-east-1/49e7a1f2fb4c809b82bed6b0242a2a3bcfa2c5276ebd2539ff330fee36f8fe18.vtl"}}}}},"sessionChatsResolver":{"id":"sessionChatsResolver","path":"dev/backend/streamingApi/amplifiedGraphApi/ConnectionStack/sessionChatsResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"fieldName":"chats","kind":"PIPELINE","pipelineConfig":{"functions":[{"Fn::GetAtt":["Sessionchatsauth0FunctionSessionchatsauth0FunctionAppSyncFunctionEF9E8200","FunctionId"]},{"Fn::GetAtt":["SessionChatsDataResolverFnSessionChatsDataResolverFnAppSyncFunction792EC670","FunctionId"]}]},"requestMappingTemplate":{"Fn::Join":["",["$util.qr($ctx.stash.put(\"typeName\", \"Session\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"chats\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"AMAZON_DYNAMODB\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId"},"\"))\n$util.qr($ctx.stash.put(\"connectionAttributes\", {}))\n$util.qr($ctx.stash.put(\"tableName\", \"",{"Ref":"referencetodevbackendstreamingApiamplifiedGraphApiChatNestedStackChatNestedStackResourceBC8726E5OutputsdevbackendstreamingApiamplifiedGraphApiChatChatTableB99F1016Ref"},"\"))\n$util.qr($ctx.stash.put(\"adminRoles\", []))\n$util.toJson({})"]]},"responseMappingTemplate":"$util.toJson($ctx.prev.result)","typeName":"Session"}}},"CDKMetadata":{"id":"CDKMetadata","path":"dev/backend/streamingApi/amplifiedGraphApi/ConnectionStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"dev/backend/streamingApi/amplifiedGraphApi/ConnectionStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}},"reference-to-devbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId":{"id":"reference-to-devbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId","path":"dev/backend/streamingApi/amplifiedGraphApi/ConnectionStack/reference-to-devbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"reference-to-devbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name":{"id":"reference-to-devbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name","path":"dev/backend/streamingApi/amplifiedGraphApi/ConnectionStack/reference-to-devbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"reference-to-devbackendstreamingApiamplifiedGraphApiChatNestedStackChatNestedStackResourceBC8726E5Outputs.devbackendstreamingApiamplifiedGraphApiChatChatDataSource1B749518Name":{"id":"reference-to-devbackendstreamingApiamplifiedGraphApiChatNestedStackChatNestedStackResourceBC8726E5Outputs.devbackendstreamingApiamplifiedGraphApiChatChatDataSource1B749518Name","path":"dev/backend/streamingApi/amplifiedGraphApi/ConnectionStack/reference-to-devbackendstreamingApiamplifiedGraphApiChatNestedStackChatNestedStackResourceBC8726E5Outputs.devbackendstreamingApiamplifiedGraphApiChatChatDataSource1B749518Name","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"reference-to-devbackendstreamingApiamplifiedGraphApiChatNestedStackChatNestedStackResourceBC8726E5Outputs.devbackendstreamingApiamplifiedGraphApiChatChatTableB99F1016Ref":{"id":"reference-to-devbackendstreamingApiamplifiedGraphApiChatNestedStackChatNestedStackResourceBC8726E5Outputs.devbackendstreamingApiamplifiedGraphApiChatChatTableB99F1016Ref","path":"dev/backend/streamingApi/amplifiedGraphApi/ConnectionStack/reference-to-devbackendstreamingApiamplifiedGraphApiChatNestedStackChatNestedStackResourceBC8726E5Outputs.devbackendstreamingApiamplifiedGraphApiChatChatTableB99F1016Ref","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}}}},"ConnectionStack.NestedStack":{"id":"ConnectionStack.NestedStack","path":"dev/backend/streamingApi/amplifiedGraphApi/ConnectionStack.NestedStack","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"ConnectionStack.NestedStackResource":{"id":"ConnectionStack.NestedStackResource","path":"dev/backend/streamingApi/amplifiedGraphApi/ConnectionStack.NestedStack/ConnectionStack.NestedStackResource","constructInfo":{"fqn":"aws-cdk-lib.CfnStack","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFormation::Stack","aws:cdk:cloudformation:props":{"parameters":{"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPIAAF1A898ApiId":{"Fn::GetAtt":["streamingApiamplifiedGraphApiGraphQLAPI03514468","ApiId"]},"referencetodevbackendstreamingApiamplifiedGraphApiGraphQLAPINONEDS6ECB38D4Name":{"Fn::GetAtt":["streamingApiamplifiedGraphApiGraphQLAPINONEDS2632E257","Name"]},"referencetodevbackendstreamingApiamplifiedGraphApiChatNestedStackChatNestedStackResourceBC8726E5OutputsdevbackendstreamingApiamplifiedGraphApiChatChatDataSource1B749518Name":{"Fn::GetAtt":["streamingApiamplifiedGraphApiChatNestedStackChatNestedStackResourceC2572B4A","Outputs.devbackendstreamingApiamplifiedGraphApiChatChatDataSource1B749518Name"]},"referencetodevbackendstreamingApiamplifiedGraphApiChatNestedStackChatNestedStackResourceBC8726E5OutputsdevbackendstreamingApiamplifiedGraphApiChatChatTableB99F1016Ref":{"Fn::GetAtt":["streamingApiamplifiedGraphApiChatNestedStackChatNestedStackResourceC2572B4A","Outputs.devbackendstreamingApiamplifiedGraphApiChatChatTableB99F1016Ref"]}},"templateUrl":{"Fn::Join":["",["https://s3.us-east-1.",{"Ref":"AWS::URLSuffix"},"/cdk-hnb659fds-assets-024230653186-us-east-1/eec882069210ef9d2aff048df315f297e27636a301186d828943779078ecf8fe.json"]]}}}}}},"AmplifyCodegenAssets":{"id":"AmplifyCodegenAssets","path":"dev/backend/streamingApi/amplifiedGraphApi/AmplifyCodegenAssets","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"AmplifyCodegenAssetsBucket":{"id":"AmplifyCodegenAssetsBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/AmplifyCodegenAssets/AmplifyCodegenAssetsBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/streamingApi/amplifiedGraphApi/AmplifyCodegenAssets/AmplifyCodegenAssetsBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"corsConfiguration":{"corsRules":[{"allowedHeaders":["*"],"allowedMethods":["GET","HEAD"],"allowedOrigins":[{"Fn::Join":["",["https://",{"Ref":"AWS::Region"},".console.aws.amazon.com/amplify"]]}]}]},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"},{"key":"aws-cdk:cr-owned:e8d9ed9e","value":"true"}]}}},"Policy":{"id":"Policy","path":"dev/backend/streamingApi/amplifiedGraphApi/AmplifyCodegenAssets/AmplifyCodegenAssetsBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/streamingApi/amplifiedGraphApi/AmplifyCodegenAssets/AmplifyCodegenAssetsBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"streamingApiamplifiedGraphApiAmplifyCodegenAssetsAmplifyCodegenAssetsBucket37B762E4"},"policyDocument":{"Statement":[{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["streamingApiamplifiedGraphApiAmplifyCodegenAssetsAmplifyCodegenAssetsBucket37B762E4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["streamingApiamplifiedGraphApiAmplifyCodegenAssetsAmplifyCodegenAssetsBucket37B762E4","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"dev/backend/streamingApi/amplifiedGraphApi/AmplifyCodegenAssets/AmplifyCodegenAssetsBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.230.0","metadata":[]},"children":{"Default":{"id":"Default","path":"dev/backend/streamingApi/amplifiedGraphApi/AmplifyCodegenAssets/AmplifyCodegenAssetsBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}}}},"AmplifyCodegenAssetsDeployment":{"id":"AmplifyCodegenAssetsDeployment","path":"dev/backend/streamingApi/amplifiedGraphApi/AmplifyCodegenAssets/AmplifyCodegenAssetsDeployment","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_deployment.BucketDeployment","version":"2.230.0"},"children":{"AwsCliLayer":{"id":"AwsCliLayer","path":"dev/backend/streamingApi/amplifiedGraphApi/AmplifyCodegenAssets/AmplifyCodegenAssetsDeployment/AwsCliLayer","constructInfo":{"fqn":"aws-cdk-lib.lambda_layer_awscli.AwsCliLayer","version":"2.230.0","metadata":[]},"children":{"Code":{"id":"Code","path":"dev/backend/streamingApi/amplifiedGraphApi/AmplifyCodegenAssets/AmplifyCodegenAssetsDeployment/AwsCliLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/AmplifyCodegenAssets/AmplifyCodegenAssetsDeployment/AwsCliLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/AmplifyCodegenAssets/AmplifyCodegenAssetsDeployment/AwsCliLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"dev/backend/streamingApi/amplifiedGraphApi/AmplifyCodegenAssets/AmplifyCodegenAssetsDeployment/AwsCliLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"content":{"s3Bucket":"cdk-hnb659fds-assets-024230653186-us-east-1","s3Key":"c49d356cac773d491c5f7ac148995a1181498a8e289429f8612a7f7e3814f535.zip"},"description":"/opt/awscli/aws"}}}}},"CustomResourceHandler":{"id":"CustomResourceHandler","path":"dev/backend/streamingApi/amplifiedGraphApi/AmplifyCodegenAssets/AmplifyCodegenAssetsDeployment/CustomResourceHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.230.0","metadata":[]}},"Asset1":{"id":"Asset1","path":"dev/backend/streamingApi/amplifiedGraphApi/AmplifyCodegenAssets/AmplifyCodegenAssetsDeployment/Asset1","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/amplifiedGraphApi/AmplifyCodegenAssets/AmplifyCodegenAssetsDeployment/Asset1/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/AmplifyCodegenAssets/AmplifyCodegenAssetsDeployment/Asset1/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"CustomResource-1536MiB":{"id":"CustomResource-1536MiB","path":"dev/backend/streamingApi/amplifiedGraphApi/AmplifyCodegenAssets/AmplifyCodegenAssetsDeployment/CustomResource-1536MiB","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.230.0","metadata":[]},"children":{"Default":{"id":"Default","path":"dev/backend/streamingApi/amplifiedGraphApi/AmplifyCodegenAssets/AmplifyCodegenAssetsDeployment/CustomResource-1536MiB/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}},"DestinationBucket":{"id":"DestinationBucket","path":"dev/backend/streamingApi/amplifiedGraphApi/AmplifyCodegenAssets/AmplifyCodegenAssetsDeployment/DestinationBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}}}},"L2GraphqlApi":{"id":"L2GraphqlApi","path":"dev/backend/streamingApi/amplifiedGraphApi/L2GraphqlApi","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.GraphqlApiBase","version":"2.230.0","metadata":[]},"children":{"lambdaDataSource":{"id":"lambdaDataSource","path":"dev/backend/streamingApi/amplifiedGraphApi/L2GraphqlApi/lambdaDataSource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.LambdaDataSource","version":"2.230.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"dev/backend/streamingApi/amplifiedGraphApi/L2GraphqlApi/lambdaDataSource/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"dev/backend/streamingApi/amplifiedGraphApi/L2GraphqlApi/lambdaDataSource/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/streamingApi/amplifiedGraphApi/L2GraphqlApi/lambdaDataSource/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev/backend/streamingApi/amplifiedGraphApi/L2GraphqlApi/lambdaDataSource/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/streamingApi/amplifiedGraphApi/L2GraphqlApi/lambdaDataSource/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["streamingApiresolverFunction4F5304E6","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["streamingApiresolverFunction4F5304E6","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"streamingApiamplifiedGraphApiL2GraphqlApilambdaDataSourceServiceRoleDefaultPolicy8CA834DF","roles":[{"Ref":"streamingApiamplifiedGraphApiL2GraphqlApilambdaDataSourceServiceRoleEC41D915"}]}}}}}}},"Resource":{"id":"Resource","path":"dev/backend/streamingApi/amplifiedGraphApi/L2GraphqlApi/lambdaDataSource/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["streamingApiamplifiedGraphApiGraphQLAPI03514468","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::GetAtt":["streamingApiresolverFunction4F5304E6","Arn"]}},"name":"lambdaDataSource","serviceRoleArn":{"Fn::GetAtt":["streamingApiamplifiedGraphApiL2GraphqlApilambdaDataSourceServiceRoleEC41D915","Arn"]},"type":"AWS_LAMBDA"}}}}},"resolver":{"id":"resolver","path":"dev/backend/streamingApi/amplifiedGraphApi/L2GraphqlApi/resolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.230.0"},"children":{"Resource":{"id":"Resource","path":"dev/backend/streamingApi/amplifiedGraphApi/L2GraphqlApi/resolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["streamingApiamplifiedGraphApiGraphQLAPI03514468","ApiId"]},"dataSourceName":"lambdaDataSource","fieldName":"sendChat","kind":"UNIT","requestMappingTemplate":"{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}","responseMappingTemplate":"$util.toJson($ctx.result)","typeName":"Mutation"}}}}}}}}},"resolverFunction":{"id":"resolverFunction","path":"dev/backend/streamingApi/resolverFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.230.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"dev/backend/streamingApi/resolverFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"dev/backend/streamingApi/resolverFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/streamingApi/resolverFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev/backend/streamingApi/resolverFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/streamingApi/resolverFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"bedrock:InvokeAgent","Effect":"Allow","Resource":[{"Fn::GetAtt":["wakamateMultiAgentalias753F4400","AgentAliasArn"]},{"Fn::GetAtt":["wakamateMultiAgentsupervisorAgentAgentResource96FF0CF0","AgentArn"]}]},{"Action":"appsync:GraphQL","Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:appsync:us-east-1:024230653186:apis/",{"Fn::GetAtt":["streamingApiamplifiedGraphApiGraphQLAPI03514468","ApiId"]},"/types/Mutation/*"]]},{"Fn::Join":["",["arn:aws:appsync:us-east-1:024230653186:apis/",{"Fn::GetAtt":["streamingApiamplifiedGraphApiGraphQLAPI03514468","ApiId"]},"/types/Query/*"]]}]}],"Version":"2012-10-17"},"policyName":"streamingApiresolverFunctionServiceRoleDefaultPolicy8CCB5087","roles":[{"Ref":"streamingApiresolverFunctionServiceRole48F28470"}]}}}}}}},"Code":{"id":"Code","path":"dev/backend/streamingApi/resolverFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/streamingApi/resolverFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/streamingApi/resolverFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"dev/backend/streamingApi/resolverFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"architectures":["x86_64"],"code":{"s3Bucket":"cdk-hnb659fds-assets-024230653186-us-east-1","s3Key":"c398256e3a1816278b933d9bd831aaf426a705433e56cd8ebc798ba5d4a6412f.zip"},"environment":{"variables":{"GRAPH_API_URL":{"Fn::GetAtt":["streamingApiamplifiedGraphApiGraphQLAPI03514468","GraphQLUrl"]},"AGENT_ID":{"Fn::GetAtt":["wakamateMultiAgentsupervisorAgentAgentResource96FF0CF0","AgentId"]},"AGENT_ALIAS_ID":{"Fn::GetAtt":["wakamateMultiAgentalias753F4400","AgentAliasId"]}}},"handler":"index.handler","memorySize":1024,"role":{"Fn::GetAtt":["streamingApiresolverFunctionServiceRole48F28470","Arn"]},"runtime":"nodejs22.x","timeout":300}}},"LogRetention":{"id":"LogRetention","path":"dev/backend/streamingApi/resolverFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.230.0"},"children":{"Resource":{"id":"Resource","path":"dev/backend/streamingApi/resolverFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}},"LogGroup":{"id":"LogGroup","path":"dev/backend/streamingApi/resolverFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}}}},"graphApiWebAclAssociation":{"id":"graphApiWebAclAssociation","path":"dev/backend/streamingApi/graphApiWebAclAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_wafv2.CfnWebACLAssociation","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::WAFv2::WebACLAssociation","aws:cdk:cloudformation:props":{"resourceArn":{"Fn::GetAtt":["streamingApiamplifiedGraphApiGraphQLAPI03514468","Arn"]},"webAclArn":{"Fn::GetAtt":["authregionalWebAcl26CB3F94","Arn"]}}}}}},"DynamoDBModelTableReadIOPS":{"id":"DynamoDBModelTableReadIOPS","path":"dev/backend/DynamoDBModelTableReadIOPS","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"DynamoDBModelTableWriteIOPS":{"id":"DynamoDBModelTableWriteIOPS","path":"dev/backend/DynamoDBModelTableWriteIOPS","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"DynamoDBBillingMode":{"id":"DynamoDBBillingMode","path":"dev/backend/DynamoDBBillingMode","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"DynamoDBEnablePointInTimeRecovery":{"id":"DynamoDBEnablePointInTimeRecovery","path":"dev/backend/DynamoDBEnablePointInTimeRecovery","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"DynamoDBEnableServerSideEncryption":{"id":"DynamoDBEnableServerSideEncryption","path":"dev/backend/DynamoDBEnableServerSideEncryption","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C1536MiB":{"id":"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C1536MiB","path":"dev/backend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C1536MiB","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.230.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"dev/backend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C1536MiB/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"dev/backend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C1536MiB/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"dev/backend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C1536MiB/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev/backend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C1536MiB/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"dev/backend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C1536MiB/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":["arn:aws:s3:::cdk-hnb659fds-assets-024230653186-us-east-1","arn:aws:s3:::cdk-hnb659fds-assets-024230653186-us-east-1/*"]},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["streamingApiamplifiedGraphApiAmplifyCodegenAssetsAmplifyCodegenAssetsBucket37B762E4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["streamingApiamplifiedGraphApiAmplifyCodegenAssetsAmplifyCodegenAssetsBucket37B762E4","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C1536MiBServiceRoleDefaultPolicyFF1C635B","roles":[{"Ref":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C1536MiBServiceRoleA41FC8C2"}]}}}}}}},"Code":{"id":"Code","path":"dev/backend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C1536MiB/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"dev/backend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C1536MiB/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev/backend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C1536MiB/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"dev/backend/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C1536MiB/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-024230653186-us-east-1","s3Key":"3423a042b818e31c1e34a19d6689ab2e5f9b70fcbe9e71df66f241b20a200bd9.zip"},"environment":{"variables":{"AWS_CA_BUNDLE":"/etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem"}},"handler":"index.handler","layers":[{"Ref":"streamingApiamplifiedGraphApiAmplifyCodegenAssetsAmplifyCodegenAssetsDeploymentAwsCliLayerB00BC037"}],"memorySize":1536,"role":{"Fn::GetAtt":["CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C1536MiBServiceRoleA41FC8C2","Arn"]},"runtime":"python3.13","timeout":900}}}}},"awsAppsyncApiId":{"id":"awsAppsyncApiId","path":"dev/backend/awsAppsyncApiId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.230.0"}},"awsAppsyncApiEndpoint":{"id":"awsAppsyncApiEndpoint","path":"dev/backend/awsAppsyncApiEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.230.0"}},"awsAppsyncAuthenticationType":{"id":"awsAppsyncAuthenticationType","path":"dev/backend/awsAppsyncAuthenticationType","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.230.0"}},"awsAppsyncRegion":{"id":"awsAppsyncRegion","path":"dev/backend/awsAppsyncRegion","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.230.0"}},"amplifyApiModelSchemaS3Uri":{"id":"amplifyApiModelSchemaS3Uri","path":"dev/backend/amplifyApiModelSchemaS3Uri","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.230.0"}},"awsAppsyncAdditionalAuthenticationTypes":{"id":"awsAppsyncAdditionalAuthenticationTypes","path":"dev/backend/awsAppsyncAdditionalAuthenticationTypes","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.230.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"dev/backend/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"dev/backend/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"dev/backend/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"dev/backend/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.230.0"}}}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"}}}}}